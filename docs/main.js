/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={9669:(e,t,n)=>{e.exports=n(1609)},5448:(e,t,n)=>{"use strict";var r=n(4867),s=n(6026),o=n(4372),i=n(5327),a=n(4097),c=n(4109),l=n(7985),u=n(5061),d=n(7874),h=n(5263);e.exports=function(e){return new Promise((function(t,n){var p,f=e.data,g=e.headers,m=e.responseType;function b(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}r.isFormData(f)&&delete g["Content-Type"];var v=new XMLHttpRequest;if(e.auth){var w=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(w+":"+_)}var y=a(e.baseURL,e.url);function S(){if(v){var r="getAllResponseHeaders"in v?c(v.getAllResponseHeaders()):null,o={data:m&&"text"!==m&&"json"!==m?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:r,config:e,request:v};s((function(e){t(e),b()}),(function(e){n(e),b()}),o),v=null}}if(v.open(e.method.toUpperCase(),i(y,e.params,e.paramsSerializer),!0),v.timeout=e.timeout,"onloadend"in v?v.onloadend=S:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(S)},v.onabort=function(){v&&(n(u("Request aborted",e,"ECONNABORTED",v)),v=null)},v.onerror=function(){n(u("Network Error",e,null,v)),v=null},v.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||d;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",v)),v=null},r.isStandardBrowserEnv()){var E=(e.withCredentials||l(y))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;E&&(g[e.xsrfHeaderName]=E)}"setRequestHeader"in v&&r.forEach(g,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete g[t]:v.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(v.withCredentials=!!e.withCredentials),m&&"json"!==m&&(v.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&v.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&v.upload&&v.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){v&&(n(!e||e&&e.type?new h("canceled"):e),v.abort(),v=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),f||(f=null),v.send(f)}))}},1609:(e,t,n)=>{"use strict";var r=n(4867),s=n(1849),o=n(321),i=n(7185),a=function e(t){var n=new o(t),a=s(o.prototype.request,n);return r.extend(a,o.prototype,n),r.extend(a,n),a.create=function(n){return e(i(t,n))},a}(n(5546));a.Axios=o,a.Cancel=n(5263),a.CancelToken=n(4972),a.isCancel=n(6502),a.VERSION=n(7288).version,a.all=function(e){return Promise.all(e)},a.spread=n(8713),a.isAxiosError=n(6268),e.exports=a,e.exports.default=a},5263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4972:(e,t,n)=>{"use strict";var r=n(5263);function s(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}s.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},s.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},s.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},s.source=function(){var e;return{token:new s((function(t){e=t})),cancel:e}},e.exports=s},6502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,n)=>{"use strict";var r=n(4867),s=n(5327),o=n(782),i=n(3572),a=n(7185),c=n(4875),l=c.validators;function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!s){var d=[i,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(u),o=Promise.resolve(t);d.length;)o=o.then(d.shift(),d.shift());return o}for(var h=t;r.length;){var p=r.shift(),f=r.shift();try{h=p(h)}catch(e){f(e);break}}try{o=i(h)}catch(e){return Promise.reject(e)}for(;u.length;)o=o.then(u.shift(),u.shift());return o},u.prototype.getUri=function(e){return e=a(this.defaults,e),s(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=u},782:(e,t,n)=>{"use strict";var r=n(4867);function s(){this.handlers=[]}s.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},s.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},s.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=s},4097:(e,t,n)=>{"use strict";var r=n(1793),s=n(7303);e.exports=function(e,t){return e&&!r(t)?s(e,t):t}},5061:(e,t,n)=>{"use strict";var r=n(481);e.exports=function(e,t,n,s,o){var i=new Error(e);return r(i,t,n,s,o)}},3572:(e,t,n)=>{"use strict";var r=n(4867),s=n(8527),o=n(6502),i=n(5546),a=n(5263);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=s.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return c(e),t.data=s.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=s.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,n,r,s){return e.config=t,n&&(e.code=n),e.request=r,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},7185:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){t=t||{};var n={};function s(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:s(void 0,e[n]):s(e[n],t[n])}function i(e){if(!r.isUndefined(t[e]))return s(void 0,t[e])}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:s(void 0,e[n]):s(void 0,t[n])}function c(n){return n in t?s(e[n],t[n]):n in e?s(void 0,e[n]):void 0}var l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=l[e]||o,s=t(e);r.isUndefined(s)&&t!==c||(n[e]=s)})),n}},6026:(e,t,n)=>{"use strict";var r=n(5061);e.exports=function(e,t,n){var s=n.config.validateStatus;n.status&&s&&!s(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},8527:(e,t,n)=>{"use strict";var r=n(4867),s=n(5546);e.exports=function(e,t,n){var o=this||s;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},5546:(e,t,n)=>{"use strict";var r=n(4867),s=n(6016),o=n(481),i=n(7874),a={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,u={transitional:i,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(l=n(5448)),l),transformRequest:[function(e,t){return s(t,"Accept"),s(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(c(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(0,JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,n=t&&t.silentJSONParsing,s=t&&t.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||s&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(a)})),e.exports=u},7874:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7288:e=>{e.exports={version:"0.26.1"}},1849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},5327:(e,t,n)=>{"use strict";var r=n(4867);function s(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var i=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),i.push(s(t)+"="+s(e))})))})),o=i.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,n)=>{"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,s,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(s)&&a.push("path="+s),r.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},6268:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},7985:(e,t,n)=>{"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function s(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=s(window.location.href),function(t){var n=r.isString(t)?s(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},6016:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},4109:(e,t,n)=>{"use strict";var r=n(4867),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,i={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(i[t]&&s.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}})),i):i}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},4875:(e,t,n)=>{"use strict";var r=n(7288).version,s={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){s[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};s.transitional=function(e,t,n){function s(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,i){if(!1===e)throw new Error(s(r," has been removed"+(t?" in "+t:"")));return t&&!o[r]&&(o[r]=!0,console.warn(s(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,i)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),s=r.length;s-- >0;){var o=r[s],i=t[o];if(i){var a=e[o],c=void 0===a||i(a,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:s}},4867:(e,t,n)=>{"use strict";var r=n(1849),s=Object.prototype.toString;function o(e){return Array.isArray(e)}function i(e){return void 0===e}function a(e){return"[object ArrayBuffer]"===s.call(e)}function c(e){return null!==e&&"object"==typeof e}function l(e){if("[object Object]"!==s.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===s.call(e)}function d(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}e.exports={isArray:o,isArrayBuffer:a,isBuffer:function(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===s.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&a(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isPlainObject:l,isUndefined:i,isDate:function(e){return"[object Date]"===s.call(e)},isFile:function(e){return"[object File]"===s.call(e)},isBlob:function(e){return"[object Blob]"===s.call(e)},isFunction:u,isStream:function(e){return c(e)&&u(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===s.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:d,merge:function e(){var t={};function n(n,r){l(t[r])&&l(n)?t[r]=e(t[r],n):l(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,s=arguments.length;r<s;r++)d(arguments[r],n);return t},extend:function(e,t,n){return d(t,(function(t,s){e[s]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},6987:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8081),s=n.n(r),o=n(3645),i=n.n(o)()(s());i.push([e.id,".cg-wrap {\n  width: 480px; /* only certain values work... 320 and 480 so far found*/\n  height: 480px;\n  position: relative;\n  display: block;\n}\n\ncg-helper {\n  position: absolute;\n  width: 12.5%;\n  padding-bottom: 12.5%;\n  display: table; /* hack: round to full pixel size in chrome */\n  bottom: 0;\n}\n\ncg-container {\n  position: absolute;\n  width: 800%;\n  height: 800%;\n  display: block;\n  bottom: 0;\n}\n\ncg-board {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  line-height: 0;\n  background-size: cover;\n  cursor: pointer;\n}\ncg-board square {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 12.5%;\n  height: 12.5%;\n  pointer-events: none;\n}\ncg-board square.move-dest {\n  background: radial-gradient(rgba(20, 85, 30, 0.5) 22%, #208530 0, rgba(0, 0, 0, 0.3) 0, rgba(0, 0, 0, 0) 0);\n  pointer-events: auto;\n}\ncg-board square.premove-dest {\n  background: radial-gradient(rgba(20, 30, 85, 0.5) 22%, #203085 0, rgba(0, 0, 0, 0.3) 0, rgba(0, 0, 0, 0) 0);\n}\ncg-board square.oc.move-dest {\n  background: radial-gradient(transparent 0%, transparent 80%, rgba(20, 85, 0, 0.3) 80%);\n}\ncg-board square.oc.premove-dest {\n  background: radial-gradient(transparent 0%, transparent 80%, rgba(20, 30, 85, 0.2) 80%);\n}\ncg-board square.move-dest:hover {\n  background: rgba(20, 85, 30, 0.3);\n}\ncg-board square.premove-dest:hover {\n  background: rgba(20, 30, 85, 0.2);\n}\ncg-board square.last-move {\n  will-change: transform;\n  background-color: rgba(155, 199, 0, 0.41);\n}\ncg-board square.selected {\n  background-color: rgba(20, 85, 30, 0.5);\n}\ncg-board square.check {\n  background: radial-gradient(ellipse at center, rgba(255, 0, 0, 1) 0%, rgba(231, 0, 0, 1) 25%, rgba(169, 0, 0, 0) 89%, rgba(158, 0, 0, 0) 100%);\n}\ncg-board square.current-premove {\n  background-color: rgba(20, 30, 85, 0.5);\n}\n.cg-wrap piece {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 12.5%;\n  height: 12.5%;\n  background-size: cover;\n  z-index: 2;\n  will-change: transform;\n  pointer-events: none;\n}\ncg-board piece.dragging {\n  cursor: move;\n  z-index: 10;\n}\ncg-board piece.anim {\n  z-index: 8;\n}\ncg-board piece.fading {\n  z-index: 1;\n  opacity: 0.5;\n}\n.cg-wrap square.move-dest:hover {\n  background-color: rgba(20, 85, 30, 0.3);\n}\n.cg-wrap piece.ghost {\n  opacity: 0.3;\n}\n.cg-wrap .cg-shapes, .cg-wrap .cg-custom-svgs {\n  overflow: hidden;\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n}\n.cg-wrap .cg-shapes {\n  opacity: 0.6;\n  z-index: 2;\n}\n.cg-wrap .cg-custom-svgs {\n  /* over piece.anim = 8, but under piece.dragging = 10 */\n  z-index: 9;\n}\n.cg-wrap coords {\n  position: absolute;\n  display: flex;\n  pointer-events: none;\n  opacity: 0.8;\n  font-size: 15px;\n}\n.cg-wrap coords.ranks {\n  right: -15px;\n  top: 0;\n  flex-flow: column-reverse;\n  height: 100%;\n  width: 12px;\n}\n.cg-wrap coords.ranks.black {\n  flex-flow: column;\n}\n.cg-wrap coords.files {\n  bottom: -16px;\n  left: 0;\n  flex-flow: row;\n  width: 100%;\n  height: 16px;\n  text-transform: uppercase;\n  text-align: center;\n}\n.cg-wrap coords.files.black {\n  flex-flow: row-reverse;\n}\n.cg-wrap coords coord {\n  flex: 1 1 auto;\n}\n.cg-wrap coords.ranks coord {\n  transform: translateY(39%);\n}",""]);const a=i},7471:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(8081),s=n.n(r),o=n(3645),i=n.n(o),a=n(1667),c=n.n(a),l=new URL(n(580),n.b),u=new URL(n(2344),n.b),d=new URL(n(8340),n.b),h=i()(s()),p=c()(l),f=c()(u),g=c()(d);h.push([e.id,`#center {\n  /* position: absolute; */\n  /* left: 35%; */\n  /* width: 35%; */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  align-self: center;\n  flex-direction: column;\n  /* margin: 20pt auto; */\n}\n\n#chessground {\n  /* width: 600px;\n  height: 600px; */\n  margin-bottom: 20px;\n}\n\n\n\n.brown {\n  background-image: url(${p});\n}\n\n.green .cg-wrap {\n  background-image: url(${f});\n}\n\n.blue .cg-wrap {\n  background-image: url(${g});\n}\n\nbody {\n  background-color:oldlace;\n  padding-top: 20px;\n}`,""]);const m=h},4751:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(8081),s=n.n(r),o=n(3645),i=n.n(o),a=n(1667),c=n.n(a),l=new URL(n(6513),n.b),u=new URL(n(6788),n.b),d=new URL(n(8153),n.b),h=new URL(n(1730),n.b),p=new URL(n(8862),n.b),f=new URL(n(9134),n.b),g=new URL(n(6018),n.b),m=new URL(n(2091),n.b),b=new URL(n(4689),n.b),v=new URL(n(4436),n.b),w=new URL(n(4654),n.b),_=new URL(n(4370),n.b),y=i()(s()),S=c()(l),E=c()(u),O=c()(d),A=c()(h),P=c()(p),k=c()(f),C=c()(g),T=c()(m),x=c()(b),R=c()(v),j=c()(w),M=c()(_);y.push([e.id,`.gioco .pawn.white {background-image:url(${S})}\n.gioco .knight.white {background-image:url(${E})}\n.gioco .bishop.white {background-image:url(${O})}\n.gioco .rook.white {background-image:url(${A})}\n.gioco .queen.white {background-image:url(${P})}\n.gioco .king.white {background-image:url(${k})}\n.gioco .pawn.black {background-image:url(${C})}\n.gioco .knight.black {background-image:url(${T})}\n.gioco .bishop.black {background-image:url(${x})}\n.gioco .rook.black {background-image:url(${R})}\n.gioco .queen.black {background-image:url(${j})}\n.gioco .king.black {background-image:url(${M})}`,""]);const I=y},7573:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(8081),s=n.n(r),o=n(3645),i=n.n(o),a=n(1667),c=n.n(a),l=new URL(n(4746),n.b),u=new URL(n(9318),n.b),d=new URL(n(285),n.b),h=new URL(n(7255),n.b),p=new URL(n(5897),n.b),f=new URL(n(7732),n.b),g=new URL(n(2702),n.b),m=new URL(n(5251),n.b),b=new URL(n(2057),n.b),v=new URL(n(8137),n.b),w=new URL(n(3725),n.b),_=new URL(n(6779),n.b),y=i()(s()),S=c()(l),E=c()(u),O=c()(d),A=c()(h),P=c()(p),k=c()(f),C=c()(g),T=c()(m),x=c()(b),R=c()(v),j=c()(w),M=c()(_);y.push([e.id,`.neo .pawn.white {background-image:url(${S})}\n.neo .knight.white {background-image:url(${E})}\n.neo .bishop.white {background-image:url(${O})}\n.neo .rook.white {background-image:url(${A})}\n.neo .queen.white {background-image:url(${P})}\n.neo .king.white {background-image:url(${k})}\n.neo .pawn.black {background-image:url(${C})}\n.neo .knight.black {background-image:url(${T})}\n.neo .bishop.black {background-image:url(${x})}\n.neo .rook.black {background-image:url(${R})}\n.neo .queen.black {background-image:url(${j})}\n.neo .king.black {background-image:url(${M})}`,""]);const I=y},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,s,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(i[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&i[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),s&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=s):u[4]="".concat(s)),t.push(u))}},t}},1667:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},8081:e=>{"use strict";e.exports=function(e){return e[1]}},6230:e=>{e.exports="object"==typeof self?self.FormData:window.FormData},4793:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OpenAIApi=t.OpenAIApiFactory=t.OpenAIApiFp=t.OpenAIApiAxiosParamCreator=t.CreateImageRequestResponseFormatEnum=t.CreateImageRequestSizeEnum=t.ChatCompletionResponseMessageRoleEnum=t.ChatCompletionRequestMessageRoleEnum=void 0;const s=n(9669),o=n(3597),i=n(5198);t.ChatCompletionRequestMessageRoleEnum={System:"system",User:"user",Assistant:"assistant"},t.ChatCompletionResponseMessageRoleEnum={System:"system",User:"user",Assistant:"assistant"},t.CreateImageRequestSizeEnum={_256x256:"256x256",_512x512:"512x512",_1024x1024:"1024x1024"},t.CreateImageRequestResponseFormatEnum={Url:"url",B64Json:"b64_json"},t.OpenAIApiAxiosParamCreator=function(e){return{cancelFineTune:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("cancelFineTune","fineTuneId",t);const r="/fine-tunes/{fine_tune_id}/cancel".replace("{fine_tune_id}",encodeURIComponent(String(t))),s=new URL(r,o.DUMMY_BASE_URL);let i;e&&(i=e.baseOptions);const a=Object.assign(Object.assign({method:"POST"},i),n);o.setSearchParams(s,{});let c=i&&i.headers?i.headers:{};return a.headers=Object.assign(Object.assign(Object.assign({},{}),c),n.headers),{url:o.toPathString(s),options:a}})),createAnswer:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createAnswer","createAnswerRequest",t);const r=new URL("/answers",o.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const i=Object.assign(Object.assign({method:"POST"},s),n),a={"Content-Type":"application/json"};o.setSearchParams(r,{});let c=s&&s.headers?s.headers:{};return i.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),i.data=o.serializeDataIfNeeded(t,i,e),{url:o.toPathString(r),options:i}})),createChatCompletion:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createChatCompletion","createChatCompletionRequest",t);const r=new URL("/chat/completions",o.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const i=Object.assign(Object.assign({method:"POST"},s),n),a={"Content-Type":"application/json"};o.setSearchParams(r,{});let c=s&&s.headers?s.headers:{};return i.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),i.data=o.serializeDataIfNeeded(t,i,e),{url:o.toPathString(r),options:i}})),createClassification:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createClassification","createClassificationRequest",t);const r=new URL("/classifications",o.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const i=Object.assign(Object.assign({method:"POST"},s),n),a={"Content-Type":"application/json"};o.setSearchParams(r,{});let c=s&&s.headers?s.headers:{};return i.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),i.data=o.serializeDataIfNeeded(t,i,e),{url:o.toPathString(r),options:i}})),createCompletion:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createCompletion","createCompletionRequest",t);const r=new URL("/completions",o.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const i=Object.assign(Object.assign({method:"POST"},s),n),a={"Content-Type":"application/json"};o.setSearchParams(r,{});let c=s&&s.headers?s.headers:{};return i.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),i.data=o.serializeDataIfNeeded(t,i,e),{url:o.toPathString(r),options:i}})),createEdit:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createEdit","createEditRequest",t);const r=new URL("/edits",o.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const i=Object.assign(Object.assign({method:"POST"},s),n),a={"Content-Type":"application/json"};o.setSearchParams(r,{});let c=s&&s.headers?s.headers:{};return i.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),i.data=o.serializeDataIfNeeded(t,i,e),{url:o.toPathString(r),options:i}})),createEmbedding:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createEmbedding","createEmbeddingRequest",t);const r=new URL("/embeddings",o.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const i=Object.assign(Object.assign({method:"POST"},s),n),a={"Content-Type":"application/json"};o.setSearchParams(r,{});let c=s&&s.headers?s.headers:{};return i.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),i.data=o.serializeDataIfNeeded(t,i,e),{url:o.toPathString(r),options:i}})),createFile:(t,n,s={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createFile","file",t),o.assertParamExists("createFile","purpose",n);const r=new URL("/files",o.DUMMY_BASE_URL);let i;e&&(i=e.baseOptions);const a=Object.assign(Object.assign({method:"POST"},i),s),c={},l=new(e&&e.formDataCtor||FormData);void 0!==t&&l.append("file",t),void 0!==n&&l.append("purpose",n),c["Content-Type"]="multipart/form-data",o.setSearchParams(r,{});let u=i&&i.headers?i.headers:{};return a.headers=Object.assign(Object.assign(Object.assign(Object.assign({},c),l.getHeaders()),u),s.headers),a.data=l,{url:o.toPathString(r),options:a}})),createFineTune:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createFineTune","createFineTuneRequest",t);const r=new URL("/fine-tunes",o.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const i=Object.assign(Object.assign({method:"POST"},s),n),a={"Content-Type":"application/json"};o.setSearchParams(r,{});let c=s&&s.headers?s.headers:{};return i.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),i.data=o.serializeDataIfNeeded(t,i,e),{url:o.toPathString(r),options:i}})),createImage:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createImage","createImageRequest",t);const r=new URL("/images/generations",o.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const i=Object.assign(Object.assign({method:"POST"},s),n),a={"Content-Type":"application/json"};o.setSearchParams(r,{});let c=s&&s.headers?s.headers:{};return i.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),i.data=o.serializeDataIfNeeded(t,i,e),{url:o.toPathString(r),options:i}})),createImageEdit:(t,n,s,i,a,c,l,u={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createImageEdit","image",t),o.assertParamExists("createImageEdit","prompt",n);const r=new URL("/images/edits",o.DUMMY_BASE_URL);let d;e&&(d=e.baseOptions);const h=Object.assign(Object.assign({method:"POST"},d),u),p={},f=new(e&&e.formDataCtor||FormData);void 0!==t&&f.append("image",t),void 0!==s&&f.append("mask",s),void 0!==n&&f.append("prompt",n),void 0!==i&&f.append("n",i),void 0!==a&&f.append("size",a),void 0!==c&&f.append("response_format",c),void 0!==l&&f.append("user",l),p["Content-Type"]="multipart/form-data",o.setSearchParams(r,{});let g=d&&d.headers?d.headers:{};return h.headers=Object.assign(Object.assign(Object.assign(Object.assign({},p),f.getHeaders()),g),u.headers),h.data=f,{url:o.toPathString(r),options:h}})),createImageVariation:(t,n,s,i,a,c={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createImageVariation","image",t);const r=new URL("/images/variations",o.DUMMY_BASE_URL);let l;e&&(l=e.baseOptions);const u=Object.assign(Object.assign({method:"POST"},l),c),d={},h=new(e&&e.formDataCtor||FormData);void 0!==t&&h.append("image",t),void 0!==n&&h.append("n",n),void 0!==s&&h.append("size",s),void 0!==i&&h.append("response_format",i),void 0!==a&&h.append("user",a),d["Content-Type"]="multipart/form-data",o.setSearchParams(r,{});let p=l&&l.headers?l.headers:{};return u.headers=Object.assign(Object.assign(Object.assign(Object.assign({},d),h.getHeaders()),p),c.headers),u.data=h,{url:o.toPathString(r),options:u}})),createModeration:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createModeration","createModerationRequest",t);const r=new URL("/moderations",o.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const i=Object.assign(Object.assign({method:"POST"},s),n),a={"Content-Type":"application/json"};o.setSearchParams(r,{});let c=s&&s.headers?s.headers:{};return i.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),i.data=o.serializeDataIfNeeded(t,i,e),{url:o.toPathString(r),options:i}})),createSearch:(t,n,s={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createSearch","engineId",t),o.assertParamExists("createSearch","createSearchRequest",n);const r="/engines/{engine_id}/search".replace("{engine_id}",encodeURIComponent(String(t))),i=new URL(r,o.DUMMY_BASE_URL);let a;e&&(a=e.baseOptions);const c=Object.assign(Object.assign({method:"POST"},a),s),l={"Content-Type":"application/json"};o.setSearchParams(i,{});let u=a&&a.headers?a.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},l),u),s.headers),c.data=o.serializeDataIfNeeded(n,c,e),{url:o.toPathString(i),options:c}})),createTranscription:(t,n,s,i,a,c,l={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createTranscription","file",t),o.assertParamExists("createTranscription","model",n);const r=new URL("/audio/transcriptions",o.DUMMY_BASE_URL);let u;e&&(u=e.baseOptions);const d=Object.assign(Object.assign({method:"POST"},u),l),h={},p=new(e&&e.formDataCtor||FormData);void 0!==t&&p.append("file",t),void 0!==n&&p.append("model",n),void 0!==s&&p.append("prompt",s),void 0!==i&&p.append("response_format",i),void 0!==a&&p.append("temperature",a),void 0!==c&&p.append("language",c),h["Content-Type"]="multipart/form-data",o.setSearchParams(r,{});let f=u&&u.headers?u.headers:{};return d.headers=Object.assign(Object.assign(Object.assign(Object.assign({},h),p.getHeaders()),f),l.headers),d.data=p,{url:o.toPathString(r),options:d}})),createTranslation:(t,n,s,i,a,c={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("createTranslation","file",t),o.assertParamExists("createTranslation","model",n);const r=new URL("/audio/translations",o.DUMMY_BASE_URL);let l;e&&(l=e.baseOptions);const u=Object.assign(Object.assign({method:"POST"},l),c),d={},h=new(e&&e.formDataCtor||FormData);void 0!==t&&h.append("file",t),void 0!==n&&h.append("model",n),void 0!==s&&h.append("prompt",s),void 0!==i&&h.append("response_format",i),void 0!==a&&h.append("temperature",a),d["Content-Type"]="multipart/form-data",o.setSearchParams(r,{});let p=l&&l.headers?l.headers:{};return u.headers=Object.assign(Object.assign(Object.assign(Object.assign({},d),h.getHeaders()),p),c.headers),u.data=h,{url:o.toPathString(r),options:u}})),deleteFile:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("deleteFile","fileId",t);const r="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(t))),s=new URL(r,o.DUMMY_BASE_URL);let i;e&&(i=e.baseOptions);const a=Object.assign(Object.assign({method:"DELETE"},i),n);o.setSearchParams(s,{});let c=i&&i.headers?i.headers:{};return a.headers=Object.assign(Object.assign(Object.assign({},{}),c),n.headers),{url:o.toPathString(s),options:a}})),deleteModel:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("deleteModel","model",t);const r="/models/{model}".replace("{model}",encodeURIComponent(String(t))),s=new URL(r,o.DUMMY_BASE_URL);let i;e&&(i=e.baseOptions);const a=Object.assign(Object.assign({method:"DELETE"},i),n);o.setSearchParams(s,{});let c=i&&i.headers?i.headers:{};return a.headers=Object.assign(Object.assign(Object.assign({},{}),c),n.headers),{url:o.toPathString(s),options:a}})),downloadFile:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("downloadFile","fileId",t);const r="/files/{file_id}/content".replace("{file_id}",encodeURIComponent(String(t))),s=new URL(r,o.DUMMY_BASE_URL);let i;e&&(i=e.baseOptions);const a=Object.assign(Object.assign({method:"GET"},i),n);o.setSearchParams(s,{});let c=i&&i.headers?i.headers:{};return a.headers=Object.assign(Object.assign(Object.assign({},{}),c),n.headers),{url:o.toPathString(s),options:a}})),listEngines:(t={})=>r(this,void 0,void 0,(function*(){const n=new URL("/engines",o.DUMMY_BASE_URL);let r;e&&(r=e.baseOptions);const s=Object.assign(Object.assign({method:"GET"},r),t);o.setSearchParams(n,{});let i=r&&r.headers?r.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},{}),i),t.headers),{url:o.toPathString(n),options:s}})),listFiles:(t={})=>r(this,void 0,void 0,(function*(){const n=new URL("/files",o.DUMMY_BASE_URL);let r;e&&(r=e.baseOptions);const s=Object.assign(Object.assign({method:"GET"},r),t);o.setSearchParams(n,{});let i=r&&r.headers?r.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},{}),i),t.headers),{url:o.toPathString(n),options:s}})),listFineTuneEvents:(t,n,s={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("listFineTuneEvents","fineTuneId",t);const r="/fine-tunes/{fine_tune_id}/events".replace("{fine_tune_id}",encodeURIComponent(String(t))),i=new URL(r,o.DUMMY_BASE_URL);let a;e&&(a=e.baseOptions);const c=Object.assign(Object.assign({method:"GET"},a),s),l={};void 0!==n&&(l.stream=n),o.setSearchParams(i,l);let u=a&&a.headers?a.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},{}),u),s.headers),{url:o.toPathString(i),options:c}})),listFineTunes:(t={})=>r(this,void 0,void 0,(function*(){const n=new URL("/fine-tunes",o.DUMMY_BASE_URL);let r;e&&(r=e.baseOptions);const s=Object.assign(Object.assign({method:"GET"},r),t);o.setSearchParams(n,{});let i=r&&r.headers?r.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},{}),i),t.headers),{url:o.toPathString(n),options:s}})),listModels:(t={})=>r(this,void 0,void 0,(function*(){const n=new URL("/models",o.DUMMY_BASE_URL);let r;e&&(r=e.baseOptions);const s=Object.assign(Object.assign({method:"GET"},r),t);o.setSearchParams(n,{});let i=r&&r.headers?r.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},{}),i),t.headers),{url:o.toPathString(n),options:s}})),retrieveEngine:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("retrieveEngine","engineId",t);const r="/engines/{engine_id}".replace("{engine_id}",encodeURIComponent(String(t))),s=new URL(r,o.DUMMY_BASE_URL);let i;e&&(i=e.baseOptions);const a=Object.assign(Object.assign({method:"GET"},i),n);o.setSearchParams(s,{});let c=i&&i.headers?i.headers:{};return a.headers=Object.assign(Object.assign(Object.assign({},{}),c),n.headers),{url:o.toPathString(s),options:a}})),retrieveFile:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("retrieveFile","fileId",t);const r="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(t))),s=new URL(r,o.DUMMY_BASE_URL);let i;e&&(i=e.baseOptions);const a=Object.assign(Object.assign({method:"GET"},i),n);o.setSearchParams(s,{});let c=i&&i.headers?i.headers:{};return a.headers=Object.assign(Object.assign(Object.assign({},{}),c),n.headers),{url:o.toPathString(s),options:a}})),retrieveFineTune:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("retrieveFineTune","fineTuneId",t);const r="/fine-tunes/{fine_tune_id}".replace("{fine_tune_id}",encodeURIComponent(String(t))),s=new URL(r,o.DUMMY_BASE_URL);let i;e&&(i=e.baseOptions);const a=Object.assign(Object.assign({method:"GET"},i),n);o.setSearchParams(s,{});let c=i&&i.headers?i.headers:{};return a.headers=Object.assign(Object.assign(Object.assign({},{}),c),n.headers),{url:o.toPathString(s),options:a}})),retrieveModel:(t,n={})=>r(this,void 0,void 0,(function*(){o.assertParamExists("retrieveModel","model",t);const r="/models/{model}".replace("{model}",encodeURIComponent(String(t))),s=new URL(r,o.DUMMY_BASE_URL);let i;e&&(i=e.baseOptions);const a=Object.assign(Object.assign({method:"GET"},i),n);o.setSearchParams(s,{});let c=i&&i.headers?i.headers:{};return a.headers=Object.assign(Object.assign(Object.assign({},{}),c),n.headers),{url:o.toPathString(s),options:a}}))}},t.OpenAIApiFp=function(e){const n=t.OpenAIApiAxiosParamCreator(e);return{cancelFineTune(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.cancelFineTune(t,a);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},createAnswer(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createAnswer(t,a);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},createChatCompletion(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createChatCompletion(t,a);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},createClassification(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createClassification(t,a);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},createCompletion(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createCompletion(t,a);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},createEdit(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createEdit(t,a);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},createEmbedding(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createEmbedding(t,a);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},createFile(t,a,c){return r(this,void 0,void 0,(function*(){const r=yield n.createFile(t,a,c);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},createFineTune(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createFineTune(t,a);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},createImage(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createImage(t,a);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},createImageEdit(t,a,c,l,u,d,h,p){return r(this,void 0,void 0,(function*(){const r=yield n.createImageEdit(t,a,c,l,u,d,h,p);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},createImageVariation(t,a,c,l,u,d){return r(this,void 0,void 0,(function*(){const r=yield n.createImageVariation(t,a,c,l,u,d);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},createModeration(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createModeration(t,a);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},createSearch(t,a,c){return r(this,void 0,void 0,(function*(){const r=yield n.createSearch(t,a,c);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},createTranscription(t,a,c,l,u,d,h){return r(this,void 0,void 0,(function*(){const r=yield n.createTranscription(t,a,c,l,u,d,h);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},createTranslation(t,a,c,l,u,d){return r(this,void 0,void 0,(function*(){const r=yield n.createTranslation(t,a,c,l,u,d);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},deleteFile(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.deleteFile(t,a);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},deleteModel(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.deleteModel(t,a);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},downloadFile(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.downloadFile(t,a);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},listEngines(t){return r(this,void 0,void 0,(function*(){const r=yield n.listEngines(t);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},listFiles(t){return r(this,void 0,void 0,(function*(){const r=yield n.listFiles(t);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},listFineTuneEvents(t,a,c){return r(this,void 0,void 0,(function*(){const r=yield n.listFineTuneEvents(t,a,c);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},listFineTunes(t){return r(this,void 0,void 0,(function*(){const r=yield n.listFineTunes(t);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},listModels(t){return r(this,void 0,void 0,(function*(){const r=yield n.listModels(t);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},retrieveEngine(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.retrieveEngine(t,a);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},retrieveFile(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.retrieveFile(t,a);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},retrieveFineTune(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.retrieveFineTune(t,a);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))},retrieveModel(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.retrieveModel(t,a);return o.createRequestFunction(r,s.default,i.BASE_PATH,e)}))}}},t.OpenAIApiFactory=function(e,n,r){const s=t.OpenAIApiFp(e);return{cancelFineTune:(e,t)=>s.cancelFineTune(e,t).then((e=>e(r,n))),createAnswer:(e,t)=>s.createAnswer(e,t).then((e=>e(r,n))),createChatCompletion:(e,t)=>s.createChatCompletion(e,t).then((e=>e(r,n))),createClassification:(e,t)=>s.createClassification(e,t).then((e=>e(r,n))),createCompletion:(e,t)=>s.createCompletion(e,t).then((e=>e(r,n))),createEdit:(e,t)=>s.createEdit(e,t).then((e=>e(r,n))),createEmbedding:(e,t)=>s.createEmbedding(e,t).then((e=>e(r,n))),createFile:(e,t,o)=>s.createFile(e,t,o).then((e=>e(r,n))),createFineTune:(e,t)=>s.createFineTune(e,t).then((e=>e(r,n))),createImage:(e,t)=>s.createImage(e,t).then((e=>e(r,n))),createImageEdit:(e,t,o,i,a,c,l,u)=>s.createImageEdit(e,t,o,i,a,c,l,u).then((e=>e(r,n))),createImageVariation:(e,t,o,i,a,c)=>s.createImageVariation(e,t,o,i,a,c).then((e=>e(r,n))),createModeration:(e,t)=>s.createModeration(e,t).then((e=>e(r,n))),createSearch:(e,t,o)=>s.createSearch(e,t,o).then((e=>e(r,n))),createTranscription:(e,t,o,i,a,c,l)=>s.createTranscription(e,t,o,i,a,c,l).then((e=>e(r,n))),createTranslation:(e,t,o,i,a,c)=>s.createTranslation(e,t,o,i,a,c).then((e=>e(r,n))),deleteFile:(e,t)=>s.deleteFile(e,t).then((e=>e(r,n))),deleteModel:(e,t)=>s.deleteModel(e,t).then((e=>e(r,n))),downloadFile:(e,t)=>s.downloadFile(e,t).then((e=>e(r,n))),listEngines:e=>s.listEngines(e).then((e=>e(r,n))),listFiles:e=>s.listFiles(e).then((e=>e(r,n))),listFineTuneEvents:(e,t,o)=>s.listFineTuneEvents(e,t,o).then((e=>e(r,n))),listFineTunes:e=>s.listFineTunes(e).then((e=>e(r,n))),listModels:e=>s.listModels(e).then((e=>e(r,n))),retrieveEngine:(e,t)=>s.retrieveEngine(e,t).then((e=>e(r,n))),retrieveFile:(e,t)=>s.retrieveFile(e,t).then((e=>e(r,n))),retrieveFineTune:(e,t)=>s.retrieveFineTune(e,t).then((e=>e(r,n))),retrieveModel:(e,t)=>s.retrieveModel(e,t).then((e=>e(r,n)))}};class a extends i.BaseAPI{cancelFineTune(e,n){return t.OpenAIApiFp(this.configuration).cancelFineTune(e,n).then((e=>e(this.axios,this.basePath)))}createAnswer(e,n){return t.OpenAIApiFp(this.configuration).createAnswer(e,n).then((e=>e(this.axios,this.basePath)))}createChatCompletion(e,n){return t.OpenAIApiFp(this.configuration).createChatCompletion(e,n).then((e=>e(this.axios,this.basePath)))}createClassification(e,n){return t.OpenAIApiFp(this.configuration).createClassification(e,n).then((e=>e(this.axios,this.basePath)))}createCompletion(e,n){return t.OpenAIApiFp(this.configuration).createCompletion(e,n).then((e=>e(this.axios,this.basePath)))}createEdit(e,n){return t.OpenAIApiFp(this.configuration).createEdit(e,n).then((e=>e(this.axios,this.basePath)))}createEmbedding(e,n){return t.OpenAIApiFp(this.configuration).createEmbedding(e,n).then((e=>e(this.axios,this.basePath)))}createFile(e,n,r){return t.OpenAIApiFp(this.configuration).createFile(e,n,r).then((e=>e(this.axios,this.basePath)))}createFineTune(e,n){return t.OpenAIApiFp(this.configuration).createFineTune(e,n).then((e=>e(this.axios,this.basePath)))}createImage(e,n){return t.OpenAIApiFp(this.configuration).createImage(e,n).then((e=>e(this.axios,this.basePath)))}createImageEdit(e,n,r,s,o,i,a,c){return t.OpenAIApiFp(this.configuration).createImageEdit(e,n,r,s,o,i,a,c).then((e=>e(this.axios,this.basePath)))}createImageVariation(e,n,r,s,o,i){return t.OpenAIApiFp(this.configuration).createImageVariation(e,n,r,s,o,i).then((e=>e(this.axios,this.basePath)))}createModeration(e,n){return t.OpenAIApiFp(this.configuration).createModeration(e,n).then((e=>e(this.axios,this.basePath)))}createSearch(e,n,r){return t.OpenAIApiFp(this.configuration).createSearch(e,n,r).then((e=>e(this.axios,this.basePath)))}createTranscription(e,n,r,s,o,i,a){return t.OpenAIApiFp(this.configuration).createTranscription(e,n,r,s,o,i,a).then((e=>e(this.axios,this.basePath)))}createTranslation(e,n,r,s,o,i){return t.OpenAIApiFp(this.configuration).createTranslation(e,n,r,s,o,i).then((e=>e(this.axios,this.basePath)))}deleteFile(e,n){return t.OpenAIApiFp(this.configuration).deleteFile(e,n).then((e=>e(this.axios,this.basePath)))}deleteModel(e,n){return t.OpenAIApiFp(this.configuration).deleteModel(e,n).then((e=>e(this.axios,this.basePath)))}downloadFile(e,n){return t.OpenAIApiFp(this.configuration).downloadFile(e,n).then((e=>e(this.axios,this.basePath)))}listEngines(e){return t.OpenAIApiFp(this.configuration).listEngines(e).then((e=>e(this.axios,this.basePath)))}listFiles(e){return t.OpenAIApiFp(this.configuration).listFiles(e).then((e=>e(this.axios,this.basePath)))}listFineTuneEvents(e,n,r){return t.OpenAIApiFp(this.configuration).listFineTuneEvents(e,n,r).then((e=>e(this.axios,this.basePath)))}listFineTunes(e){return t.OpenAIApiFp(this.configuration).listFineTunes(e).then((e=>e(this.axios,this.basePath)))}listModels(e){return t.OpenAIApiFp(this.configuration).listModels(e).then((e=>e(this.axios,this.basePath)))}retrieveEngine(e,n){return t.OpenAIApiFp(this.configuration).retrieveEngine(e,n).then((e=>e(this.axios,this.basePath)))}retrieveFile(e,n){return t.OpenAIApiFp(this.configuration).retrieveFile(e,n).then((e=>e(this.axios,this.basePath)))}retrieveFineTune(e,n){return t.OpenAIApiFp(this.configuration).retrieveFineTune(e,n).then((e=>e(this.axios,this.basePath)))}retrieveModel(e,n){return t.OpenAIApiFp(this.configuration).retrieveModel(e,n).then((e=>e(this.axios,this.basePath)))}}t.OpenAIApi=a},5198:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequiredError=t.BaseAPI=t.COLLECTION_FORMATS=t.BASE_PATH=void 0;const r=n(9669);t.BASE_PATH="https://api.openai.com/v1".replace(/\/+$/,""),t.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"\t",pipes:"|"},t.BaseAPI=class{constructor(e,n=t.BASE_PATH,s=r.default){this.basePath=n,this.axios=s,e&&(this.configuration=e,this.basePath=e.basePath||this.basePath)}};class s extends Error{constructor(e,t){super(t),this.field=e,this.name="RequiredError"}}t.RequiredError=s},3597:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.createRequestFunction=t.toPathString=t.serializeDataIfNeeded=t.setSearchParams=t.setOAuthToObject=t.setBearerAuthToObject=t.setBasicAuthToObject=t.setApiKeyToObject=t.assertParamExists=t.DUMMY_BASE_URL=void 0;const s=n(5198);function o(e,t,n=""){null!=t&&("object"==typeof t?Array.isArray(t)?t.forEach((t=>o(e,t,n))):Object.keys(t).forEach((r=>o(e,t[r],`${n}${""!==n?".":""}${r}`))):e.has(n)?e.append(n,t):e.set(n,t))}t.DUMMY_BASE_URL="https://example.com",t.assertParamExists=function(e,t,n){if(null==n)throw new s.RequiredError(t,`Required parameter ${t} was null or undefined when calling ${e}.`)},t.setApiKeyToObject=function(e,t,n){return r(this,void 0,void 0,(function*(){if(n&&n.apiKey){const r="function"==typeof n.apiKey?yield n.apiKey(t):yield n.apiKey;e[t]=r}}))},t.setBasicAuthToObject=function(e,t){t&&(t.username||t.password)&&(e.auth={username:t.username,password:t.password})},t.setBearerAuthToObject=function(e,t){return r(this,void 0,void 0,(function*(){if(t&&t.accessToken){const n="function"==typeof t.accessToken?yield t.accessToken():yield t.accessToken;e.Authorization="Bearer "+n}}))},t.setOAuthToObject=function(e,t,n,s){return r(this,void 0,void 0,(function*(){if(s&&s.accessToken){const r="function"==typeof s.accessToken?yield s.accessToken(t,n):yield s.accessToken;e.Authorization="Bearer "+r}}))},t.setSearchParams=function(e,...t){const n=new URLSearchParams(e.search);o(n,t),e.search=n.toString()},t.serializeDataIfNeeded=function(e,t,n){const r="string"!=typeof e;return(r&&n&&n.isJsonMime?n.isJsonMime(t.headers["Content-Type"]):r)?JSON.stringify(void 0!==e?e:{}):e||""},t.toPathString=function(e){return e.pathname+e.search+e.hash},t.createRequestFunction=function(e,t,n,r){return(s=t,o=n)=>{const i=Object.assign(Object.assign({},e.options),{url:((null==r?void 0:r.basePath)||o)+e.url});return s.request(i)}}},6577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Configuration=void 0;const r=n(2811);t.Configuration=class{constructor(e={}){this.apiKey=e.apiKey,this.organization=e.organization,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.baseOptions=e.baseOptions,this.formDataCtor=e.formDataCtor,this.baseOptions||(this.baseOptions={}),this.baseOptions.headers=Object.assign({"User-Agent":`OpenAI/NodeJS/${r.version}`,Authorization:`Bearer ${this.apiKey}`},this.baseOptions.headers),this.organization&&(this.baseOptions.headers["OpenAI-Organization"]=this.organization),this.formDataCtor||(this.formDataCtor=n(6230))}isJsonMime(e){const t=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==e&&(t.test(e)||"application/json-patch+json"===e.toLowerCase())}}},6485:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),s(n(4793),t),s(n(6577),t)},3379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},i=[],a=0;a<e.length;a++){var c=e[a],l=r.base?c[0]+r.base:c[0],u=o[l]||0,d="".concat(l," ").concat(u);o[l]=u+1;var h=n(d),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)t[h].references++,t[h].updater(p);else{var f=s(p,r);r.byIndex=a,t.splice(a,0,{identifier:d,updater:f,references:1})}i.push(d)}return i}function s(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,s){var o=r(e=e||[],s=s||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var a=n(o[i]);t[a].references--}for(var c=r(e,s),l=0;l<o.length;l++){var u=n(o[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=c}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var s=void 0!==n.layer;s&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,s&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},8340:(e,t,n)=>{"use strict";e.exports=n.p+"assets/blue.svg"},580:(e,t,n)=>{"use strict";e.exports=n.p+"assets/brown.svg"},2344:(e,t,n)=>{"use strict";e.exports=n.p+"assets/green.svg"},4689:(e,t,n)=>{"use strict";e.exports=n.p+"assets/bB.svg"},4370:(e,t,n)=>{"use strict";e.exports=n.p+"assets/bK.svg"},2091:(e,t,n)=>{"use strict";e.exports=n.p+"assets/bN.svg"},6018:(e,t,n)=>{"use strict";e.exports=n.p+"assets/bP.svg"},4654:(e,t,n)=>{"use strict";e.exports=n.p+"assets/bQ.svg"},4436:(e,t,n)=>{"use strict";e.exports=n.p+"assets/bR.svg"},8153:(e,t,n)=>{"use strict";e.exports=n.p+"assets/wB.svg"},9134:(e,t,n)=>{"use strict";e.exports=n.p+"assets/wK.svg"},6788:(e,t,n)=>{"use strict";e.exports=n.p+"assets/wN.svg"},6513:(e,t,n)=>{"use strict";e.exports=n.p+"assets/wP.svg"},8862:(e,t,n)=>{"use strict";e.exports=n.p+"assets/wQ.svg"},1730:(e,t,n)=>{"use strict";e.exports=n.p+"assets/wR.svg"},2057:(e,t,n)=>{"use strict";e.exports=n.p+"assets/bB.png"},6779:(e,t,n)=>{"use strict";e.exports=n.p+"assets/bK.png"},5251:(e,t,n)=>{"use strict";e.exports=n.p+"assets/bN.png"},2702:(e,t,n)=>{"use strict";e.exports=n.p+"assets/bP.png"},3725:(e,t,n)=>{"use strict";e.exports=n.p+"assets/bQ.png"},8137:(e,t,n)=>{"use strict";e.exports=n.p+"assets/bR.png"},285:(e,t,n)=>{"use strict";e.exports=n.p+"assets/wB.png"},7732:(e,t,n)=>{"use strict";e.exports=n.p+"assets/wK.png"},9318:(e,t,n)=>{"use strict";e.exports=n.p+"assets/wN.png"},4746:(e,t,n)=>{"use strict";e.exports=n.p+"assets/wP.png"},5897:(e,t,n)=>{"use strict";e.exports=n.p+"assets/wQ.png"},7255:(e,t,n)=>{"use strict";e.exports=n.p+"assets/wR.png"},2811:e=>{"use strict";e.exports=JSON.parse('{"name":"openai","version":"3.2.1","description":"Node.js library for the OpenAI API","repository":{"type":"git","url":"git@github.com:openai/openai-node.git"},"keywords":["openai","open","ai","gpt-3","gpt3"],"author":"OpenAI","license":"MIT","main":"./dist/index.js","types":"./dist/index.d.ts","scripts":{"build":"tsc --outDir dist/"},"dependencies":{"axios":"^0.26.0","form-data":"^4.0.0"},"devDependencies":{"@types/node":"^12.11.5","typescript":"^3.6.4"}}')}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={id:r,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var s=r.length-1;s>-1&&!e;)e=r[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{"use strict";const e="w",t="b",r="p",s="b",o="r",i="q",a="k",c="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",l=-1,u={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},d=["a8","b8","c8","d8","e8","f8","g8","h8","a7","b7","c7","d7","e7","f7","g7","h7","a6","b6","c6","d6","e6","f6","g6","h6","a5","b5","c5","d5","e5","f5","g5","h5","a4","b4","c4","d4","e4","f4","g4","h4","a3","b3","c3","d3","e3","f3","g3","h3","a2","b2","c2","d2","e2","f2","g2","h2","a1","b1","c1","d1","e1","f1","g1","h1"],h={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},p={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},f={b:[16,32,17,15],w:[-16,-32,-17,-15]},g={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},m=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],b=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],v={p:1,n:2,b:4,r:8,q:16,k:32},w=["n",s,o,i],_={[a]:h.KSIDE_CASTLE,[i]:h.QSIDE_CASTLE},y={w:[{square:p.a1,flag:h.QSIDE_CASTLE},{square:p.h1,flag:h.KSIDE_CASTLE}],b:[{square:p.a8,flag:h.QSIDE_CASTLE},{square:p.h8,flag:h.KSIDE_CASTLE}]},S={b:1,w:6},E=["1-0","0-1","1/2-1/2","*"];function O(e){return e>>4}function A(e){return 15&e}function P(e){return-1!=="0123456789".indexOf(e)}function k(e){const t=A(e),n=O(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(n,n+1)}function C(n){return n===e?t:e}function T(e,t,n,s,o,i=void 0,a=h.NORMAL){const c=O(s);if(o!==r||7!==c&&0!==c)e.push({color:t,from:n,to:s,piece:o,captured:i,flags:a});else for(let r=0;r<w.length;r++){const c=w[r];e.push({color:t,from:n,to:s,piece:o,captured:i,promotion:c,flags:a|h.PROMOTION})}}function x(e){let t=e.charAt(0);if(t>="a"&&t<="h"){if(e.match(/[a-h]\d.*[a-h]\d/))return;return r}return t=t.toLowerCase(),"o"===t?a:t}function R(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class j{_board=new Array(128);_turn=e;_header={};_kings={w:l,b:l};_epSquare=-1;_halfMoves=0;_moveNumber=0;_history=[];_comments={};_castling={w:0,b:0};constructor(e=c){this.load(e)}clear(t=!1){this._board=new Array(128),this._kings={w:l,b:l},this._turn=e,this._castling={w:0,b:0},this._epSquare=l,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=t?this._header:{},this._updateSetup(this.fen())}removeHeader(e){e in this._header&&delete this._header[e]}load(n,r=!1){let s=n.split(/\s+/);if(s.length>=2&&s.length<6){const e=["-","-","0","1"];n=s.concat(e.slice(-(6-s.length))).join(" ")}s=n.split(/\s+/);const{ok:o,error:i}=function(e){const t=e.split(/\s+/);if(6!==t.length)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const n=parseInt(t[5],10);if(isNaN(n)||n<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const r=parseInt(t[4],10);if(isNaN(r)||r<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(t[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(t[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(t[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const s=t[0].split("/");if(8!==s.length)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let e=0;e<s.length;e++){let t=0,n=!1;for(let r=0;r<s[e].length;r++)if(P(s[e][r])){if(n)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};t+=parseInt(s[e][r],10),n=!0}else{if(!/^[prnbqkPRNBQK]$/.test(s[e][r]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};t+=1,n=!1}if(8!==t)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if("3"==t[3][1]&&"w"==t[1]||"6"==t[3][1]&&"b"==t[1])return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const o=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:e,regex:n}of o){if(!n.test(t[0]))return{ok:!1,error:`Invalid FEN: missing ${e} king`};if((t[0].match(n)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${e} kings`}}return{ok:!0}}(n);if(!o)throw new Error(i);const a=s[0];let c=0;this.clear(r);for(let n=0;n<a.length;n++){const r=a.charAt(n);if("/"===r)c+=8;else if(P(r))c+=parseInt(r,10);else{const n=r<"a"?e:t;this.put({type:r.toLowerCase(),color:n},k(c)),c++}}this._turn=s[1],s[2].indexOf("K")>-1&&(this._castling.w|=h.KSIDE_CASTLE),s[2].indexOf("Q")>-1&&(this._castling.w|=h.QSIDE_CASTLE),s[2].indexOf("k")>-1&&(this._castling.b|=h.KSIDE_CASTLE),s[2].indexOf("q")>-1&&(this._castling.b|=h.QSIDE_CASTLE),this._epSquare="-"===s[3]?l:p[s[3]],this._halfMoves=parseInt(s[4],10),this._moveNumber=parseInt(s[5],10),this._updateSetup(this.fen())}fen(){let n=0,s="";for(let t=p.a8;t<=p.h1;t++){if(this._board[t]){n>0&&(s+=n,n=0);const{color:r,type:o}=this._board[t];s+=r===e?o.toUpperCase():o.toLowerCase()}else n++;t+1&136&&(n>0&&(s+=n),t!==p.h1&&(s+="/"),n=0,t+=8)}let o="";this._castling[e]&h.KSIDE_CASTLE&&(o+="K"),this._castling[e]&h.QSIDE_CASTLE&&(o+="Q"),this._castling[t]&h.KSIDE_CASTLE&&(o+="k"),this._castling[t]&h.QSIDE_CASTLE&&(o+="q"),o=o||"-";let i="-";if(this._epSquare!==l){const t=this._epSquare+(this._turn===e?16:-16),n=[t+1,t-1];for(const e of n){if(136&e)continue;const t=this._turn;if(this._board[e]?.color===t&&this._board[e]?.type===r){this._makeMove({color:t,from:e,to:this._epSquare,piece:r,captured:r,flags:h.EP_CAPTURE});const n=!this._isKingAttacked(t);if(this._undoMove(),n){i=k(this._epSquare);break}}}}return[s,this._turn,o,i,this._halfMoves,this._moveNumber].join(" ")}_updateSetup(e){this._history.length>0||(e!==c?(this._header.SetUp="1",this._header.FEN=e):(delete this._header.SetUp,delete this._header.FEN))}reset(){this.load(c)}get(e){return this._board[p[e]]||!1}put({type:e,color:t},n){if(-1==="pnbrqkPNBRQK".indexOf(e.toLowerCase()))return!1;if(!(n in p))return!1;const r=p[n];return(e!=a||this._kings[t]==l||this._kings[t]==r)&&(this._board[r]={type:e,color:t},e===a&&(this._kings[t]=r),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0)}remove(e){const t=this.get(e);return delete this._board[p[e]],t&&t.type===a&&(this._kings[t.color]=l),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),t}_updateCastlingRights(){const n=this._board[p.e1]?.type===a&&this._board[p.e1]?.color===e,r=this._board[p.e8]?.type===a&&this._board[p.e8]?.color===t;n&&this._board[p.a1]?.type===o&&this._board[p.a1]?.color===e||(this._castling.w&=~h.QSIDE_CASTLE),n&&this._board[p.h1]?.type===o&&this._board[p.h1]?.color===e||(this._castling.w&=~h.KSIDE_CASTLE),r&&this._board[p.a8]?.type===o&&this._board[p.a8]?.color===t||(this._castling.b&=~h.QSIDE_CASTLE),r&&this._board[p.h8]?.type===o&&this._board[p.h8]?.color===t||(this._castling.b&=~h.KSIDE_CASTLE)}_updateEnPassantSquare(){if(this._epSquare===l)return;const t=this._epSquare+(this._turn===e?-16:16),n=this._epSquare+(this._turn===e?16:-16),s=[n+1,n-1];null===this._board[t]&&null===this._board[this._epSquare]&&this._board[n]?.color===C(this._turn)&&this._board[n]?.type===r&&s.some((e=>!(136&e)&&this._board[e]?.color===this._turn&&this._board[e]?.type===r))||(this._epSquare=l)}_attacked(n,s){for(let o=p.a8;o<=p.h1;o++){if(136&o){o+=7;continue}if(void 0===this._board[o]||this._board[o].color!==n)continue;const i=this._board[o],a=o-s;if(0===a)continue;const c=a+119;if(m[c]&v[i.type]){if(i.type===r){if(a>0){if(i.color===e)return!0}else if(i.color===t)return!0;continue}if("n"===i.type||"k"===i.type)return!0;const n=b[c];let l=o+n,u=!1;for(;l!==s;){if(null!=this._board[l]){u=!0;break}l+=n}if(!u)return!0}}return!1}_isKingAttacked(e){const t=this._kings[e];return-1!==t&&this._attacked(C(e),t)}isAttacked(e,t){return this._attacked(t,p[e])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&0===this._moves().length}isStalemate(){return!this.isCheck()&&0===this._moves().length}isInsufficientMaterial(){const e={b:0,n:0,r:0,q:0,k:0,p:0},t=[];let n=0,r=0;for(let o=p.a8;o<=p.h1;o++){if(r=(r+1)%2,136&o){o+=7;continue}const i=this._board[o];i&&(e[i.type]=i.type in e?e[i.type]+1:1,i.type===s&&t.push(r),n++)}if(2===n)return!0;if(3===n&&(1===e[s]||1===e.n))return!0;if(n===e[s]+2){let e=0;const n=t.length;for(let r=0;r<n;r++)e+=t[r];if(0===e||e===n)return!0}return!1}isThreefoldRepetition(){const e=[],t={};let n=!1;for(;;){const t=this._undoMove();if(!t)break;e.push(t)}for(;;){const r=this.fen().split(" ").slice(0,4).join(" ");t[r]=r in t?t[r]+1:1,t[r]>=3&&(n=!0);const s=e.pop();if(!s)break;this._makeMove(s)}return n}isDraw(){return this._halfMoves>=100||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isStalemate()||this.isDraw()}moves({verbose:e=!1,square:t,piece:n}={}){const r=this._moves({square:t,piece:n});return e?r.map((e=>this._makePretty(e))):r.map((e=>this._moveToSan(e,r)))}_moves({legal:e=!0,piece:t,square:n}={}){const s=n?n.toLowerCase():void 0,o=t?.toLowerCase(),i=[],c=this._turn,l=C(c);let u=p.a8,d=p.h1,m=!1;if(s){if(!(s in p))return[];u=d=p[s],m=!0}for(let e=u;e<=d;e++){if(136&e){e+=7;continue}if(!this._board[e]||this._board[e].color===l)continue;const{type:t}=this._board[e];let n;if(t===r){if(o&&o!==t)continue;n=e+f[c][0],this._board[n]||(T(i,c,e,n,r),n=e+f[c][1],S[c]!==O(e)||this._board[n]||T(i,c,e,n,r,void 0,h.BIG_PAWN));for(let t=2;t<4;t++)n=e+f[c][t],136&n||(this._board[n]?.color===l?T(i,c,e,n,r,this._board[n].type,h.CAPTURE):n===this._epSquare&&T(i,c,e,n,r,r,h.EP_CAPTURE))}else{if(o&&o!==t)continue;for(let r=0,s=g[t].length;r<s;r++){const s=g[t][r];for(n=e;n+=s,!(136&n);){if(this._board[n]){if(this._board[n].color===c)break;T(i,c,e,n,t,this._board[n].type,h.CAPTURE);break}if(T(i,c,e,n,t),"n"===t||t===a)break}}}}if(!(void 0!==o&&o!==a||m&&d!==this._kings[c])){if(this._castling[c]&h.KSIDE_CASTLE){const e=this._kings[c],t=e+2;this._board[e+1]||this._board[t]||this._attacked(l,this._kings[c])||this._attacked(l,e+1)||this._attacked(l,t)||T(i,c,this._kings[c],t,a,void 0,h.KSIDE_CASTLE)}if(this._castling[c]&h.QSIDE_CASTLE){const e=this._kings[c],t=e-2;this._board[e-1]||this._board[e-2]||this._board[e-3]||this._attacked(l,this._kings[c])||this._attacked(l,e-1)||this._attacked(l,t)||T(i,c,this._kings[c],t,a,void 0,h.QSIDE_CASTLE)}}if(!e||-1===this._kings[c])return i;const b=[];for(let e=0,t=i.length;e<t;e++)this._makeMove(i[e]),this._isKingAttacked(c)||b.push(i[e]),this._undoMove();return b}move(e,{strict:t=!1}={}){let n=null;if("string"==typeof e)n=this._moveFromSan(e,t);else if("object"==typeof e){const t=this._moves();for(let r=0,s=t.length;r<s;r++)if(e.from===k(t[r].from)&&e.to===k(t[r].to)&&(!("promotion"in t[r])||e.promotion===t[r].promotion)){n=t[r];break}}if(!n)throw"string"==typeof e?new Error(`Invalid move: ${e}`):new Error(`Invalid move: ${JSON.stringify(e)}`);const r=this._makePretty(n);return this._makeMove(n),r}_push(e){this._history.push({move:e,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_makeMove(e){const n=this._turn,s=C(n);if(this._push(e),this._board[e.to]=this._board[e.from],delete this._board[e.from],e.flags&h.EP_CAPTURE&&(this._turn===t?delete this._board[e.to-16]:delete this._board[e.to+16]),e.promotion&&(this._board[e.to]={type:e.promotion,color:n}),this._board[e.to].type===a){if(this._kings[n]=e.to,e.flags&h.KSIDE_CASTLE){const t=e.to-1,n=e.to+1;this._board[t]=this._board[n],delete this._board[n]}else if(e.flags&h.QSIDE_CASTLE){const t=e.to+1,n=e.to-2;this._board[t]=this._board[n],delete this._board[n]}this._castling[n]=0}if(this._castling[n])for(let t=0,r=y[n].length;t<r;t++)if(e.from===y[n][t].square&&this._castling[n]&y[n][t].flag){this._castling[n]^=y[n][t].flag;break}if(this._castling[s])for(let t=0,n=y[s].length;t<n;t++)if(e.to===y[s][t].square&&this._castling[s]&y[s][t].flag){this._castling[s]^=y[s][t].flag;break}e.flags&h.BIG_PAWN?this._epSquare=n===t?e.to-16:e.to+16:this._epSquare=l,e.piece===r||e.flags&(h.CAPTURE|h.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,n===t&&this._moveNumber++,this._turn=s}undo(){const e=this._undoMove();return e?this._makePretty(e):null}_undoMove(){const e=this._history.pop();if(void 0===e)return null;const n=e.move;this._kings=e.kings,this._turn=e.turn,this._castling=e.castling,this._epSquare=e.epSquare,this._halfMoves=e.halfMoves,this._moveNumber=e.moveNumber;const s=this._turn,o=C(s);if(this._board[n.from]=this._board[n.to],this._board[n.from].type=n.piece,delete this._board[n.to],n.captured)if(n.flags&h.EP_CAPTURE){let e;e=s===t?n.to-16:n.to+16,this._board[e]={type:r,color:o}}else this._board[n.to]={type:n.captured,color:o};if(n.flags&(h.KSIDE_CASTLE|h.QSIDE_CASTLE)){let e,t;n.flags&h.KSIDE_CASTLE?(e=n.to+1,t=n.to-1):(e=n.to-2,t=n.to+1),this._board[e]=this._board[t],delete this._board[t]}return n}pgn({newline:e="\n",maxWidth:t=0}={}){const n=[];let r=!1;for(const t in this._header)n.push("["+t+' "'+this._header[t]+'"]'+e),r=!0;r&&this._history.length&&n.push(e);const s=e=>{const t=this._comments[this.fen()];return void 0!==t&&(e=`${e}${e.length>0?" ":""}{${t}}`),e},o=[];for(;this._history.length>0;)o.push(this._undoMove());const i=[];let a="";for(0===o.length&&i.push(s(""));o.length>0;){a=s(a);const e=o.pop();if(!e)break;if(this._history.length||"b"!==e.color)"w"===e.color&&(a.length&&i.push(a),a=this._moveNumber+".");else{const e=`${this._moveNumber}. ...`;a=a?`${a} ${e}`:e}a=a+" "+this._moveToSan(e,this._moves({legal:!0})),this._makeMove(e)}if(a.length&&i.push(s(a)),void 0!==this._header.Result&&i.push(this._header.Result),0===t)return n.join("")+i.join(" ");const c=function(){return n.length>0&&" "===n[n.length-1]&&(n.pop(),!0)},l=function(r,s){for(const o of s.split(" "))if(o){if(r+o.length>t){for(;c();)r--;n.push(e),r=0}n.push(o),r+=o.length,n.push(" "),r++}return c()&&r--,r};let u=0;for(let r=0;r<i.length;r++)u+i[r].length>t&&i[r].includes("{")?u=l(u,i[r]):(u+i[r].length>t&&0!==r?(" "===n[n.length-1]&&n.pop(),n.push(e),u=0):0!==r&&(n.push(" "),u++),n.push(i[r]),u+=i[r].length);return n.join("")}header(...e){for(let t=0;t<e.length;t+=2)"string"==typeof e[t]&&"string"==typeof e[t+1]&&(this._header[e[t]]=e[t+1]);return this._header}loadPgn(e,{strict:t=!1,newlineChar:n="\r?\n"}={}){function r(e){return e.replace(/\\/g,"\\")}e=e.trim();const s=new RegExp("^(\\[((?:"+r(n)+")|.)*\\])((?:\\s*"+r(n)+"){2}|(?:\\s*"+r(n)+")*$)").exec(e),o=s&&s.length>=2?s[1]:"";this.reset();const i=function(e){const t={},s=e.split(new RegExp(r(n)));let o="",i="";for(let e=0;e<s.length;e++){const n=/^\s*\[\s*([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;o=s[e].replace(n,"$1"),i=s[e].replace(n,"$2"),o.trim().length>0&&(t[o]=i)}return t}(o);let a="";for(const e in i)"fen"===e.toLowerCase()&&(a=i[e]),this.header(e,i[e]);if(t){if("1"===i.SetUp){if(!("FEN"in i))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(i.FEN,!0)}}else a&&this.load(a,!0);const c=function(e){return`{${function(e){return Array.from(e).map((function(e){return e.charCodeAt(0)<128?e.charCodeAt(0).toString(16):encodeURIComponent(e).replace(/%/g,"").toLowerCase()})).join("")}((e=e.replace(new RegExp(r(n),"g")," ")).slice(1,e.length-1))}}`},l=function(e){if(e.startsWith("{")&&e.endsWith("}"))return function(e){return 0==e.length?"":decodeURIComponent("%"+(e.match(/.{1,2}/g)||[]).join("%"))}(e.slice(1,e.length-1))};let u=e.replace(o,"").replace(new RegExp(`({[^}]*})+?|;([^${r(n)}]*)`,"g"),(function(e,t,n){return void 0!==t?c(t):" "+c(`{${n.slice(1)}}`)})).replace(new RegExp(r(n),"g")," ");const d=/(\([^()]+\))+?/g;for(;d.test(u);)u=u.replace(d,"");u=u.replace(/\d+\.(\.\.)?/g,""),u=u.replace(/\.\.\./g,""),u=u.replace(/\$\d+/g,"");let h=u.trim().split(new RegExp(/\s+/));h=h.filter((e=>""!==e));let p="";for(let e=0;e<h.length;e++){const n=l(h[e]);if(void 0!==n){this._comments[this.fen()]=n;continue}const r=this._moveFromSan(h[e],t);if(null==r){if(!(E.indexOf(h[e])>-1))throw new Error(`Invalid move in PGN: ${h[e]}`);p=h[e]}else p="",this._makeMove(r)}p&&Object.keys(this._header).length&&!this._header.Result&&this.header("Result",p)}_moveToSan(e,t){let n="";if(e.flags&h.KSIDE_CASTLE)n="O-O";else if(e.flags&h.QSIDE_CASTLE)n="O-O-O";else{if(e.piece!==r){const r=function(e,t){const n=e.from,r=e.to,s=e.piece;let o=0,i=0,a=0;for(let e=0,c=t.length;e<c;e++){const c=t[e].from,l=t[e].to;s===t[e].piece&&n!==c&&r===l&&(o++,O(n)===O(c)&&i++,A(n)===A(c)&&a++)}return o>0?i>0&&a>0?k(n):a>0?k(n).charAt(1):k(n).charAt(0):""}(e,t);n+=e.piece.toUpperCase()+r}e.flags&(h.CAPTURE|h.EP_CAPTURE)&&(e.piece===r&&(n+=k(e.from)[0]),n+="x"),n+=k(e.to),e.promotion&&(n+="="+e.promotion.toUpperCase())}return this._makeMove(e),this.isCheck()&&(this.isCheckmate()?n+="#":n+="+"),this._undoMove(),n}_moveFromSan(e,t=!1){const n=R(e);let r,s,o,i,a,c=x(n),l=this._moves({legal:!0,piece:c});for(let e=0,t=l.length;e<t;e++)if(n===R(this._moveToSan(l[e],l)))return l[e];if(t)return null;let u=!1;if(s=n.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),s?(r=s[1],o=s[2],i=s[3],a=s[4],1==o.length&&(u=!0)):(s=n.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),s&&(r=s[1],o=s[2],i=s[3],a=s[4],1==o.length&&(u=!0))),c=x(n),l=this._moves({legal:!0,piece:r||c}),!i)return null;for(let e=0,t=l.length;e<t;e++)if(o){if(!(r&&r.toLowerCase()!=l[e].piece||p[o]!=l[e].from||p[i]!=l[e].to||a&&a.toLowerCase()!=l[e].promotion))return l[e];if(u){const t=k(l[e].from);if(!(r&&r.toLowerCase()!=l[e].piece||p[i]!=l[e].to||o!=t[0]&&o!=t[1]||a&&a.toLowerCase()!=l[e].promotion))return l[e]}}else if(n===R(this._moveToSan(l[e],l)).replace("x",""))return l[e];return null}ascii(){let t="   +------------------------+\n";for(let n=p.a8;n<=p.h1;n++){if(0===A(n)&&(t+=" "+"87654321"[O(n)]+" |"),this._board[n]){const r=this._board[n].type;t+=" "+(this._board[n].color===e?r.toUpperCase():r.toLowerCase())+" "}else t+=" . ";n+1&136&&(t+="|\n",n+=8)}return t+="   +------------------------+\n",t+="     a  b  c  d  e  f  g  h",t}perft(e){const t=this._moves({legal:!1});let n=0;const r=this._turn;for(let s=0,o=t.length;s<o;s++)this._makeMove(t[s]),this._isKingAttacked(r)||(e-1>0?n+=this.perft(e-1):n++),this._undoMove();return n}_makePretty(e){const{color:t,piece:n,from:r,to:s,flags:o,captured:i,promotion:a}=e;let c="";for(const e in h)h[e]&o&&(c+=u[e]);const l=k(r),d=k(s),p={color:t,piece:n,from:l,to:d,san:this._moveToSan(e,this._moves({legal:!0})),flags:c,lan:l+d,before:this.fen(),after:""};return this._makeMove(e),p.after=this.fen(),this._undoMove(),i&&(p.captured=i),a&&(p.promotion=a,p.lan+=a),p}turn(){return this._turn}board(){const e=[];let t=[];for(let n=p.a8;n<=p.h1;n++)null==this._board[n]?t.push(null):t.push({square:k(n),type:this._board[n].type,color:this._board[n].color}),n+1&136&&(e.push(t),t=[],n+=8);return e}squareColor(e){if(e in p){const t=p[e];return(O(t)+A(t))%2==0?"light":"dark"}return null}history({verbose:e=!1}={}){const t=[],n=[];for(;this._history.length>0;)t.push(this._undoMove());for(;;){const r=t.pop();if(!r)break;e?n.push(this._makePretty(r)):n.push(this._moveToSan(r,this._moves())),this._makeMove(r)}return n}_pruneComments(){const e=[],t={},n=e=>{e in this._comments&&(t[e]=this._comments[e])};for(;this._history.length>0;)e.push(this._undoMove());for(n(this.fen());;){const t=e.pop();if(!t)break;this._makeMove(t),n(this.fen())}this._comments=t}getComment(){return this._comments[this.fen()]}setComment(e){this._comments[this.fen()]=e.replace("{","[").replace("}","]")}deleteComment(){const e=this._comments[this.fen()];return delete this._comments[this.fen()],e}getComments(){return this._pruneComments(),Object.keys(this._comments).map((e=>({fen:e,comment:this._comments[e]})))}deleteComments(){return this._pruneComments(),Object.keys(this._comments).map((e=>{const t=this._comments[e];return delete this._comments[e],{fen:e,comment:t}}))}setCastlingRights(e,t){for(const n of[a,i])void 0!==t[n]&&(t[n]?this._castling[e]|=_[n]:this._castling[e]&=~_[n]);this._updateCastlingRights();const n=this.getCastlingRights(e);return!(void 0!==t[a]&&t[a]!==n[a]||void 0!==t[i]&&t[i]!==n[i])}getCastlingRights(e){return{[a]:0!=(this._castling[e]&_[a]),[i]:0!=(this._castling[e]&_[i])}}moveNumber(){return this._moveNumber}}var M=n(6485),I=n(3379),F=n.n(I),L=n(7795),U=n.n(L),q=n(569),N=n.n(q),B=n(3565),D=n.n(B),$=n(9216),K=n.n($),H=n(4589),z=n.n(H),Y=n(7471),Q={};Q.styleTagTransform=z(),Q.setAttributes=D(),Q.insert=N().bind(null,"head"),Q.domAPI=U(),Q.insertStyleElement=K(),F()(Y.Z,Q),Y.Z&&Y.Z.locals&&Y.Z.locals;var G=n(6987),W={};W.styleTagTransform=z(),W.setAttributes=D(),W.insert=N().bind(null,"head"),W.domAPI=U(),W.insertStyleElement=K(),F()(G.Z,W),G.Z&&G.Z.locals&&G.Z.locals;var Z=n(4751),J={};J.styleTagTransform=z(),J.setAttributes=D(),J.insert=N().bind(null,"head"),J.domAPI=U(),J.insertStyleElement=K(),F()(Z.Z,J),Z.Z&&Z.Z.locals&&Z.Z.locals;var V=n(7573),X={};X.styleTagTransform=z(),X.setAttributes=D(),X.insert=N().bind(null,"head"),X.domAPI=U(),X.insertStyleElement=K(),F()(V.Z,X),V.Z&&V.Z.locals&&V.Z.locals,n.p;const ee=["white","black"],te=["a","b","c","d","e","f","g","h"],ne=["1","2","3","4","5","6","7","8"],re=[...ne].reverse(),se=Array.prototype.concat(...te.map((e=>ne.map((t=>e+t))))),oe=e=>se[8*e[0]+e[1]],ie=e=>[e.charCodeAt(0)-97,e.charCodeAt(1)-49],ae=se.map(ie),ce=()=>{let e;return{start(){e=performance.now()},cancel(){e=void 0},stop(){if(!e)return 0;const t=performance.now()-e;return e=void 0,t}}},le=e=>"white"===e?"black":"white",ue=(e,t)=>{const n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},de=(e,t)=>e.role===t.role&&e.color===t.color,he=e=>(t,n)=>[(n?t[0]:7-t[0])*e.width/8,(n?7-t[1]:t[1])*e.height/8],pe=(e,t)=>{e.style.transform=`translate(${t[0]}px,${t[1]}px)`},fe=(e,t,n=1)=>{e.style.transform=`translate(${t[0]}px,${t[1]}px) scale(${n})`},ge=(e,t)=>{e.style.visibility=t?"visible":"hidden"},me=e=>{var t;return e.clientX||0===e.clientX?[e.clientX,e.clientY]:(null===(t=e.targetTouches)||void 0===t?void 0:t[0])?[e.targetTouches[0].clientX,e.targetTouches[0].clientY]:void 0},be=e=>2===e.buttons||2===e.button,ve=(e,t)=>{const n=document.createElement(e);return t&&(n.className=t),n};function we(e,t,n){const r=ie(e);return t||(r[0]=7-r[0],r[1]=7-r[1]),[n.left+n.width*r[0]/8+n.width/16,n.top+n.height*(7-r[1])/8+n.height/16]}const _e=(e,t)=>Math.abs(e-t),ye=e=>(t,n,r,s)=>_e(t,r)<2&&("white"===e?s===n+1||n<=1&&s===n+2&&t===r:s===n-1||n>=6&&s===n-2&&t===r),Se=(e,t,n,r)=>{const s=_e(e,n),o=_e(t,r);return 1===s&&2===o||2===s&&1===o},Ee=(e,t,n,r)=>_e(e,n)===_e(t,r),Oe=(e,t,n,r)=>e===n||t===r,Ae=(e,t,n,r)=>Ee(e,t,n,r)||Oe(e,t,n,r),Pe=(e,t,n)=>(r,s,o,i)=>_e(r,o)<2&&_e(s,i)<2||n&&s===i&&s===("white"===e?0:7)&&(4===r&&(2===o&&t.includes(0)||6===o&&t.includes(7))||t.includes(o));function ke(e,t,n){const r=e.get(t);if(!r)return[];const s=ie(t),o=r.role,i="pawn"===o?ye(r.color):"knight"===o?Se:"bishop"===o?Ee:"rook"===o?Oe:"queen"===o?Ae:Pe(r.color,function(e,t){const n="white"===t?"1":"8",r=[];for(const[s,o]of e)s[1]===n&&o.color===t&&"rook"===o.role&&r.push(ie(s)[0]);return r}(e,r.color),n);return ae.filter((e=>(s[0]!==e[0]||s[1]!==e[1])&&i(s[0],s[1],e[0],e[1]))).map(oe)}function Ce(e,...t){e&&setTimeout((()=>e(...t)),1)}function Te(e){e.premovable.current&&(e.premovable.current=void 0,Ce(e.premovable.events.unset))}function xe(e){const t=e.predroppable;t.current&&(t.current=void 0,Ce(t.events.unset))}function Re(e,t,n){const r=e.pieces.get(t),s=e.pieces.get(n);if(t===n||!r)return!1;const o=s&&s.color!==r.color?s:void 0;return n===e.selected&&qe(e),Ce(e.events.move,t,n,o),function(e,t,n){if(!e.autoCastle)return!1;const r=e.pieces.get(t);if(!r||"king"!==r.role)return!1;const s=ie(t),o=ie(n);if(0!==s[1]&&7!==s[1]||s[1]!==o[1])return!1;4!==s[0]||e.pieces.has(n)||(6===o[0]?n=oe([7,o[1]]):2===o[0]&&(n=oe([0,o[1]])));const i=e.pieces.get(n);return!(!i||i.color!==r.color||"rook"!==i.role||(e.pieces.delete(t),e.pieces.delete(n),s[0]<o[0]?(e.pieces.set(oe([6,o[1]]),r),e.pieces.set(oe([5,o[1]]),i)):(e.pieces.set(oe([2,o[1]]),r),e.pieces.set(oe([3,o[1]]),i)),0))}(e,t,n)||(e.pieces.set(n,r),e.pieces.delete(t)),e.lastMove=[t,n],e.check=void 0,Ce(e.events.change),o||!0}function je(e,t,n,r){if(e.pieces.has(n)){if(!r)return!1;e.pieces.delete(n)}return Ce(e.events.dropNewPiece,t,n),e.pieces.set(n,t),e.lastMove=[n],e.check=void 0,Ce(e.events.change),e.movable.dests=void 0,e.turnColor=le(e.turnColor),!0}function Me(e,t,n){const r=Re(e,t,n);return r&&(e.movable.dests=void 0,e.turnColor=le(e.turnColor),e.animation.current=void 0),r}function Ie(e,t,n){if(Be(e,t,n)){const r=Me(e,t,n);if(r){const s=e.hold.stop();qe(e);const o={premove:!1,ctrlKey:e.stats.ctrlKey,holdTime:s};return!0!==r&&(o.captured=r),Ce(e.movable.events.after,t,n,o),!0}}else if($e(e,t,n))return function(e,t,n,r){xe(e),e.premovable.current=[t,n],Ce(e.premovable.events.set,t,n,r)}(e,t,n,{ctrlKey:e.stats.ctrlKey}),qe(e),!0;return qe(e),!1}function Fe(e,t,n,r){const s=e.pieces.get(t);s&&(function(e,t,n){const r=e.pieces.get(t);return!(!r||t!==n&&e.pieces.has(n)||"both"!==e.movable.color&&(e.movable.color!==r.color||e.turnColor!==r.color))}(e,t,n)||r)?(e.pieces.delete(t),je(e,s,n,r),Ce(e.movable.events.afterNewPiece,s.role,n,{premove:!1,predrop:!1})):s&&function(e,t,n){const r=e.pieces.get(t),s=e.pieces.get(n);return!!r&&(!s||s.color!==e.movable.color)&&e.predroppable.enabled&&("pawn"!==r.role||"1"!==n[1]&&"8"!==n[1])&&e.movable.color===r.color&&e.turnColor!==r.color}(e,t,n)?function(e,t,n){Te(e),e.predroppable.current={role:t,key:n},Ce(e.predroppable.events.set,t,n)}(e,s.role,n):(Te(e),xe(e)),e.pieces.delete(t),qe(e)}function Le(e,t,n){if(Ce(e.events.select,t),e.selected){if(e.selected===t&&!e.draggable.enabled)return qe(e),void e.hold.cancel();if((e.selectable.enabled||n)&&e.selected!==t&&Ie(e,e.selected,t))return void(e.stats.dragged=!1)}(e.selectable.enabled||e.draggable.enabled)&&(Ne(e,t)||De(e,t))&&(Ue(e,t),e.hold.start())}function Ue(e,t){e.selected=t,De(e,t)?e.premovable.dests=ke(e.pieces,t,e.premovable.castle):e.premovable.dests=void 0}function qe(e){e.selected=void 0,e.premovable.dests=void 0,e.hold.cancel()}function Ne(e,t){const n=e.pieces.get(t);return!!n&&("both"===e.movable.color||e.movable.color===n.color&&e.turnColor===n.color)}const Be=(e,t,n)=>{var r,s;return t!==n&&Ne(e,t)&&(e.movable.free||!!(null===(s=null===(r=e.movable.dests)||void 0===r?void 0:r.get(t))||void 0===s?void 0:s.includes(n)))};function De(e,t){const n=e.pieces.get(t);return!!n&&e.premovable.enabled&&e.movable.color===n.color&&e.turnColor!==n.color}const $e=(e,t,n)=>t!==n&&De(e,t)&&ke(e.pieces,t,e.premovable.castle).includes(n);function Ke(e){const t=e.premovable.current;if(!t)return!1;const n=t[0],r=t[1];let s=!1;if(Be(e,n,r)){const t=Me(e,n,r);if(t){const o={premove:!0};!0!==t&&(o.captured=t),Ce(e.movable.events.after,n,r,o),s=!0}}return Te(e),s}function He(e){Te(e),xe(e),qe(e)}function ze(e){e.movable.color=e.movable.dests=e.animation.current=void 0,He(e)}function Ye(e,t,n){let r=Math.floor(8*(e[0]-n.left)/n.width);t||(r=7-r);let s=7-Math.floor(8*(e[1]-n.top)/n.height);return t||(s=7-s),r>=0&&r<8&&s>=0&&s<8?oe([r,s]):void 0}const Qe=e=>"white"===e.orientation,Ge="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR",We={p:"pawn",r:"rook",n:"knight",b:"bishop",q:"queen",k:"king"},Ze={pawn:"p",rook:"r",knight:"n",bishop:"b",queen:"q",king:"k"};function Je(e){"start"===e&&(e=Ge);const t=new Map;let n=7,r=0;for(const s of e)switch(s){case" ":case"[":return t;case"/":if(--n,n<0)return t;r=0;break;case"~":{const e=t.get(oe([r-1,n]));e&&(e.promoted=!0);break}default:{const e=s.charCodeAt(0);if(e<57)r+=e-48;else{const e=s.toLowerCase();t.set(oe([r,n]),{role:We[e],color:s===e?"black":"white"}),++r}}}return t}function Ve(e,t){t.animation&&(et(e.animation,t.animation),(e.animation.duration||0)<70&&(e.animation.enabled=!1))}function Xe(e,t){var n,r,s;if((null===(n=t.movable)||void 0===n?void 0:n.dests)&&(e.movable.dests=void 0),(null===(r=t.drawable)||void 0===r?void 0:r.autoShapes)&&(e.drawable.autoShapes=[]),et(e,t),t.fen&&(e.pieces=Je(t.fen),e.drawable.shapes=(null===(s=t.drawable)||void 0===s?void 0:s.shapes)||[]),"check"in t&&function(e,t){if(e.check=void 0,!0===t&&(t=e.turnColor),t)for(const[n,r]of e.pieces)"king"===r.role&&r.color===t&&(e.check=n)}(e,t.check||!1),"lastMove"in t&&!t.lastMove?e.lastMove=void 0:t.lastMove&&(e.lastMove=t.lastMove),e.selected&&Ue(e,e.selected),Ve(e,t),!e.movable.rookCastle&&e.movable.dests){const t="white"===e.movable.color?"1":"8",n="e"+t,r=e.movable.dests.get(n),s=e.pieces.get(n);if(!r||!s||"king"!==s.role)return;e.movable.dests.set(n,r.filter((e=>!(e==="a"+t&&r.includes("c"+t)||e==="h"+t&&r.includes("g"+t)))))}}function et(e,t){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Object.prototype.hasOwnProperty.call(e,n)&&tt(e[n])&&tt(t[n])?et(e[n],t[n]):e[n]=t[n])}function tt(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}const nt=(e,t)=>t.animation.enabled?function(e,t){const n=new Map(t.pieces),r=e(t),s=function(e,t){const n=new Map,r=[],s=new Map,o=[],i=[],a=new Map;let c,l,u;for(const[t,n]of e)a.set(t,st(t,n));for(const e of se)c=t.pieces.get(e),l=a.get(e),c?l?de(c,l.piece)||(o.push(l),i.push(st(e,c))):i.push(st(e,c)):l&&o.push(l);for(const e of i)l=ot(e,o.filter((t=>de(e.piece,t.piece)))),l&&(u=[l.pos[0]-e.pos[0],l.pos[1]-e.pos[1]],n.set(e.key,u.concat(u)),r.push(l.key));for(const e of o)r.includes(e.key)||s.set(e.key,e.piece);return{anims:n,fadings:s}}(n,t);if(s.anims.size||s.fadings.size){const e=t.animation.current&&t.animation.current.start;t.animation.current={start:performance.now(),frequency:1/t.animation.duration,plan:s},e||it(t,performance.now())}else t.dom.redraw();return r}(e,t):rt(e,t);function rt(e,t){const n=e(t);return t.dom.redraw(),n}const st=(e,t)=>({key:e,pos:ie(e),piece:t}),ot=(e,t)=>t.sort(((t,n)=>ue(e.pos,t.pos)-ue(e.pos,n.pos)))[0];function it(e,t){const n=e.animation.current;if(void 0===n)return void(e.dom.destroyed||e.dom.redrawNow());const r=1-(t-n.start)*n.frequency;if(r<=0)e.animation.current=void 0,e.dom.redrawNow();else{const t=at(r);for(const e of n.plan.anims.values())e[2]=e[0]*t,e[3]=e[1]*t;e.dom.redrawNow(!0),requestAnimationFrame(((t=performance.now())=>it(e,t)))}}const at=e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,ct=["green","red","blue","yellow"];function lt(e,t){if(t.touches&&t.touches.length>1)return;t.stopPropagation(),t.preventDefault(),t.ctrlKey?qe(e):He(e);const n=me(t),r=Ye(n,Qe(e),e.dom.bounds());r&&(e.drawable.current={orig:r,pos:n,brush:ft(t),snapToValidMove:e.drawable.defaultSnapToValidMove},ut(e))}function ut(e){requestAnimationFrame((()=>{const t=e.drawable.current;if(t){const n=Ye(t.pos,Qe(e),e.dom.bounds());n||(t.snapToValidMove=!1);const r=t.snapToValidMove?function(e,t,n,r){const s=ie(e),o=ae.filter((e=>Ae(s[0],s[1],e[0],e[1])||Se(s[0],s[1],e[0],e[1]))),i=o.map((e=>we(oe(e),n,r))).map((e=>ue(t,e))),[,a]=i.reduce(((e,t,n)=>e[0]<t?e:[t,n]),[i[0],0]);return oe(o[a])}(t.orig,t.pos,Qe(e),e.dom.bounds()):n;r!==t.mouseSq&&(t.mouseSq=r,t.dest=r!==t.orig?r:void 0,e.dom.redrawNow()),ut(e)}}))}function dt(e,t){e.drawable.current&&(e.drawable.current.pos=me(t))}function ht(e){const t=e.drawable.current;t&&(t.mouseSq&&function(e,t){const n=e=>e.orig===t.orig&&e.dest===t.dest,r=e.shapes.find(n);r&&(e.shapes=e.shapes.filter((e=>!n(e)))),r&&r.brush===t.brush||e.shapes.push({orig:t.orig,dest:t.dest,brush:t.brush}),gt(e)}(e.drawable,t),pt(e))}function pt(e){e.drawable.current&&(e.drawable.current=void 0,e.dom.redraw())}function ft(e){var t;const n=(e.shiftKey||e.ctrlKey)&&be(e),r=e.altKey||e.metaKey||(null===(t=e.getModifierState)||void 0===t?void 0:t.call(e,"AltGraph"));return ct[(n?1:0)+(r?2:0)]}function gt(e){e.onChange&&e.onChange(e.shapes)}function mt(e){requestAnimationFrame((()=>{var t;const n=e.draggable.current;if(!n)return;(null===(t=e.animation.current)||void 0===t?void 0:t.plan.anims.has(n.orig))&&(e.animation.current=void 0);const r=e.pieces.get(n.orig);if(r&&de(r,n.piece)){if(!n.started&&ue(n.pos,n.origPos)>=Math.pow(e.draggable.distance,2)&&(n.started=!0),n.started){if("function"==typeof n.element){const e=n.element();if(!e)return;e.cgDragging=!0,e.classList.add("dragging"),n.element=e}const t=e.dom.bounds();pe(n.element,[n.pos[0]-t.left-t.width/16,n.pos[1]-t.top-t.height/16]),n.keyHasChanged||(n.keyHasChanged=n.orig!==Ye(n.pos,Qe(e),t))}}else wt(e);mt(e)}))}function bt(e,t){e.draggable.current&&(!t.touches||t.touches.length<2)&&(e.draggable.current.pos=me(t))}function vt(e,t){const n=e.draggable.current;if(!n)return;if("touchend"===t.type&&!1!==t.cancelable&&t.preventDefault(),"touchend"===t.type&&n.originTarget!==t.target&&!n.newPiece)return void(e.draggable.current=void 0);Te(e),xe(e);const r=Ye(me(t)||n.pos,Qe(e),e.dom.bounds());r&&n.started&&n.orig!==r?n.newPiece?Fe(e,n.orig,r,n.force):(e.stats.ctrlKey=t.ctrlKey,Ie(e,n.orig,r)&&(e.stats.dragged=!0)):n.newPiece?e.pieces.delete(n.orig):e.draggable.deleteOnDropOff&&!r&&(e.pieces.delete(n.orig),Ce(e.events.change)),(n.orig!==n.previouslySelected&&!n.keyHasChanged||n.orig!==r&&r)&&e.selectable.enabled||qe(e),_t(e),e.draggable.current=void 0,e.dom.redraw()}function wt(e){const t=e.draggable.current;t&&(t.newPiece&&e.pieces.delete(t.orig),e.draggable.current=void 0,qe(e),_t(e),e.dom.redraw())}function _t(e){const t=e.dom.elements;t.ghost&&ge(t.ghost,!1)}function yt(e,t){let n=e.dom.elements.board.firstChild;for(;n;){if(n.cgKey===t&&"PIECE"===n.tagName)return n;n=n.nextSibling}}function St(e,t){e.exploding&&(t?e.exploding.stage=t:e.exploding=void 0,e.dom.redraw())}function Et(e,t,n){const r=new Map,s=[];for(const t of e)r.set(t.hash,!1);let o,i=t.firstChild;for(;i;)o=i.getAttribute("cgHash"),r.has(o)?r.set(o,!0):s.push(i),i=i.nextSibling;for(const e of s)t.removeChild(e);for(const s of e)r.get(s.hash)||t.appendChild(n(s))}function Ot(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function At({orig:e,dest:t,brush:n,piece:r,modifiers:s,customSvg:o},i,a,c){return[c.width,c.height,a,e,t,n,t&&(i.get(t)||0)>1,r&&Pt(r),s&&(l=s,[l.lineWidth,l.hilite].filter((e=>e)).join(",")),o&&kt(o)].filter((e=>e)).join(",");var l}function Pt(e){return[e.color,e.role,e.scale].filter((e=>e)).join(",")}function kt(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)>>>0;return"custom-"+t.toString()}function Ct(e,{shape:t,current:n,hash:r},s,o,i){var a;let c;const l=Rt(ie(t.orig),e.orientation);if(t.customSvg)c=function(e,t,n){const[r,s]=Ft(t,n),o=xt(Ot("g"),{transform:`translate(${r},${s})`}),i=xt(Ot("svg"),{width:1,height:1,viewBox:"0 0 100 100"});return o.appendChild(i),i.innerHTML=e,o}(t.customSvg,l,i);else if(t.dest){let r=s[t.brush];t.modifiers&&(r=jt(r,t.modifiers)),c=function(e,t,n,r,s,o,i=!1){function a(i){const a=function(e){return(e?20:10)/64}(s&&!r),c=Ft(t,o),l=Ft(n,o),u=l[0]-c[0],d=l[1]-c[1],h=Math.atan2(d,u),p=Math.cos(h)*a,f=Math.sin(h)*a;return xt(Ot("line"),{stroke:i?"white":e.color,"stroke-width":Mt(e,r)+(i?.04:0),"stroke-linecap":"round","marker-end":`url(#arrowhead-${i?"hilite":e.key})`,opacity:i?1:It(e,r),x1:c[0],y1:c[1],x2:l[0]-p,y2:l[1]-f})}const c=i?Ot("g"):a(!1);return i&&[!0,!1].map((e=>c.appendChild(a(e)))),c}(r,l,Rt(ie(t.dest),e.orientation),n,(o.get(t.dest)||0)>1,i,null===(a=t.modifiers)||void 0===a?void 0:a.hilite)}else c=function(e,t,n,r){const s=Ft(t,r),o=[3/64,4/64],i=(r.width+r.height)/(4*Math.max(r.width,r.height));return xt(Ot("circle"),{stroke:e.color,"stroke-width":o[n?0:1],fill:"none",opacity:It(e,n),cx:s[0],cy:s[1],r:i-o[1]/2})}(s[t.brush],l,n,i);return c.setAttribute("cgHash",r),c}function Tt(e){const t=xt(Ot("marker"),{id:"arrowhead-"+e.key,orient:"auto",markerWidth:4,markerHeight:8,refX:"hilite"===e.key?1.86:2.05,refY:2});return t.appendChild(xt(Ot("path"),{d:"M0,0 V4 L3,2 Z",fill:e.color})),t.setAttribute("cgKey",e.key),t}function xt(e,t){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.setAttribute(n,t[n]);return e}function Rt(e,t){return"white"===t?e:[7-e[0],7-e[1]]}function jt(e,t){return{color:e.color,opacity:Math.round(10*e.opacity)/10,lineWidth:Math.round(t.lineWidth||e.lineWidth),key:[e.key,t.lineWidth].filter((e=>e)).join("")}}function Mt(e,t){return(e.lineWidth||10)*(t?.85:1)/64}function It(e,t){return(e.opacity||1)*(t?.9:1)}function Ft(e,t){const n=Math.min(1,t.width/t.height),r=Math.min(1,t.height/t.width);return[(e[0]-3.5)*n,(3.5-e[1])*r]}function Lt(e,t){const n=ve("coords",t);let r;for(const t of e)r=ve("coord"),r.textContent=t,n.appendChild(r);return n}function Ut(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}const qt=e=>t=>{e.draggable.current?wt(e):e.drawable.current?pt(e):t.shiftKey||be(t)?e.drawable.enabled&&lt(e,t):e.viewOnly||(e.dropmode.active?function(e,t){if(!e.dropmode.active)return;Te(e),xe(e);const n=e.dropmode.piece;if(n){e.pieces.set("a0",n);const r=me(t),s=r&&Ye(r,Qe(e),e.dom.bounds());s&&Fe(e,"a0",s)}e.dom.redraw()}(e,t):function(e,t){if(!t.isTrusted||void 0!==t.button&&0!==t.button)return;if(t.touches&&t.touches.length>1)return;const n=e.dom.bounds(),r=me(t),s=Ye(r,Qe(e),n);if(!s)return;const o=e.pieces.get(s),i=e.selected;var a;i||!e.drawable.enabled||!e.drawable.eraseOnClick&&o&&o.color===e.turnColor||(a=e).drawable.shapes.length&&(a.drawable.shapes=[],a.dom.redraw(),gt(a.drawable)),!1!==t.cancelable&&(!t.touches||e.blockTouchScroll||o||i||function(e,t){const n=Qe(e),r=e.dom.bounds(),s=Math.pow(r.width/8,2);for(const o of e.pieces.keys()){const e=we(o,n,r);if(ue(e,t)<=s)return!0}return!1}(e,r))&&t.preventDefault();const c=!!e.premovable.current,l=!!e.predroppable.current;e.stats.ctrlKey=t.ctrlKey,e.selected&&Be(e,e.selected,s)?nt((e=>Le(e,s)),e):Le(e,s);const u=e.selected===s,d=yt(e,s);if(o&&d&&u&&function(e,t){const n=e.pieces.get(t);return!!n&&e.draggable.enabled&&("both"===e.movable.color||e.movable.color===n.color&&(e.turnColor===n.color||e.premovable.enabled))}(e,s)){e.draggable.current={orig:s,piece:o,origPos:r,pos:r,started:e.draggable.autoDistance&&e.stats.dragged,element:d,previouslySelected:i,originTarget:t.target,keyHasChanged:!1},d.cgDragging=!0,d.classList.add("dragging");const a=e.dom.elements.ghost;a&&(a.className=`ghost ${o.color} ${o.role}`,pe(a,he(n)(ie(s),Qe(e))),ge(a,!0)),mt(e)}else c&&Te(e),l&&xe(e);e.dom.redraw()}(e,t))},Nt=(e,t,n)=>r=>{e.drawable.current?e.drawable.enabled&&n(e,r):e.viewOnly||t(e,r)};function Bt(e){var t,n;const r=e.dom.elements.wrap.getBoundingClientRect(),s=e.dom.elements.container,o=r.height/r.width,i=8*Math.floor(r.width*window.devicePixelRatio/8)/window.devicePixelRatio,a=i*o;s.style.width=i+"px",s.style.height=a+"px",e.dom.bounds.clear(),null===(t=e.addDimensionsCssVarsTo)||void 0===t||t.style.setProperty("--cg-width",i+"px"),null===(n=e.addDimensionsCssVarsTo)||void 0===n||n.style.setProperty("--cg-height",a+"px")}const Dt=e=>"PIECE"===e.tagName,$t=e=>"SQUARE"===e.tagName;function Kt(e,t){for(const n of t)e.dom.elements.board.removeChild(n)}function Ht(e,t){const n=e[1];return`${t?10-n:3+n}`}const zt=e=>`${e.color} ${e.role}`;function Yt(e,t,n){const r=e.get(t);r?e.set(t,`${r} ${n}`):e.set(t,n)}function Qt(e,t,n){const r=e.get(t);r?r.push(n):e.set(t,[n])}const Gt=e=>{var t,n,r;return[e.orig,null===(t=e.piece)||void 0===t?void 0:t.role,null===(n=e.piece)||void 0===n?void 0:n.color,null===(r=e.piece)||void 0===r?void 0:r.scale].join(",")};function Wt(e,t){const n={pieces:Je(Ge),orientation:"white",turnColor:"white",coordinates:!0,ranksPosition:"right",autoCastle:!0,viewOnly:!1,disableContextMenu:!1,addPieceZIndex:!1,blockTouchScroll:!1,pieceKey:!1,highlight:{lastMove:!0,check:!0},animation:{enabled:!0,duration:200},movable:{free:!0,color:"both",showDests:!0,events:{},rookCastle:!0},premovable:{enabled:!0,showDests:!0,castle:!0,events:{}},predroppable:{enabled:!1,events:{}},draggable:{enabled:!0,distance:3,autoDistance:!0,showGhost:!0,deleteOnDropOff:!1},dropmode:{active:!1},selectable:{enabled:!0},stats:{dragged:!("ontouchstart"in window)},events:{},drawable:{enabled:!0,visible:!0,defaultSnapToValidMove:!0,eraseOnClick:!0,shapes:[],autoShapes:[],brushes:{green:{key:"g",color:"#15781B",opacity:1,lineWidth:10},red:{key:"r",color:"#882020",opacity:1,lineWidth:10},blue:{key:"b",color:"#003088",opacity:1,lineWidth:10},yellow:{key:"y",color:"#e68f00",opacity:1,lineWidth:10},paleBlue:{key:"pb",color:"#003088",opacity:.4,lineWidth:15},paleGreen:{key:"pg",color:"#15781B",opacity:.4,lineWidth:15},paleRed:{key:"pr",color:"#882020",opacity:.4,lineWidth:15},paleGrey:{key:"pgr",color:"#4a4a4a",opacity:.35,lineWidth:15}},prevSvgHash:""},hold:ce()};function r(){const t="dom"in n?n.dom.unbind:void 0,r=function(e,t){e.innerHTML="",e.classList.add("cg-wrap");for(const n of ee)e.classList.toggle("orientation-"+n,t.orientation===n);e.classList.toggle("manipulable",!t.viewOnly);const n=ve("cg-container");e.appendChild(n);const r=ve("cg-board");let s,o,i,a;if(n.appendChild(r),t.drawable.visible&&(s=xt(Ot("svg"),{class:"cg-shapes",viewBox:"-4 -4 8 8",preserveAspectRatio:"xMidYMid slice"}),s.appendChild(Ot("defs")),s.appendChild(Ot("g")),o=xt(Ot("svg"),{class:"cg-custom-svgs",viewBox:"-3.5 -3.5 8 8",preserveAspectRatio:"xMidYMid slice"}),o.appendChild(Ot("g")),i=ve("cg-auto-pieces"),n.appendChild(s),n.appendChild(o),n.appendChild(i)),t.coordinates){const e="black"===t.orientation?" black":"",r="left"===t.ranksPosition?" left":"";n.appendChild(Lt(ne,"ranks"+e+r)),n.appendChild(Lt(te,"files"+e))}return t.draggable.enabled&&t.draggable.showGhost&&(a=ve("piece","ghost"),ge(a,!1),n.appendChild(a)),{board:r,container:n,wrap:e,ghost:a,svg:s,customSvg:o,autoPieces:i}}(e,n),s=function(e){let t;const n=()=>(void 0===t&&(t=r.board.getBoundingClientRect()),t);return n.clear=()=>{t=void 0},n}(),o=e=>{(function(e){const t=Qe(e),n=he(e.dom.bounds()),r=e.dom.elements.board,s=e.pieces,o=e.animation.current,i=o?o.plan.anims:new Map,a=o?o.plan.fadings:new Map,c=e.draggable.current,l=function(e){var t;const n=new Map;if(e.lastMove&&e.highlight.lastMove)for(const t of e.lastMove)Yt(n,t,"last-move");if(e.check&&e.highlight.check&&Yt(n,e.check,"check"),e.selected&&(Yt(n,e.selected,"selected"),e.movable.showDests)){const r=null===(t=e.movable.dests)||void 0===t?void 0:t.get(e.selected);if(r)for(const t of r)Yt(n,t,"move-dest"+(e.pieces.has(t)?" oc":""));const s=e.premovable.dests;if(s)for(const t of s)Yt(n,t,"premove-dest"+(e.pieces.has(t)?" oc":""))}const r=e.premovable.current;if(r)for(const e of r)Yt(n,e,"current-premove");else e.predroppable.current&&Yt(n,e.predroppable.current.key,"current-premove");const s=e.exploding;if(s)for(const e of s.keys)Yt(n,e,"exploding"+s.stage);return n}(e),u=new Set,d=new Set,h=new Map,p=new Map;let f,g,m,b,v,w,_,y,S,E;for(g=r.firstChild;g;){if(f=g.cgKey,Dt(g))if(m=s.get(f),v=i.get(f),w=a.get(f),b=g.cgPiece,!g.cgDragging||c&&c.orig===f||(g.classList.remove("dragging"),pe(g,n(ie(f),t)),g.cgDragging=!1),!w&&g.cgFading&&(g.cgFading=!1,g.classList.remove("fading")),m){if(v&&g.cgAnimating&&b===zt(m)){const e=ie(f);e[0]+=v[2],e[1]+=v[3],g.classList.add("anim"),pe(g,n(e,t))}else g.cgAnimating&&(g.cgAnimating=!1,g.classList.remove("anim"),pe(g,n(ie(f),t)),e.addPieceZIndex&&(g.style.zIndex=Ht(ie(f),t)));b!==zt(m)||w&&g.cgFading?w&&b===zt(w)?(g.classList.add("fading"),g.cgFading=!0):Qt(h,b,g):u.add(f)}else Qt(h,b,g);else if($t(g)){const e=g.className;l.get(f)===e?d.add(f):Qt(p,e,g)}g=g.nextSibling}for(const[e,s]of l)if(!d.has(e)){S=p.get(s),E=S&&S.pop();const o=n(ie(e),t);if(E)E.cgKey=e,pe(E,o);else{const t=ve("square",s);t.cgKey=e,pe(t,o),r.insertBefore(t,r.firstChild)}}for(const[o,a]of s)if(v=i.get(o),!u.has(o))if(_=h.get(zt(a)),y=_&&_.pop(),y){y.cgKey=o,y.cgFading&&(y.classList.remove("fading"),y.cgFading=!1);const r=ie(o);e.addPieceZIndex&&(y.style.zIndex=Ht(r,t)),v&&(y.cgAnimating=!0,y.classList.add("anim"),r[0]+=v[2],r[1]+=v[3]),pe(y,n(r,t))}else{const s=zt(a),i=ve("piece",s),c=ie(o);i.cgPiece=s,i.cgKey=o,v&&(i.cgAnimating=!0,c[0]+=v[2],c[1]+=v[3]),pe(i,n(c,t)),e.addPieceZIndex&&(i.style.zIndex=Ht(c,t)),r.appendChild(i)}for(const t of h.values())Kt(e,t);for(const t of p.values())Kt(e,t)})(a),r.autoPieces&&function(e,t){Et(e.drawable.autoShapes.filter((e=>e.piece)).map((e=>({shape:e,hash:Gt(e),current:!1}))),t,(t=>function(e,{shape:t,hash:n},r){var s,o,i;const a=t.orig,c=null===(s=t.piece)||void 0===s?void 0:s.role,l=null===(o=t.piece)||void 0===o?void 0:o.color,u=null===(i=t.piece)||void 0===i?void 0:i.scale,d=ve("piece",`${c} ${l}`);return d.setAttribute("cgHash",n),d.cgKey=a,d.cgScale=u,fe(d,he(r)(ie(a),Qe(e)),u),d}(e,t,e.dom.bounds())))}(a,r.autoPieces),!e&&r.svg&&function(e,t,n){const r=e.drawable,s=r.current,o=s&&s.mouseSq?s:void 0,i=new Map,a=e.dom.bounds(),c=r.autoShapes.filter((e=>!e.piece));for(const e of r.shapes.concat(c).concat(o?[o]:[]))e.dest&&i.set(e.dest,(i.get(e.dest)||0)+1);const l=r.shapes.concat(c).map((e=>({shape:e,current:!1,hash:At(e,i,!1,a)})));o&&l.push({shape:o,current:!0,hash:At(o,i,!0,a)});const u=l.map((e=>e.hash)).join(";");if(u===e.drawable.prevSvgHash)return;e.drawable.prevSvgHash=u;const d=t.querySelector("defs"),h=t.querySelector("g"),p=n.querySelector("g");!function(e,t,n){var r;const s=new Map;let o;for(const n of t)n.shape.dest&&(o=e.brushes[n.shape.brush],n.shape.modifiers&&(o=jt(o,n.shape.modifiers)),(null===(r=n.shape.modifiers)||void 0===r?void 0:r.hilite)&&s.set("hilite",{key:"hilite",color:"white",opacity:1,lineWidth:1}),s.set(o.key,o));const i=new Set;let a=n.firstChild;for(;a;)i.add(a.getAttribute("cgKey")),a=a.nextSibling;for(const[e,t]of s.entries())i.has(e)||n.appendChild(Tt(t))}(r,l,d),Et(l.filter((e=>!e.shape.customSvg)),h,(t=>Ct(e,t,r.brushes,i,a))),Et(l.filter((e=>e.shape.customSvg)),p,(t=>Ct(e,t,r.brushes,i,a)))}(a,r.svg,r.customSvg)},i=()=>{Bt(a),function(e){const t=Qe(e),n=he(e.dom.bounds());let r=e.dom.elements.board.firstChild;for(;r;)(Dt(r)&&!r.cgAnimating||$t(r))&&pe(r,n(ie(r.cgKey),t)),r=r.nextSibling}(a),r.autoPieces&&function(e){var t;const n=Qe(e),r=he(e.dom.bounds());let s=null===(t=e.dom.elements.autoPieces)||void 0===t?void 0:t.firstChild;for(;s;)fe(s,r(ie(s.cgKey),n),s.cgScale),s=s.nextSibling}(a)},a=n;return a.dom={elements:r,bounds:s,redraw:Zt(o),redrawNow:o,unbind:t},a.drawable.prevSvgHash="",Bt(a),o(!1),function(e,t){const n=e.dom.elements.board;if("ResizeObserver"in window&&new ResizeObserver(t).observe(e.dom.elements.wrap),(e.disableContextMenu||e.drawable.enabled)&&n.addEventListener("contextmenu",(e=>e.preventDefault())),e.viewOnly)return;const r=qt(e);n.addEventListener("touchstart",r,{passive:!1}),n.addEventListener("mousedown",r,{passive:!1})}(a,i),t||(a.dom.unbind=function(e,t){const n=[];if("ResizeObserver"in window||n.push(Ut(document.body,"chessground.resize",t)),!e.viewOnly){const t=Nt(e,bt,dt),r=Nt(e,vt,ht);for(const e of["touchmove","mousemove"])n.push(Ut(document,e,t));for(const e of["touchend","mouseup"])n.push(Ut(document,e,r));const s=()=>e.dom.bounds.clear();n.push(Ut(document,"scroll",s,{capture:!0,passive:!0})),n.push(Ut(window,"resize",s,{passive:!0}))}return()=>n.forEach((e=>e()))}(a,i)),a.events.insert&&a.events.insert(r),a}return Xe(n,t||{}),function(e,t){function n(){!function(e){e.orientation=le(e.orientation),e.animation.current=e.draggable.current=e.selected=void 0}(e),t()}return{set(t){t.orientation&&t.orientation!==e.orientation&&n(),Ve(e,t),(t.fen?nt:rt)((e=>Xe(e,t)),e)},state:e,getFen:()=>{return t=e.pieces,re.map((e=>te.map((n=>{const r=t.get(n+e);if(r){let e=Ze[r.role];return"white"===r.color&&(e=e.toUpperCase()),r.promoted&&(e+="~"),e}return"1"})).join(""))).join("/").replace(/1{2,}/g,(e=>e.length.toString()));var t},toggleOrientation:n,setPieces(t){nt((e=>function(e,t){for(const[n,r]of t)r?e.pieces.set(n,r):e.pieces.delete(n)}(e,t)),e)},selectSquare(t,n){t?nt((e=>Le(e,t,n)),e):e.selected&&(qe(e),e.dom.redraw())},move(t,n){nt((e=>Re(e,t,n)),e)},newPiece(t,n){nt((e=>je(e,t,n)),e)},playPremove(){if(e.premovable.current){if(nt(Ke,e))return!0;e.dom.redraw()}return!1},playPredrop(t){if(e.predroppable.current){const n=function(e,t){const n=e.predroppable.current;let r=!1;return!!n&&(t(n)&&je(e,{role:n.role,color:e.movable.color},n.key)&&(Ce(e.movable.events.afterNewPiece,n.role,n.key,{premove:!1,predrop:!0}),r=!0),xe(e),r)}(e,t);return e.dom.redraw(),n}return!1},cancelPremove(){rt(Te,e)},cancelPredrop(){rt(xe,e)},cancelMove(){rt((e=>{He(e),wt(e)}),e)},stop(){rt((e=>{ze(e),wt(e)}),e)},explode(t){!function(e,t){e.exploding={stage:1,keys:t},e.dom.redraw(),setTimeout((()=>{St(e,2),setTimeout((()=>St(e,void 0)),120)}),120)}(e,t)},setAutoShapes(t){rt((e=>e.drawable.autoShapes=t),e)},setShapes(t){rt((e=>e.drawable.shapes=t),e)},getKeyAtDomPos:t=>Ye(t,Qe(e),e.dom.bounds()),redrawAll:t,dragNewPiece(t,n,r){!function(e,t,n,r){const s="a0";e.pieces.set(s,t),e.dom.redraw();const o=me(n);e.draggable.current={orig:s,piece:t,origPos:o,pos:o,started:!0,element:()=>yt(e,s),originTarget:n.target,newPiece:!0,force:!!r,keyHasChanged:!1},mt(e)}(e,t,n,r)},destroy(){ze(e),e.dom.unbind&&e.dom.unbind(),e.dom.destroyed=!0}}}(r(),r)}function Zt(e){let t=!1;return()=>{t||(t=!0,requestAnimationFrame((()=>{e(),t=!1})))}}const Jt="Let's simulate playing a game of chess! In this game, we will take turns saying our move, in the format: piece, start position, end position. Please separate the information only with a comma and do not say anything other than the three pieces of information I mentioned.";document.getElementById("resetBtn").addEventListener("click",(function(){document.getElementById("status").innerHTML="",tn=["white","black"][Math.floor(2*Math.random())];const e=new j,t={movable:{color:"white",free:!1,dests:on(e)},premovable:{enabled:!1,showDests:!0,castle:!0,dests:on(e)}},n=Wt(document.getElementById("chessground"),t);n.set({movable:{events:{after:hn(n,e)}}}),"white"===tn?(n.toggleOrientation(),Xt=[{role:"user",content:Jt+" You will go first."}],fn().then((t=>pn(n,e,t[0].toLowerCase(),t[1].toLowerCase(),t[2].toLowerCase())))):(Xt=[{role:"user",content:Jt+" I will go first. Please confirm you understand."}],fn().then((e=>console.log(e))))})),Wt(document.getElementById("chessground"),{viewOnly:!0});const Vt=new M.Configuration({apiKey:pk-WkiGNtobhmAHtydNHszJqnXsfyliGYdvRZRqRBudaBUGmPad,basePath:"https://api.pawan.krd/v1"});let Xt=[];const en=new M.OpenAIApi(Vt);let tn="n",nn=["K","Q","k","q"],rn="-",sn=[0,1];function on(e){const t=new Map;return d.forEach((n=>{const r=e.moves({square:n,verbose:!0});r.length&&t.set(n,r.map((e=>e.to)))})),t}function an(e,t){return t?"w"===e.turn()?"black":"white":"w"===e.turn()?"white":"black"}function cn(e){return new Map([["p","pawn"],["b","bishop"],["n","knight"],["r","rook"],["q","queen"],["k","king"]]).get(e)}function ln(e,t,n,r){if("k"===t.type)"w"===t.color&&""!==nn[0]?nn[0]="":"b"===t.color&&""!==nn[2]&&(nn[2]="");else if("q"===t.type)"w"===t.color&&""!==nn[1]?nn[1]="":"b"===t.color&&""!==nn[3]&&(nn[3]="");else if("p"===t.type){const s=Number(r.charAt(1)),o=r.charAt(0);if(s-Number(n.charAt(1))>1){const n=4===s?-1:1,r={type:"p",color:"w"===t.color?"b":"w"};let i=[];"a"!==o&&i.push(String.fromCharCode(o.charCodeAt(0)-1)+s.toString()),"g"!==o&&i.push(String.fromCharCode(o.charCodeAt(0)+1)+s.toString());for(const t of i)e.get(t)===r&&(rn=o+(s+n).toString())}else rn="-"}null===e.get(r)?sn[0]+=1:sn[0]=0,"b"===e.turn()&&(sn[1]+=1)}function un(e,t){let n=nn.join("");return""===n&&(n="-"),[e,t.charAt(0),n,rn,sn[0],sn[1]].join(" ")}function dn(e,t,n=!1){e.set({movable:{free:!1}});let r="error";r=t.isCheckmate()?an(t,!1):n?"white":"black",document.getElementById("status").innerHTML="Game Over: "+r+" wins!"}function hn(e,t){return(n,r)=>{const s=cn(t.get(n).type);ln(t,t.get(n),n,r),t.move({from:n,to:r});let o="";t.isCheckmate()?dn(e,t):(t.isCheck()&&(o=". You are in check. Your valid moves are:\n"+function(e){let t=[];for(const n of e.moves({verbose:!0}))t.push(cn(n.piece)+", "+n.from+", "+n.to);return t.join("\n")}(t)+". Please choose one, sticking to the exact format specified of piece, start position, end position"),Xt.push({role:"user",content:s+", "+n+", "+r+o}),setTimeout((()=>{t.turn()==tn[0]&&fn().then((n=>pn(e,t,n[0].toLowerCase(),n[1].toLowerCase(),n[2].toLowerCase())))}),2e3))}}function pn(e,t,n,r,s){console.log("ChatGPT: "+n+" "+r+" "+s);const o={role:n,color:tn};e.setPieces(new Map([[r,o]])),e.move(r,s),e.set({turnColor:an(t,!0)});let i=e.getFen();1===(i.match(/k/g)||[]).length&&1===(i.match(/K/g)||[]).length?(ln(t,n,r,s),console.log(un(i,an(t,!0))),t.load(un(i,an(t,!0))),e.set({movable:{color:an(t,!1),dests:on(t)}}),console.log(t.ascii()),t.isCheckmate()&&dn(e,t)):dn(e,t,1!==(i.match(/k/g)||[]).length)}async function fn(){const e=await en.createChatCompletion({model:"gpt-3.5-turbo",messages:Xt});return Xt.push(e.data.choices[0].message),e.data.choices[0].message.content.match(/\w+/g)}})()})();