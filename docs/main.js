/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={9669:(e,t,n)=>{e.exports=n(1609)},5448:(e,t,n)=>{"use strict";var r=n(4867),o=n(6026),i=n(4372),s=n(5327),a=n(4097),c=n(4109),l=n(7985),d=n(5061),u=n(7874),h=n(5263);e.exports=function(e){return new Promise((function(t,n){var p,f=e.data,g=e.headers,m=e.responseType;function b(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}r.isFormData(f)&&delete g["Content-Type"];var v=new XMLHttpRequest;if(e.auth){var w=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(w+":"+_)}var y=a(e.baseURL,e.url);function x(){if(v){var r="getAllResponseHeaders"in v?c(v.getAllResponseHeaders()):null,i={data:m&&"text"!==m&&"json"!==m?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:r,config:e,request:v};o((function(e){t(e),b()}),(function(e){n(e),b()}),i),v=null}}if(v.open(e.method.toUpperCase(),s(y,e.params,e.paramsSerializer),!0),v.timeout=e.timeout,"onloadend"in v?v.onloadend=x:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(x)},v.onabort=function(){v&&(n(d("Request aborted",e,"ECONNABORTED",v)),v=null)},v.onerror=function(){n(d("Network Error",e,null,v)),v=null},v.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||u;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(d(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",v)),v=null},r.isStandardBrowserEnv()){var S=(e.withCredentials||l(y))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;S&&(g[e.xsrfHeaderName]=S)}"setRequestHeader"in v&&r.forEach(g,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete g[t]:v.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(v.withCredentials=!!e.withCredentials),m&&"json"!==m&&(v.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&v.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&v.upload&&v.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){v&&(n(!e||e&&e.type?new h("canceled"):e),v.abort(),v=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),f||(f=null),v.send(f)}))}},1609:(e,t,n)=>{"use strict";var r=n(4867),o=n(1849),i=n(321),s=n(7185),a=function e(t){var n=new i(t),a=o(i.prototype.request,n);return r.extend(a,i.prototype,n),r.extend(a,n),a.create=function(n){return e(s(t,n))},a}(n(5546));a.Axios=i,a.Cancel=n(5263),a.CancelToken=n(4972),a.isCancel=n(6502),a.VERSION=n(7288).version,a.all=function(e){return Promise.all(e)},a.spread=n(8713),a.isAxiosError=n(6268),e.exports=a,e.exports.default=a},5263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4972:(e,t,n)=>{"use strict";var r=n(5263);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},6502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,n)=>{"use strict";var r=n(4867),o=n(5327),i=n(782),s=n(3572),a=n(7185),c=n(4875),l=c.validators;function d(e){this.defaults=e,this.interceptors={request:new i,response:new i}}d.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var i,d=[];if(this.interceptors.response.forEach((function(e){d.push(e.fulfilled,e.rejected)})),!o){var u=[s,void 0];for(Array.prototype.unshift.apply(u,r),u=u.concat(d),i=Promise.resolve(t);u.length;)i=i.then(u.shift(),u.shift());return i}for(var h=t;r.length;){var p=r.shift(),f=r.shift();try{h=p(h)}catch(e){f(e);break}}try{i=s(h)}catch(e){return Promise.reject(e)}for(;d.length;)i=i.then(d.shift(),d.shift());return i},d.prototype.getUri=function(e){return e=a(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){d.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){d.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=d},782:(e,t,n)=>{"use strict";var r=n(4867);function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},4097:(e,t,n)=>{"use strict";var r=n(1793),o=n(7303);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},5061:(e,t,n)=>{"use strict";var r=n(481);e.exports=function(e,t,n,o,i){var s=new Error(e);return r(s,t,n,o,i)}},3572:(e,t,n)=>{"use strict";var r=n(4867),o=n(8527),i=n(6502),s=n(5546),a=n(5263);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return c(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},7185:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){t=t||{};var n={};function o(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function i(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function s(e){if(!r.isUndefined(t[e]))return o(void 0,t[e])}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function c(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=l[e]||i,o=t(e);r.isUndefined(o)&&t!==c||(n[e]=o)})),n}},6026:(e,t,n)=>{"use strict";var r=n(5061);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},8527:(e,t,n)=>{"use strict";var r=n(4867),o=n(5546);e.exports=function(e,t,n){var i=this||o;return r.forEach(n,(function(n){e=n.call(i,e,t)})),e}},5546:(e,t,n)=>{"use strict";var r=n(4867),o=n(6016),i=n(481),s=n(7874),a={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,d={transitional:s,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(l=n(5448)),l),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(c(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(0,JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||d.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||o&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw i(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){d.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){d.headers[e]=r.merge(a)})),e.exports=d},7874:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7288:e=>{e.exports={version:"0.26.1"}},1849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},5327:(e,t,n)=>{"use strict";var r=n(4867);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))})))})),i=s.join("&")}if(i){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,n)=>{"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},6268:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},7985:(e,t,n)=>{"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},6016:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},4109:(e,t,n)=>{"use strict";var r=n(4867),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,s={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},4875:(e,t,n)=>{"use strict";var r=n(7288).version,o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var i={};o.transitional=function(e,t,n){function o(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(o(r," has been removed"+(t?" in "+t:"")));return t&&!i[r]&&(i[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],s=t[i];if(s){var a=e[i],c=void 0===a||s(a,i,e);if(!0!==c)throw new TypeError("option "+i+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:o}},4867:(e,t,n)=>{"use strict";var r=n(1849),o=Object.prototype.toString;function i(e){return Array.isArray(e)}function s(e){return void 0===e}function a(e){return"[object ArrayBuffer]"===o.call(e)}function c(e){return null!==e&&"object"==typeof e}function l(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function d(e){return"[object Function]"===o.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:a,isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===o.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&a(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isPlainObject:l,isUndefined:s,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:d,isStream:function(e){return c(e)&&d(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===o.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){var t={};function n(n,r){l(t[r])&&l(n)?t[r]=e(t[r],n):l(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},6987:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8081),o=n.n(r),i=n(3645),s=n.n(i)()(o());s.push([e.id,".cg-wrap {\n  width: 100%;/*480px;*/ /* only certain values work... 320 and 480 so far found*/\n  height: 100%; /*480px;*/\n  position: relative;\n  display: block;\n}\n\ncg-helper {\n  position: absolute;\n  width: 12.5%;\n  padding-bottom: 12.5%;\n  display: table; /* hack: round to full pixel size in chrome */\n  bottom: 0;\n}\n\ncg-container {\n  position: absolute;\n  width: 800%;\n  height: 800%;\n  display: block;\n  bottom: 0;\n}\n\ncg-board {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  line-height: 0;\n  background-size: cover;\n  cursor: pointer;\n}\ncg-board square {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 12.5%;\n  height: 12.5%;\n  pointer-events: none;\n}\ncg-board square.move-dest {\n  background: radial-gradient(rgba(20, 85, 30, 0.5) 22%, #208530 0, rgba(0, 0, 0, 0.3) 0, rgba(0, 0, 0, 0) 0);\n  pointer-events: auto;\n}\ncg-board square.premove-dest {\n  background: radial-gradient(rgba(20, 30, 85, 0.5) 22%, #203085 0, rgba(0, 0, 0, 0.3) 0, rgba(0, 0, 0, 0) 0);\n}\ncg-board square.oc.move-dest {\n  background: radial-gradient(transparent 0%, transparent 80%, rgba(20, 85, 0, 0.3) 80%);\n}\ncg-board square.oc.premove-dest {\n  background: radial-gradient(transparent 0%, transparent 80%, rgba(20, 30, 85, 0.2) 80%);\n}\ncg-board square.move-dest:hover {\n  background: rgba(20, 85, 30, 0.3);\n}\ncg-board square.premove-dest:hover {\n  background: rgba(20, 30, 85, 0.2);\n}\ncg-board square.last-move {\n  will-change: transform;\n  background-color: rgba(155, 199, 0, 0.41);\n}\ncg-board square.selected {\n  background-color: rgba(20, 85, 30, 0.5);\n}\ncg-board square.check {\n  background: radial-gradient(ellipse at center, rgba(255, 0, 0, 1) 0%, rgba(231, 0, 0, 1) 25%, rgba(169, 0, 0, 0) 89%, rgba(158, 0, 0, 0) 100%);\n}\ncg-board square.current-premove {\n  background-color: rgba(20, 30, 85, 0.5);\n}\n.cg-wrap piece {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 12.5%;\n  height: 12.5%;\n  background-size: cover;\n  z-index: 2;\n  will-change: transform;\n  pointer-events: none;\n}\ncg-board piece.dragging {\n  cursor: move;\n  z-index: 10;\n}\ncg-board piece.anim {\n  z-index: 8;\n}\ncg-board piece.fading {\n  z-index: 1;\n  opacity: 0.5;\n}\n.cg-wrap square.move-dest:hover {\n  background-color: rgba(20, 85, 30, 0.3);\n}\n.cg-wrap piece.ghost {\n  opacity: 0.3;\n}\n.cg-wrap .cg-shapes, .cg-wrap .cg-custom-svgs {\n  overflow: hidden;\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n}\n.cg-wrap .cg-shapes {\n  opacity: 0.6;\n  z-index: 2;\n}\n.cg-wrap .cg-custom-svgs {\n  /* over piece.anim = 8, but under piece.dragging = 10 */\n  z-index: 9;\n}\n.cg-wrap coords {\n  position: absolute;\n  display: flex;\n  pointer-events: none;\n  opacity: 0.8;\n  font-size: 15px;\n}\n.cg-wrap coords.ranks {\n  right: -15px;\n  top: 0;\n  flex-flow: column-reverse;\n  height: 100%;\n  width: 12px;\n}\n.cg-wrap coords.ranks.black {\n  flex-flow: column;\n}\n.cg-wrap coords.files {\n  bottom: -16px;\n  left: 0;\n  flex-flow: row;\n  width: 100%;\n  height: 16px;\n  text-transform: uppercase;\n  text-align: center;\n}\n.cg-wrap coords.files.black {\n  flex-flow: row-reverse;\n}\n.cg-wrap coords coord {\n  flex: 1 1 auto;\n}\n.cg-wrap coords.ranks coord {\n  transform: translateY(39%);\n}",""]);const a=s},7471:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n(8081),o=n.n(r),i=n(3645),s=n.n(i),a=n(1667),c=n.n(a),l=new URL(n(6785),n.b),d=new URL(n(4905),n.b),u=new URL(n(580),n.b),h=new URL(n(2344),n.b),p=new URL(n(8340),n.b),f=s()(o()),g=c()(l),m=c()(d),b=c()(u),v=c()(h),w=c()(p);f.push([e.id,`@font-face {\n  font-family: 'FiraSansMed';\n  src: url(${g}) format('truetype');\n  font-weight: 500;\n  font-style: normal;\n}\n\n@font-face {\n  font-family: 'FiraSansReg';\n  src: url(${m}) format('truetype');\n  font-weight: 400;\n  font-style: normal;\n}\n\n* {\n  font-family: 'FiraSansReg';\n  color: white;\n}\n\n/* intro screen */\n\n.intro {\n  position: fixed;\n  z-index: 11;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100vh;\n  background-color: rgba(10, 10, 10, 0.85);\n  opacity: 1;\n  transition: top 0.5s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.logo-group {\n  z-index: 12;\n  position: relative;\n  /* top: 40%;\n  left: 50%; */\n  /* transform: translate(-50%, -50%); */\n  color: #ffffff;\n}\n\n.logo {\n  z-index: 12;\n  position: relative;\n  display: inline-block;\n  opacity: 0;\n  color: white;\n  font-family: 'FiraSansMed';\n}\n\n.logo.active {\n  opacity: 1;\n  transition: ease-in-out 0.5s;\n}\n\n.text.active {\n  opacity: 1;\n  transition: ease-in-out 0.8s;\n}\n\n#exitBtn.active {\n  opacity: 1;\n  transition: ease-in-out 0.8s;\n}\n\n.fade {\n  opacity: 0;\n  transition: ease-in-out 0.5s;\n}\n\n#exitBtn {\n  padding: 10px 60px;\n  background: white;\n  border: 0;\n  outline: none;\n  cursor: pointer;\n  font-size: 22px;\n  font-family: 'FiraSansMed';\n  border-radius: 20px;\n  margin: 10px;\n  opacity: 0;\n  color: black;\n}\n\n.box {\n  width: 80%;\n  background: darkslateblue;\n  border-radius: 6px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n  padding: 0 40px 5px;\n  color: white;\n}\n\n.header {\n  font-size: 20px;\n  margin-left: 15%;\n  margin-right: 15%;\n}\n/* \n.instructions {\n  text-align: left;\n} */\n\n.text {\n  opacity: 0;\n  z-index: 12;\n  position: relative;\n  /* display: inline-block; */\n  /* opacity: 0; */\n  color: white;\n  font-family: 'FiraSansReg';\n  margin-left: 15%;\n  margin-right: 15%;\n}\n\n\n\n/* game auxilary */\n\n.container-gpt img {\n  height: 40px;\n  /* width: 100%; */\n}\n\n.container-gpt {\n  /* margin: 10px 0px 20px 0px; */\n  display: grid;\n  grid-template-columns: 1fr 10fr;\n  grid-gap: 20px;\n  background: #303030;\n  border-radius: 10px;\n  position: relative;\n}\n\n.gpt-part {\n  /* display: inline-block; */\n  vertical-align: middle;\n  /* width: 100%;\n  height: 100%; */\n  margin: 10px;\n}\n\n#gpt_logo {\n  width: 20%;\n}\n\n#gpt_text {\n  width: 80%;\n  color: white;\n}\n\n.auxilary {\n  margin: 10px 0px 20px 0px;\n  display: flex;\n  /* display: inline-block; */\n  /* background: #303030;\n  border-radius: 10px; */\n  /* display: flex;\n  justify-content: center;\n  align-items: center;\n  align-self: center;\n  flex-direction: column; */\n}\n\n#resetBtn {\n  padding: 10px 10px;\n  background: darkslateblue;\n  color: white;\n  border: 0;\n  outline: none;\n  cursor: pointer;\n  font-size: 22px;\n  border-radius: 10px;\n  margin: 0px 0px 0px 10px;\n  position: relative;\n  flex: 1;\n  width: 30%;\n}\n\n/* #gpt_text .text-animate {\n  width: 0;\n  overflow: hidden;\n  white-space: nowrap;\n  border-right: 2px solid;\n  animation: typing;\n  animation-duration: 1.5s;\n  animation-timing-function: steps(30, end);\n  animation-fill-mode: forwards;\n}\n    \n@keyframes typing {\n  from { width: 0 }\n  to { width: 100% }\n} */\n\n.buttons {\n  margin: 10px 0px 20px 0px;\n  display: flex;\n  /* display: inline-block; */\n  /* background: #303030;\n  border-radius: 10px; */\n  /* display: flex;\n  justify-content: center;\n  align-items: center;\n  align-self: center;\n  flex-direction: column; */\n}\n\n.diffBtn {\n  padding: 10px 10px;\n  background: #00A67E;\n  color: white;\n  border: 0;\n  outline: none;\n  cursor: pointer;\n  font-size: 22px;\n  border-radius: 10px;\n  margin: 0px 0px 0px 10px;\n  position: relative;\n  flex: 1;\n  width: 30%;\n  transition: ease-in-out 0.3s;\n}\n\n.diffBtn.on {     \n  background-color:darkslateblue;\n  border: 5mm white;\n}\n\n\n\n/* game board*/\n\n#center {\n  /* position: absolute; */\n  /* left: 35%; */\n  /* width: 35%; */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  align-self: center;\n  flex-direction: column;\n  /* left: 50%;\n  top: 50%;\n  width: 20px;\n  height: 20px;\n  margin-left: -10px;\n  margin-top: -10px; */\n  /* -1/2 height */\n}\n\n#container {\n  width: 480px;\n  padding: 10px 20px 10px 20px;\n  background-color: #101010;\n  border-radius: 10px;\n  margin-top: 3em;;\n  /* height: 480px; */\n  /* display: flex;\n  justify-content: center;\n  align-items: center;\n  align-self: center;\n  flex-direction: column; */\n}\n\n.game {\n  width: 100%;\n  aspect-ratio: 1/1;\n  margin-bottom: 30px;\n}\n\n#chessground {\n  width: 100%;\n  /* height: 100%; */\n}\n\n\n\n.brown {\n  background-image: url(${b});\n}\n\n.green .cg-wrap {\n  background-image: url(${v});\n}\n\n.blue .cg-wrap {\n  background-image: url(${w});\n}\n\nbody {\n  background-color:oldlace;\n  padding-top: 0px;\n}\n\na {\n  color: lightblue;\n}\n\n\n\n@media screen and (max-width: 550px) {\n  #container {\n    width: 340px; /* smaller board */\n  }\n\n  body {\n    background-color: #101010;\n  }\n\n  .box {\n    width: 80%;\n    padding: 0 20px 5px 20px;\n  }\n\n  .header {\n    font-size: 15px;\n    /* width: 70%; */\n    margin-left: 20px;\n    margin-right: 20px;\n    text-align: center;\n  }\n\n  .text {\n    font-size: 12px;\n    /* width: 70%; */\n    margin-left: 20px;\n    margin-right: 20px;\n    text-align: center;\n  }\n\n  .logo {\n    font-size: 35px;\n    \n  }\n\n  #exitBtn {\n    padding: 7px 40px;\n    font-size: 15px;\n    margin: 10px;\n  }\n\n  #container {\n    /* background-color: oldlace; */\n  }\n}\n\n@media screen and (min-height: 1000px) {\n  #container {\n    width: 680px; /* smaller board */\n    padding: 20px 40px 20px 40px;\n    border-radius: 20px;\n  }\n\n  body {\n    background-color: oldlace;\n  }\n\n  .box {\n    width: 80%;\n    padding: 0 20px 5px 20px;\n  }\n\n  .header {\n    font-size: 30px;\n    /* width: 70%; */\n    margin-left: 50px;\n    margin-right: 50px;\n    text-align: center;\n  }\n\n  .text {\n    font-size: 24px;\n    /* width: 70%; */\n    margin-left: 50px;\n    margin-right: 50px;\n    text-align: center;\n  }\n\n  .logo {\n    font-size: 70px;\n    \n  }\n\n  #exitBtn {\n    padding: 15px 80px;\n    font-size: 30px;\n    margin: 10px;\n  }\n}`,""]);const _=f},4751:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(8081),o=n.n(r),i=n(3645),s=n.n(i),a=n(1667),c=n.n(a),l=new URL(n(6513),n.b),d=new URL(n(6788),n.b),u=new URL(n(8153),n.b),h=new URL(n(1730),n.b),p=new URL(n(8862),n.b),f=new URL(n(9134),n.b),g=new URL(n(6018),n.b),m=new URL(n(2091),n.b),b=new URL(n(4689),n.b),v=new URL(n(4436),n.b),w=new URL(n(4654),n.b),_=new URL(n(4370),n.b),y=s()(o()),x=c()(l),S=c()(d),E=c()(u),O=c()(h),A=c()(p),k=c()(f),P=c()(g),C=c()(m),T=c()(b),R=c()(v),j=c()(w),M=c()(_);y.push([e.id,`.gioco .pawn.white {background-image:url(${x})}\n.gioco .knight.white {background-image:url(${S})}\n.gioco .bishop.white {background-image:url(${E})}\n.gioco .rook.white {background-image:url(${O})}\n.gioco .queen.white {background-image:url(${A})}\n.gioco .king.white {background-image:url(${k})}\n.gioco .pawn.black {background-image:url(${P})}\n.gioco .knight.black {background-image:url(${C})}\n.gioco .bishop.black {background-image:url(${T})}\n.gioco .rook.black {background-image:url(${R})}\n.gioco .queen.black {background-image:url(${j})}\n.gioco .king.black {background-image:url(${M})}`,""]);const I=y},7573:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(8081),o=n.n(r),i=n(3645),s=n.n(i),a=n(1667),c=n.n(a),l=new URL(n(4746),n.b),d=new URL(n(9318),n.b),u=new URL(n(285),n.b),h=new URL(n(7255),n.b),p=new URL(n(5897),n.b),f=new URL(n(7732),n.b),g=new URL(n(2702),n.b),m=new URL(n(5251),n.b),b=new URL(n(2057),n.b),v=new URL(n(8137),n.b),w=new URL(n(3725),n.b),_=new URL(n(6779),n.b),y=s()(o()),x=c()(l),S=c()(d),E=c()(u),O=c()(h),A=c()(p),k=c()(f),P=c()(g),C=c()(m),T=c()(b),R=c()(v),j=c()(w),M=c()(_);y.push([e.id,`.neo .pawn.white {background-image:url(${x})}\n.neo .knight.white {background-image:url(${S})}\n.neo .bishop.white {background-image:url(${E})}\n.neo .rook.white {background-image:url(${O})}\n.neo .queen.white {background-image:url(${A})}\n.neo .king.white {background-image:url(${k})}\n.neo .pawn.black {background-image:url(${P})}\n.neo .knight.black {background-image:url(${C})}\n.neo .bishop.black {background-image:url(${T})}\n.neo .rook.black {background-image:url(${R})}\n.neo .queen.black {background-image:url(${j})}\n.neo .king.black {background-image:url(${M})}`,""]);const I=y},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);r&&s[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},1667:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},8081:e=>{"use strict";e.exports=function(e){return e[1]}},6230:e=>{e.exports="object"==typeof self?self.FormData:window.FormData},4793:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OpenAIApi=t.OpenAIApiFactory=t.OpenAIApiFp=t.OpenAIApiAxiosParamCreator=t.CreateImageRequestResponseFormatEnum=t.CreateImageRequestSizeEnum=t.ChatCompletionResponseMessageRoleEnum=t.ChatCompletionRequestMessageRoleEnum=void 0;const o=n(9669),i=n(3597),s=n(5198);t.ChatCompletionRequestMessageRoleEnum={System:"system",User:"user",Assistant:"assistant"},t.ChatCompletionResponseMessageRoleEnum={System:"system",User:"user",Assistant:"assistant"},t.CreateImageRequestSizeEnum={_256x256:"256x256",_512x512:"512x512",_1024x1024:"1024x1024"},t.CreateImageRequestResponseFormatEnum={Url:"url",B64Json:"b64_json"},t.OpenAIApiAxiosParamCreator=function(e){return{cancelFineTune:(t,n={})=>r(this,void 0,void 0,(function*(){i.assertParamExists("cancelFineTune","fineTuneId",t);const r="/fine-tunes/{fine_tune_id}/cancel".replace("{fine_tune_id}",encodeURIComponent(String(t))),o=new URL(r,i.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const a=Object.assign(Object.assign({method:"POST"},s),n);i.setSearchParams(o,{});let c=s&&s.headers?s.headers:{};return a.headers=Object.assign(Object.assign(Object.assign({},{}),c),n.headers),{url:i.toPathString(o),options:a}})),createAnswer:(t,n={})=>r(this,void 0,void 0,(function*(){i.assertParamExists("createAnswer","createAnswerRequest",t);const r=new URL("/answers",i.DUMMY_BASE_URL);let o;e&&(o=e.baseOptions);const s=Object.assign(Object.assign({method:"POST"},o),n),a={"Content-Type":"application/json"};i.setSearchParams(r,{});let c=o&&o.headers?o.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),s.data=i.serializeDataIfNeeded(t,s,e),{url:i.toPathString(r),options:s}})),createChatCompletion:(t,n={})=>r(this,void 0,void 0,(function*(){i.assertParamExists("createChatCompletion","createChatCompletionRequest",t);const r=new URL("/chat/completions",i.DUMMY_BASE_URL);let o;e&&(o=e.baseOptions);const s=Object.assign(Object.assign({method:"POST"},o),n),a={"Content-Type":"application/json"};i.setSearchParams(r,{});let c=o&&o.headers?o.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),s.data=i.serializeDataIfNeeded(t,s,e),{url:i.toPathString(r),options:s}})),createClassification:(t,n={})=>r(this,void 0,void 0,(function*(){i.assertParamExists("createClassification","createClassificationRequest",t);const r=new URL("/classifications",i.DUMMY_BASE_URL);let o;e&&(o=e.baseOptions);const s=Object.assign(Object.assign({method:"POST"},o),n),a={"Content-Type":"application/json"};i.setSearchParams(r,{});let c=o&&o.headers?o.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),s.data=i.serializeDataIfNeeded(t,s,e),{url:i.toPathString(r),options:s}})),createCompletion:(t,n={})=>r(this,void 0,void 0,(function*(){i.assertParamExists("createCompletion","createCompletionRequest",t);const r=new URL("/completions",i.DUMMY_BASE_URL);let o;e&&(o=e.baseOptions);const s=Object.assign(Object.assign({method:"POST"},o),n),a={"Content-Type":"application/json"};i.setSearchParams(r,{});let c=o&&o.headers?o.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),s.data=i.serializeDataIfNeeded(t,s,e),{url:i.toPathString(r),options:s}})),createEdit:(t,n={})=>r(this,void 0,void 0,(function*(){i.assertParamExists("createEdit","createEditRequest",t);const r=new URL("/edits",i.DUMMY_BASE_URL);let o;e&&(o=e.baseOptions);const s=Object.assign(Object.assign({method:"POST"},o),n),a={"Content-Type":"application/json"};i.setSearchParams(r,{});let c=o&&o.headers?o.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),s.data=i.serializeDataIfNeeded(t,s,e),{url:i.toPathString(r),options:s}})),createEmbedding:(t,n={})=>r(this,void 0,void 0,(function*(){i.assertParamExists("createEmbedding","createEmbeddingRequest",t);const r=new URL("/embeddings",i.DUMMY_BASE_URL);let o;e&&(o=e.baseOptions);const s=Object.assign(Object.assign({method:"POST"},o),n),a={"Content-Type":"application/json"};i.setSearchParams(r,{});let c=o&&o.headers?o.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),s.data=i.serializeDataIfNeeded(t,s,e),{url:i.toPathString(r),options:s}})),createFile:(t,n,o={})=>r(this,void 0,void 0,(function*(){i.assertParamExists("createFile","file",t),i.assertParamExists("createFile","purpose",n);const r=new URL("/files",i.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const a=Object.assign(Object.assign({method:"POST"},s),o),c={},l=new(e&&e.formDataCtor||FormData);void 0!==t&&l.append("file",t),void 0!==n&&l.append("purpose",n),c["Content-Type"]="multipart/form-data",i.setSearchParams(r,{});let d=s&&s.headers?s.headers:{};return a.headers=Object.assign(Object.assign(Object.assign(Object.assign({},c),l.getHeaders()),d),o.headers),a.data=l,{url:i.toPathString(r),options:a}})),createFineTune:(t,n={})=>r(this,void 0,void 0,(function*(){i.assertParamExists("createFineTune","createFineTuneRequest",t);const r=new URL("/fine-tunes",i.DUMMY_BASE_URL);let o;e&&(o=e.baseOptions);const s=Object.assign(Object.assign({method:"POST"},o),n),a={"Content-Type":"application/json"};i.setSearchParams(r,{});let c=o&&o.headers?o.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),s.data=i.serializeDataIfNeeded(t,s,e),{url:i.toPathString(r),options:s}})),createImage:(t,n={})=>r(this,void 0,void 0,(function*(){i.assertParamExists("createImage","createImageRequest",t);const r=new URL("/images/generations",i.DUMMY_BASE_URL);let o;e&&(o=e.baseOptions);const s=Object.assign(Object.assign({method:"POST"},o),n),a={"Content-Type":"application/json"};i.setSearchParams(r,{});let c=o&&o.headers?o.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),s.data=i.serializeDataIfNeeded(t,s,e),{url:i.toPathString(r),options:s}})),createImageEdit:(t,n,o,s,a,c,l,d={})=>r(this,void 0,void 0,(function*(){i.assertParamExists("createImageEdit","image",t),i.assertParamExists("createImageEdit","prompt",n);const r=new URL("/images/edits",i.DUMMY_BASE_URL);let u;e&&(u=e.baseOptions);const h=Object.assign(Object.assign({method:"POST"},u),d),p={},f=new(e&&e.formDataCtor||FormData);void 0!==t&&f.append("image",t),void 0!==o&&f.append("mask",o),void 0!==n&&f.append("prompt",n),void 0!==s&&f.append("n",s),void 0!==a&&f.append("size",a),void 0!==c&&f.append("response_format",c),void 0!==l&&f.append("user",l),p["Content-Type"]="multipart/form-data",i.setSearchParams(r,{});let g=u&&u.headers?u.headers:{};return h.headers=Object.assign(Object.assign(Object.assign(Object.assign({},p),f.getHeaders()),g),d.headers),h.data=f,{url:i.toPathString(r),options:h}})),createImageVariation:(t,n,o,s,a,c={})=>r(this,void 0,void 0,(function*(){i.assertParamExists("createImageVariation","image",t);const r=new URL("/images/variations",i.DUMMY_BASE_URL);let l;e&&(l=e.baseOptions);const d=Object.assign(Object.assign({method:"POST"},l),c),u={},h=new(e&&e.formDataCtor||FormData);void 0!==t&&h.append("image",t),void 0!==n&&h.append("n",n),void 0!==o&&h.append("size",o),void 0!==s&&h.append("response_format",s),void 0!==a&&h.append("user",a),u["Content-Type"]="multipart/form-data",i.setSearchParams(r,{});let p=l&&l.headers?l.headers:{};return d.headers=Object.assign(Object.assign(Object.assign(Object.assign({},u),h.getHeaders()),p),c.headers),d.data=h,{url:i.toPathString(r),options:d}})),createModeration:(t,n={})=>r(this,void 0,void 0,(function*(){i.assertParamExists("createModeration","createModerationRequest",t);const r=new URL("/moderations",i.DUMMY_BASE_URL);let o;e&&(o=e.baseOptions);const s=Object.assign(Object.assign({method:"POST"},o),n),a={"Content-Type":"application/json"};i.setSearchParams(r,{});let c=o&&o.headers?o.headers:{};return s.headers=Object.assign(Object.assign(Object.assign({},a),c),n.headers),s.data=i.serializeDataIfNeeded(t,s,e),{url:i.toPathString(r),options:s}})),createSearch:(t,n,o={})=>r(this,void 0,void 0,(function*(){i.assertParamExists("createSearch","engineId",t),i.assertParamExists("createSearch","createSearchRequest",n);const r="/engines/{engine_id}/search".replace("{engine_id}",encodeURIComponent(String(t))),s=new URL(r,i.DUMMY_BASE_URL);let a;e&&(a=e.baseOptions);const c=Object.assign(Object.assign({method:"POST"},a),o),l={"Content-Type":"application/json"};i.setSearchParams(s,{});let d=a&&a.headers?a.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},l),d),o.headers),c.data=i.serializeDataIfNeeded(n,c,e),{url:i.toPathString(s),options:c}})),createTranscription:(t,n,o,s,a,c,l={})=>r(this,void 0,void 0,(function*(){i.assertParamExists("createTranscription","file",t),i.assertParamExists("createTranscription","model",n);const r=new URL("/audio/transcriptions",i.DUMMY_BASE_URL);let d;e&&(d=e.baseOptions);const u=Object.assign(Object.assign({method:"POST"},d),l),h={},p=new(e&&e.formDataCtor||FormData);void 0!==t&&p.append("file",t),void 0!==n&&p.append("model",n),void 0!==o&&p.append("prompt",o),void 0!==s&&p.append("response_format",s),void 0!==a&&p.append("temperature",a),void 0!==c&&p.append("language",c),h["Content-Type"]="multipart/form-data",i.setSearchParams(r,{});let f=d&&d.headers?d.headers:{};return u.headers=Object.assign(Object.assign(Object.assign(Object.assign({},h),p.getHeaders()),f),l.headers),u.data=p,{url:i.toPathString(r),options:u}})),createTranslation:(t,n,o,s,a,c={})=>r(this,void 0,void 0,(function*(){i.assertParamExists("createTranslation","file",t),i.assertParamExists("createTranslation","model",n);const r=new URL("/audio/translations",i.DUMMY_BASE_URL);let l;e&&(l=e.baseOptions);const d=Object.assign(Object.assign({method:"POST"},l),c),u={},h=new(e&&e.formDataCtor||FormData);void 0!==t&&h.append("file",t),void 0!==n&&h.append("model",n),void 0!==o&&h.append("prompt",o),void 0!==s&&h.append("response_format",s),void 0!==a&&h.append("temperature",a),u["Content-Type"]="multipart/form-data",i.setSearchParams(r,{});let p=l&&l.headers?l.headers:{};return d.headers=Object.assign(Object.assign(Object.assign(Object.assign({},u),h.getHeaders()),p),c.headers),d.data=h,{url:i.toPathString(r),options:d}})),deleteFile:(t,n={})=>r(this,void 0,void 0,(function*(){i.assertParamExists("deleteFile","fileId",t);const r="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(t))),o=new URL(r,i.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const a=Object.assign(Object.assign({method:"DELETE"},s),n);i.setSearchParams(o,{});let c=s&&s.headers?s.headers:{};return a.headers=Object.assign(Object.assign(Object.assign({},{}),c),n.headers),{url:i.toPathString(o),options:a}})),deleteModel:(t,n={})=>r(this,void 0,void 0,(function*(){i.assertParamExists("deleteModel","model",t);const r="/models/{model}".replace("{model}",encodeURIComponent(String(t))),o=new URL(r,i.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const a=Object.assign(Object.assign({method:"DELETE"},s),n);i.setSearchParams(o,{});let c=s&&s.headers?s.headers:{};return a.headers=Object.assign(Object.assign(Object.assign({},{}),c),n.headers),{url:i.toPathString(o),options:a}})),downloadFile:(t,n={})=>r(this,void 0,void 0,(function*(){i.assertParamExists("downloadFile","fileId",t);const r="/files/{file_id}/content".replace("{file_id}",encodeURIComponent(String(t))),o=new URL(r,i.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const a=Object.assign(Object.assign({method:"GET"},s),n);i.setSearchParams(o,{});let c=s&&s.headers?s.headers:{};return a.headers=Object.assign(Object.assign(Object.assign({},{}),c),n.headers),{url:i.toPathString(o),options:a}})),listEngines:(t={})=>r(this,void 0,void 0,(function*(){const n=new URL("/engines",i.DUMMY_BASE_URL);let r;e&&(r=e.baseOptions);const o=Object.assign(Object.assign({method:"GET"},r),t);i.setSearchParams(n,{});let s=r&&r.headers?r.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},{}),s),t.headers),{url:i.toPathString(n),options:o}})),listFiles:(t={})=>r(this,void 0,void 0,(function*(){const n=new URL("/files",i.DUMMY_BASE_URL);let r;e&&(r=e.baseOptions);const o=Object.assign(Object.assign({method:"GET"},r),t);i.setSearchParams(n,{});let s=r&&r.headers?r.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},{}),s),t.headers),{url:i.toPathString(n),options:o}})),listFineTuneEvents:(t,n,o={})=>r(this,void 0,void 0,(function*(){i.assertParamExists("listFineTuneEvents","fineTuneId",t);const r="/fine-tunes/{fine_tune_id}/events".replace("{fine_tune_id}",encodeURIComponent(String(t))),s=new URL(r,i.DUMMY_BASE_URL);let a;e&&(a=e.baseOptions);const c=Object.assign(Object.assign({method:"GET"},a),o),l={};void 0!==n&&(l.stream=n),i.setSearchParams(s,l);let d=a&&a.headers?a.headers:{};return c.headers=Object.assign(Object.assign(Object.assign({},{}),d),o.headers),{url:i.toPathString(s),options:c}})),listFineTunes:(t={})=>r(this,void 0,void 0,(function*(){const n=new URL("/fine-tunes",i.DUMMY_BASE_URL);let r;e&&(r=e.baseOptions);const o=Object.assign(Object.assign({method:"GET"},r),t);i.setSearchParams(n,{});let s=r&&r.headers?r.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},{}),s),t.headers),{url:i.toPathString(n),options:o}})),listModels:(t={})=>r(this,void 0,void 0,(function*(){const n=new URL("/models",i.DUMMY_BASE_URL);let r;e&&(r=e.baseOptions);const o=Object.assign(Object.assign({method:"GET"},r),t);i.setSearchParams(n,{});let s=r&&r.headers?r.headers:{};return o.headers=Object.assign(Object.assign(Object.assign({},{}),s),t.headers),{url:i.toPathString(n),options:o}})),retrieveEngine:(t,n={})=>r(this,void 0,void 0,(function*(){i.assertParamExists("retrieveEngine","engineId",t);const r="/engines/{engine_id}".replace("{engine_id}",encodeURIComponent(String(t))),o=new URL(r,i.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const a=Object.assign(Object.assign({method:"GET"},s),n);i.setSearchParams(o,{});let c=s&&s.headers?s.headers:{};return a.headers=Object.assign(Object.assign(Object.assign({},{}),c),n.headers),{url:i.toPathString(o),options:a}})),retrieveFile:(t,n={})=>r(this,void 0,void 0,(function*(){i.assertParamExists("retrieveFile","fileId",t);const r="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(t))),o=new URL(r,i.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const a=Object.assign(Object.assign({method:"GET"},s),n);i.setSearchParams(o,{});let c=s&&s.headers?s.headers:{};return a.headers=Object.assign(Object.assign(Object.assign({},{}),c),n.headers),{url:i.toPathString(o),options:a}})),retrieveFineTune:(t,n={})=>r(this,void 0,void 0,(function*(){i.assertParamExists("retrieveFineTune","fineTuneId",t);const r="/fine-tunes/{fine_tune_id}".replace("{fine_tune_id}",encodeURIComponent(String(t))),o=new URL(r,i.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const a=Object.assign(Object.assign({method:"GET"},s),n);i.setSearchParams(o,{});let c=s&&s.headers?s.headers:{};return a.headers=Object.assign(Object.assign(Object.assign({},{}),c),n.headers),{url:i.toPathString(o),options:a}})),retrieveModel:(t,n={})=>r(this,void 0,void 0,(function*(){i.assertParamExists("retrieveModel","model",t);const r="/models/{model}".replace("{model}",encodeURIComponent(String(t))),o=new URL(r,i.DUMMY_BASE_URL);let s;e&&(s=e.baseOptions);const a=Object.assign(Object.assign({method:"GET"},s),n);i.setSearchParams(o,{});let c=s&&s.headers?s.headers:{};return a.headers=Object.assign(Object.assign(Object.assign({},{}),c),n.headers),{url:i.toPathString(o),options:a}}))}},t.OpenAIApiFp=function(e){const n=t.OpenAIApiAxiosParamCreator(e);return{cancelFineTune(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.cancelFineTune(t,a);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},createAnswer(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createAnswer(t,a);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},createChatCompletion(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createChatCompletion(t,a);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},createClassification(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createClassification(t,a);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},createCompletion(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createCompletion(t,a);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},createEdit(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createEdit(t,a);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},createEmbedding(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createEmbedding(t,a);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},createFile(t,a,c){return r(this,void 0,void 0,(function*(){const r=yield n.createFile(t,a,c);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},createFineTune(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createFineTune(t,a);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},createImage(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createImage(t,a);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},createImageEdit(t,a,c,l,d,u,h,p){return r(this,void 0,void 0,(function*(){const r=yield n.createImageEdit(t,a,c,l,d,u,h,p);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},createImageVariation(t,a,c,l,d,u){return r(this,void 0,void 0,(function*(){const r=yield n.createImageVariation(t,a,c,l,d,u);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},createModeration(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.createModeration(t,a);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},createSearch(t,a,c){return r(this,void 0,void 0,(function*(){const r=yield n.createSearch(t,a,c);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},createTranscription(t,a,c,l,d,u,h){return r(this,void 0,void 0,(function*(){const r=yield n.createTranscription(t,a,c,l,d,u,h);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},createTranslation(t,a,c,l,d,u){return r(this,void 0,void 0,(function*(){const r=yield n.createTranslation(t,a,c,l,d,u);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},deleteFile(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.deleteFile(t,a);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},deleteModel(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.deleteModel(t,a);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},downloadFile(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.downloadFile(t,a);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},listEngines(t){return r(this,void 0,void 0,(function*(){const r=yield n.listEngines(t);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},listFiles(t){return r(this,void 0,void 0,(function*(){const r=yield n.listFiles(t);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},listFineTuneEvents(t,a,c){return r(this,void 0,void 0,(function*(){const r=yield n.listFineTuneEvents(t,a,c);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},listFineTunes(t){return r(this,void 0,void 0,(function*(){const r=yield n.listFineTunes(t);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},listModels(t){return r(this,void 0,void 0,(function*(){const r=yield n.listModels(t);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},retrieveEngine(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.retrieveEngine(t,a);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},retrieveFile(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.retrieveFile(t,a);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},retrieveFineTune(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.retrieveFineTune(t,a);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))},retrieveModel(t,a){return r(this,void 0,void 0,(function*(){const r=yield n.retrieveModel(t,a);return i.createRequestFunction(r,o.default,s.BASE_PATH,e)}))}}},t.OpenAIApiFactory=function(e,n,r){const o=t.OpenAIApiFp(e);return{cancelFineTune:(e,t)=>o.cancelFineTune(e,t).then((e=>e(r,n))),createAnswer:(e,t)=>o.createAnswer(e,t).then((e=>e(r,n))),createChatCompletion:(e,t)=>o.createChatCompletion(e,t).then((e=>e(r,n))),createClassification:(e,t)=>o.createClassification(e,t).then((e=>e(r,n))),createCompletion:(e,t)=>o.createCompletion(e,t).then((e=>e(r,n))),createEdit:(e,t)=>o.createEdit(e,t).then((e=>e(r,n))),createEmbedding:(e,t)=>o.createEmbedding(e,t).then((e=>e(r,n))),createFile:(e,t,i)=>o.createFile(e,t,i).then((e=>e(r,n))),createFineTune:(e,t)=>o.createFineTune(e,t).then((e=>e(r,n))),createImage:(e,t)=>o.createImage(e,t).then((e=>e(r,n))),createImageEdit:(e,t,i,s,a,c,l,d)=>o.createImageEdit(e,t,i,s,a,c,l,d).then((e=>e(r,n))),createImageVariation:(e,t,i,s,a,c)=>o.createImageVariation(e,t,i,s,a,c).then((e=>e(r,n))),createModeration:(e,t)=>o.createModeration(e,t).then((e=>e(r,n))),createSearch:(e,t,i)=>o.createSearch(e,t,i).then((e=>e(r,n))),createTranscription:(e,t,i,s,a,c,l)=>o.createTranscription(e,t,i,s,a,c,l).then((e=>e(r,n))),createTranslation:(e,t,i,s,a,c)=>o.createTranslation(e,t,i,s,a,c).then((e=>e(r,n))),deleteFile:(e,t)=>o.deleteFile(e,t).then((e=>e(r,n))),deleteModel:(e,t)=>o.deleteModel(e,t).then((e=>e(r,n))),downloadFile:(e,t)=>o.downloadFile(e,t).then((e=>e(r,n))),listEngines:e=>o.listEngines(e).then((e=>e(r,n))),listFiles:e=>o.listFiles(e).then((e=>e(r,n))),listFineTuneEvents:(e,t,i)=>o.listFineTuneEvents(e,t,i).then((e=>e(r,n))),listFineTunes:e=>o.listFineTunes(e).then((e=>e(r,n))),listModels:e=>o.listModels(e).then((e=>e(r,n))),retrieveEngine:(e,t)=>o.retrieveEngine(e,t).then((e=>e(r,n))),retrieveFile:(e,t)=>o.retrieveFile(e,t).then((e=>e(r,n))),retrieveFineTune:(e,t)=>o.retrieveFineTune(e,t).then((e=>e(r,n))),retrieveModel:(e,t)=>o.retrieveModel(e,t).then((e=>e(r,n)))}};class a extends s.BaseAPI{cancelFineTune(e,n){return t.OpenAIApiFp(this.configuration).cancelFineTune(e,n).then((e=>e(this.axios,this.basePath)))}createAnswer(e,n){return t.OpenAIApiFp(this.configuration).createAnswer(e,n).then((e=>e(this.axios,this.basePath)))}createChatCompletion(e,n){return t.OpenAIApiFp(this.configuration).createChatCompletion(e,n).then((e=>e(this.axios,this.basePath)))}createClassification(e,n){return t.OpenAIApiFp(this.configuration).createClassification(e,n).then((e=>e(this.axios,this.basePath)))}createCompletion(e,n){return t.OpenAIApiFp(this.configuration).createCompletion(e,n).then((e=>e(this.axios,this.basePath)))}createEdit(e,n){return t.OpenAIApiFp(this.configuration).createEdit(e,n).then((e=>e(this.axios,this.basePath)))}createEmbedding(e,n){return t.OpenAIApiFp(this.configuration).createEmbedding(e,n).then((e=>e(this.axios,this.basePath)))}createFile(e,n,r){return t.OpenAIApiFp(this.configuration).createFile(e,n,r).then((e=>e(this.axios,this.basePath)))}createFineTune(e,n){return t.OpenAIApiFp(this.configuration).createFineTune(e,n).then((e=>e(this.axios,this.basePath)))}createImage(e,n){return t.OpenAIApiFp(this.configuration).createImage(e,n).then((e=>e(this.axios,this.basePath)))}createImageEdit(e,n,r,o,i,s,a,c){return t.OpenAIApiFp(this.configuration).createImageEdit(e,n,r,o,i,s,a,c).then((e=>e(this.axios,this.basePath)))}createImageVariation(e,n,r,o,i,s){return t.OpenAIApiFp(this.configuration).createImageVariation(e,n,r,o,i,s).then((e=>e(this.axios,this.basePath)))}createModeration(e,n){return t.OpenAIApiFp(this.configuration).createModeration(e,n).then((e=>e(this.axios,this.basePath)))}createSearch(e,n,r){return t.OpenAIApiFp(this.configuration).createSearch(e,n,r).then((e=>e(this.axios,this.basePath)))}createTranscription(e,n,r,o,i,s,a){return t.OpenAIApiFp(this.configuration).createTranscription(e,n,r,o,i,s,a).then((e=>e(this.axios,this.basePath)))}createTranslation(e,n,r,o,i,s){return t.OpenAIApiFp(this.configuration).createTranslation(e,n,r,o,i,s).then((e=>e(this.axios,this.basePath)))}deleteFile(e,n){return t.OpenAIApiFp(this.configuration).deleteFile(e,n).then((e=>e(this.axios,this.basePath)))}deleteModel(e,n){return t.OpenAIApiFp(this.configuration).deleteModel(e,n).then((e=>e(this.axios,this.basePath)))}downloadFile(e,n){return t.OpenAIApiFp(this.configuration).downloadFile(e,n).then((e=>e(this.axios,this.basePath)))}listEngines(e){return t.OpenAIApiFp(this.configuration).listEngines(e).then((e=>e(this.axios,this.basePath)))}listFiles(e){return t.OpenAIApiFp(this.configuration).listFiles(e).then((e=>e(this.axios,this.basePath)))}listFineTuneEvents(e,n,r){return t.OpenAIApiFp(this.configuration).listFineTuneEvents(e,n,r).then((e=>e(this.axios,this.basePath)))}listFineTunes(e){return t.OpenAIApiFp(this.configuration).listFineTunes(e).then((e=>e(this.axios,this.basePath)))}listModels(e){return t.OpenAIApiFp(this.configuration).listModels(e).then((e=>e(this.axios,this.basePath)))}retrieveEngine(e,n){return t.OpenAIApiFp(this.configuration).retrieveEngine(e,n).then((e=>e(this.axios,this.basePath)))}retrieveFile(e,n){return t.OpenAIApiFp(this.configuration).retrieveFile(e,n).then((e=>e(this.axios,this.basePath)))}retrieveFineTune(e,n){return t.OpenAIApiFp(this.configuration).retrieveFineTune(e,n).then((e=>e(this.axios,this.basePath)))}retrieveModel(e,n){return t.OpenAIApiFp(this.configuration).retrieveModel(e,n).then((e=>e(this.axios,this.basePath)))}}t.OpenAIApi=a},5198:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequiredError=t.BaseAPI=t.COLLECTION_FORMATS=t.BASE_PATH=void 0;const r=n(9669);t.BASE_PATH="https://api.openai.com/v1".replace(/\/+$/,""),t.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"\t",pipes:"|"},t.BaseAPI=class{constructor(e,n=t.BASE_PATH,o=r.default){this.basePath=n,this.axios=o,e&&(this.configuration=e,this.basePath=e.basePath||this.basePath)}};class o extends Error{constructor(e,t){super(t),this.field=e,this.name="RequiredError"}}t.RequiredError=o},3597:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.createRequestFunction=t.toPathString=t.serializeDataIfNeeded=t.setSearchParams=t.setOAuthToObject=t.setBearerAuthToObject=t.setBasicAuthToObject=t.setApiKeyToObject=t.assertParamExists=t.DUMMY_BASE_URL=void 0;const o=n(5198);function i(e,t,n=""){null!=t&&("object"==typeof t?Array.isArray(t)?t.forEach((t=>i(e,t,n))):Object.keys(t).forEach((r=>i(e,t[r],`${n}${""!==n?".":""}${r}`))):e.has(n)?e.append(n,t):e.set(n,t))}t.DUMMY_BASE_URL="https://example.com",t.assertParamExists=function(e,t,n){if(null==n)throw new o.RequiredError(t,`Required parameter ${t} was null or undefined when calling ${e}.`)},t.setApiKeyToObject=function(e,t,n){return r(this,void 0,void 0,(function*(){if(n&&n.apiKey){const r="function"==typeof n.apiKey?yield n.apiKey(t):yield n.apiKey;e[t]=r}}))},t.setBasicAuthToObject=function(e,t){t&&(t.username||t.password)&&(e.auth={username:t.username,password:t.password})},t.setBearerAuthToObject=function(e,t){return r(this,void 0,void 0,(function*(){if(t&&t.accessToken){const n="function"==typeof t.accessToken?yield t.accessToken():yield t.accessToken;e.Authorization="Bearer "+n}}))},t.setOAuthToObject=function(e,t,n,o){return r(this,void 0,void 0,(function*(){if(o&&o.accessToken){const r="function"==typeof o.accessToken?yield o.accessToken(t,n):yield o.accessToken;e.Authorization="Bearer "+r}}))},t.setSearchParams=function(e,...t){const n=new URLSearchParams(e.search);i(n,t),e.search=n.toString()},t.serializeDataIfNeeded=function(e,t,n){const r="string"!=typeof e;return(r&&n&&n.isJsonMime?n.isJsonMime(t.headers["Content-Type"]):r)?JSON.stringify(void 0!==e?e:{}):e||""},t.toPathString=function(e){return e.pathname+e.search+e.hash},t.createRequestFunction=function(e,t,n,r){return(o=t,i=n)=>{const s=Object.assign(Object.assign({},e.options),{url:((null==r?void 0:r.basePath)||i)+e.url});return o.request(s)}}},6577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Configuration=void 0;const r=n(2811);t.Configuration=class{constructor(e={}){this.apiKey=e.apiKey,this.organization=e.organization,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.baseOptions=e.baseOptions,this.formDataCtor=e.formDataCtor,this.baseOptions||(this.baseOptions={}),this.baseOptions.headers=Object.assign({"User-Agent":`OpenAI/NodeJS/${r.version}`,Authorization:`Bearer ${this.apiKey}`},this.baseOptions.headers),this.organization&&(this.baseOptions.headers["OpenAI-Organization"]=this.organization),this.formDataCtor||(this.formDataCtor=n(6230))}isJsonMime(e){const t=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==e&&(t.test(e)||"application/json-patch+json"===e.toLowerCase())}}},6485:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(4793),t),o(n(6577),t)},3379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},s=[],a=0;a<e.length;a++){var c=e[a],l=r.base?c[0]+r.base:c[0],d=i[l]||0,u="".concat(l," ").concat(d);i[l]=d+1;var h=n(u),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)t[h].references++,t[h].updater(p);else{var f=o(p,r);r.byIndex=a,t.splice(a,0,{identifier:u,updater:f,references:1})}s.push(u)}return s}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var s=0;s<i.length;s++){var a=n(i[s]);t[a].references--}for(var c=r(e,o),l=0;l<i.length;l++){var d=n(i[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}i=c}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},6785:(e,t,n)=>{"use strict";e.exports=n.p+"d11d9e14e00fc1a96751.ttf"},4905:(e,t,n)=>{"use strict";e.exports=n.p+"f4eb295ecc2fb842d61c.ttf"},8340:(e,t,n)=>{"use strict";e.exports=n.p+"assets/blue.svg"},580:(e,t,n)=>{"use strict";e.exports=n.p+"assets/brown.svg"},2344:(e,t,n)=>{"use strict";e.exports=n.p+"assets/green.svg"},4689:(e,t,n)=>{"use strict";e.exports=n.p+"assets/bB.svg"},4370:(e,t,n)=>{"use strict";e.exports=n.p+"assets/bK.svg"},2091:(e,t,n)=>{"use strict";e.exports=n.p+"assets/bN.svg"},6018:(e,t,n)=>{"use strict";e.exports=n.p+"assets/bP.svg"},4654:(e,t,n)=>{"use strict";e.exports=n.p+"assets/bQ.svg"},4436:(e,t,n)=>{"use strict";e.exports=n.p+"assets/bR.svg"},8153:(e,t,n)=>{"use strict";e.exports=n.p+"assets/wB.svg"},9134:(e,t,n)=>{"use strict";e.exports=n.p+"assets/wK.svg"},6788:(e,t,n)=>{"use strict";e.exports=n.p+"assets/wN.svg"},6513:(e,t,n)=>{"use strict";e.exports=n.p+"assets/wP.svg"},8862:(e,t,n)=>{"use strict";e.exports=n.p+"assets/wQ.svg"},1730:(e,t,n)=>{"use strict";e.exports=n.p+"assets/wR.svg"},2057:(e,t,n)=>{"use strict";e.exports=n.p+"assets/bB.png"},6779:(e,t,n)=>{"use strict";e.exports=n.p+"assets/bK.png"},5251:(e,t,n)=>{"use strict";e.exports=n.p+"assets/bN.png"},2702:(e,t,n)=>{"use strict";e.exports=n.p+"assets/bP.png"},3725:(e,t,n)=>{"use strict";e.exports=n.p+"assets/bQ.png"},8137:(e,t,n)=>{"use strict";e.exports=n.p+"assets/bR.png"},285:(e,t,n)=>{"use strict";e.exports=n.p+"assets/wB.png"},7732:(e,t,n)=>{"use strict";e.exports=n.p+"assets/wK.png"},9318:(e,t,n)=>{"use strict";e.exports=n.p+"assets/wN.png"},4746:(e,t,n)=>{"use strict";e.exports=n.p+"assets/wP.png"},5897:(e,t,n)=>{"use strict";e.exports=n.p+"assets/wQ.png"},7255:(e,t,n)=>{"use strict";e.exports=n.p+"assets/wR.png"},2811:e=>{"use strict";e.exports=JSON.parse('{"name":"openai","version":"3.2.1","description":"Node.js library for the OpenAI API","repository":{"type":"git","url":"git@github.com:openai/openai-node.git"},"keywords":["openai","open","ai","gpt-3","gpt3"],"author":"OpenAI","license":"MIT","main":"./dist/index.js","types":"./dist/index.d.ts","scripts":{"build":"tsc --outDir dist/"},"dependencies":{"axios":"^0.26.0","form-data":"^4.0.0"},"devDependencies":{"@types/node":"^12.11.5","typescript":"^3.6.4"}}')}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&!e;)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{"use strict";const e="w",t="b",r="p",o="b",i="r",s="q",a="k",c="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",l=-1,d={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},u=["a8","b8","c8","d8","e8","f8","g8","h8","a7","b7","c7","d7","e7","f7","g7","h7","a6","b6","c6","d6","e6","f6","g6","h6","a5","b5","c5","d5","e5","f5","g5","h5","a4","b4","c4","d4","e4","f4","g4","h4","a3","b3","c3","d3","e3","f3","g3","h3","a2","b2","c2","d2","e2","f2","g2","h2","a1","b1","c1","d1","e1","f1","g1","h1"],h={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},p={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},f={b:[16,32,17,15],w:[-16,-32,-17,-15]},g={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},m=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],b=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],v={p:1,n:2,b:4,r:8,q:16,k:32},w=["n",o,i,s],_={[a]:h.KSIDE_CASTLE,[s]:h.QSIDE_CASTLE},y={w:[{square:p.a1,flag:h.QSIDE_CASTLE},{square:p.h1,flag:h.KSIDE_CASTLE}],b:[{square:p.a8,flag:h.QSIDE_CASTLE},{square:p.h8,flag:h.KSIDE_CASTLE}]},x={b:1,w:6},S=["1-0","0-1","1/2-1/2","*"];function E(e){return e>>4}function O(e){return 15&e}function A(e){return-1!=="0123456789".indexOf(e)}function k(e){const t=O(e),n=E(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(n,n+1)}function P(n){return n===e?t:e}function C(e,t,n,o,i,s=void 0,a=h.NORMAL){const c=E(o);if(i!==r||7!==c&&0!==c)e.push({color:t,from:n,to:o,piece:i,captured:s,flags:a});else for(let r=0;r<w.length;r++){const c=w[r];e.push({color:t,from:n,to:o,piece:i,captured:s,promotion:c,flags:a|h.PROMOTION})}}function T(e){let t=e.charAt(0);if(t>="a"&&t<="h"){if(e.match(/[a-h]\d.*[a-h]\d/))return;return r}return t=t.toLowerCase(),"o"===t?a:t}function R(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class j{_board=new Array(128);_turn=e;_header={};_kings={w:l,b:l};_epSquare=-1;_halfMoves=0;_moveNumber=0;_history=[];_comments={};_castling={w:0,b:0};constructor(e=c){this.load(e)}clear(t=!1){this._board=new Array(128),this._kings={w:l,b:l},this._turn=e,this._castling={w:0,b:0},this._epSquare=l,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=t?this._header:{},this._updateSetup(this.fen())}removeHeader(e){e in this._header&&delete this._header[e]}load(n,r=!1){let o=n.split(/\s+/);if(o.length>=2&&o.length<6){const e=["-","-","0","1"];n=o.concat(e.slice(-(6-o.length))).join(" ")}o=n.split(/\s+/);const{ok:i,error:s}=function(e){const t=e.split(/\s+/);if(6!==t.length)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const n=parseInt(t[5],10);if(isNaN(n)||n<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const r=parseInt(t[4],10);if(isNaN(r)||r<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(t[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(t[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(t[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const o=t[0].split("/");if(8!==o.length)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let e=0;e<o.length;e++){let t=0,n=!1;for(let r=0;r<o[e].length;r++)if(A(o[e][r])){if(n)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};t+=parseInt(o[e][r],10),n=!0}else{if(!/^[prnbqkPRNBQK]$/.test(o[e][r]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};t+=1,n=!1}if(8!==t)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if("3"==t[3][1]&&"w"==t[1]||"6"==t[3][1]&&"b"==t[1])return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const i=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:e,regex:n}of i){if(!n.test(t[0]))return{ok:!1,error:`Invalid FEN: missing ${e} king`};if((t[0].match(n)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${e} kings`}}return{ok:!0}}(n);if(!i)throw new Error(s);const a=o[0];let c=0;this.clear(r);for(let n=0;n<a.length;n++){const r=a.charAt(n);if("/"===r)c+=8;else if(A(r))c+=parseInt(r,10);else{const n=r<"a"?e:t;this.put({type:r.toLowerCase(),color:n},k(c)),c++}}this._turn=o[1],o[2].indexOf("K")>-1&&(this._castling.w|=h.KSIDE_CASTLE),o[2].indexOf("Q")>-1&&(this._castling.w|=h.QSIDE_CASTLE),o[2].indexOf("k")>-1&&(this._castling.b|=h.KSIDE_CASTLE),o[2].indexOf("q")>-1&&(this._castling.b|=h.QSIDE_CASTLE),this._epSquare="-"===o[3]?l:p[o[3]],this._halfMoves=parseInt(o[4],10),this._moveNumber=parseInt(o[5],10),this._updateSetup(this.fen())}fen(){let n=0,o="";for(let t=p.a8;t<=p.h1;t++){if(this._board[t]){n>0&&(o+=n,n=0);const{color:r,type:i}=this._board[t];o+=r===e?i.toUpperCase():i.toLowerCase()}else n++;t+1&136&&(n>0&&(o+=n),t!==p.h1&&(o+="/"),n=0,t+=8)}let i="";this._castling[e]&h.KSIDE_CASTLE&&(i+="K"),this._castling[e]&h.QSIDE_CASTLE&&(i+="Q"),this._castling[t]&h.KSIDE_CASTLE&&(i+="k"),this._castling[t]&h.QSIDE_CASTLE&&(i+="q"),i=i||"-";let s="-";if(this._epSquare!==l){const t=this._epSquare+(this._turn===e?16:-16),n=[t+1,t-1];for(const e of n){if(136&e)continue;const t=this._turn;if(this._board[e]?.color===t&&this._board[e]?.type===r){this._makeMove({color:t,from:e,to:this._epSquare,piece:r,captured:r,flags:h.EP_CAPTURE});const n=!this._isKingAttacked(t);if(this._undoMove(),n){s=k(this._epSquare);break}}}}return[o,this._turn,i,s,this._halfMoves,this._moveNumber].join(" ")}_updateSetup(e){this._history.length>0||(e!==c?(this._header.SetUp="1",this._header.FEN=e):(delete this._header.SetUp,delete this._header.FEN))}reset(){this.load(c)}get(e){return this._board[p[e]]||!1}put({type:e,color:t},n){if(-1==="pnbrqkPNBRQK".indexOf(e.toLowerCase()))return!1;if(!(n in p))return!1;const r=p[n];return(e!=a||this._kings[t]==l||this._kings[t]==r)&&(this._board[r]={type:e,color:t},e===a&&(this._kings[t]=r),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0)}remove(e){const t=this.get(e);return delete this._board[p[e]],t&&t.type===a&&(this._kings[t.color]=l),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),t}_updateCastlingRights(){const n=this._board[p.e1]?.type===a&&this._board[p.e1]?.color===e,r=this._board[p.e8]?.type===a&&this._board[p.e8]?.color===t;n&&this._board[p.a1]?.type===i&&this._board[p.a1]?.color===e||(this._castling.w&=~h.QSIDE_CASTLE),n&&this._board[p.h1]?.type===i&&this._board[p.h1]?.color===e||(this._castling.w&=~h.KSIDE_CASTLE),r&&this._board[p.a8]?.type===i&&this._board[p.a8]?.color===t||(this._castling.b&=~h.QSIDE_CASTLE),r&&this._board[p.h8]?.type===i&&this._board[p.h8]?.color===t||(this._castling.b&=~h.KSIDE_CASTLE)}_updateEnPassantSquare(){if(this._epSquare===l)return;const t=this._epSquare+(this._turn===e?-16:16),n=this._epSquare+(this._turn===e?16:-16),o=[n+1,n-1];null===this._board[t]&&null===this._board[this._epSquare]&&this._board[n]?.color===P(this._turn)&&this._board[n]?.type===r&&o.some((e=>!(136&e)&&this._board[e]?.color===this._turn&&this._board[e]?.type===r))||(this._epSquare=l)}_attacked(n,o){for(let i=p.a8;i<=p.h1;i++){if(136&i){i+=7;continue}if(void 0===this._board[i]||this._board[i].color!==n)continue;const s=this._board[i],a=i-o;if(0===a)continue;const c=a+119;if(m[c]&v[s.type]){if(s.type===r){if(a>0){if(s.color===e)return!0}else if(s.color===t)return!0;continue}if("n"===s.type||"k"===s.type)return!0;const n=b[c];let l=i+n,d=!1;for(;l!==o;){if(null!=this._board[l]){d=!0;break}l+=n}if(!d)return!0}}return!1}_isKingAttacked(e){const t=this._kings[e];return-1!==t&&this._attacked(P(e),t)}isAttacked(e,t){return this._attacked(t,p[e])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&0===this._moves().length}isStalemate(){return!this.isCheck()&&0===this._moves().length}isInsufficientMaterial(){const e={b:0,n:0,r:0,q:0,k:0,p:0},t=[];let n=0,r=0;for(let i=p.a8;i<=p.h1;i++){if(r=(r+1)%2,136&i){i+=7;continue}const s=this._board[i];s&&(e[s.type]=s.type in e?e[s.type]+1:1,s.type===o&&t.push(r),n++)}if(2===n)return!0;if(3===n&&(1===e[o]||1===e.n))return!0;if(n===e[o]+2){let e=0;const n=t.length;for(let r=0;r<n;r++)e+=t[r];if(0===e||e===n)return!0}return!1}isThreefoldRepetition(){const e=[],t={};let n=!1;for(;;){const t=this._undoMove();if(!t)break;e.push(t)}for(;;){const r=this.fen().split(" ").slice(0,4).join(" ");t[r]=r in t?t[r]+1:1,t[r]>=3&&(n=!0);const o=e.pop();if(!o)break;this._makeMove(o)}return n}isDraw(){return this._halfMoves>=100||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isStalemate()||this.isDraw()}moves({verbose:e=!1,square:t,piece:n}={}){const r=this._moves({square:t,piece:n});return e?r.map((e=>this._makePretty(e))):r.map((e=>this._moveToSan(e,r)))}_moves({legal:e=!0,piece:t,square:n}={}){const o=n?n.toLowerCase():void 0,i=t?.toLowerCase(),s=[],c=this._turn,l=P(c);let d=p.a8,u=p.h1,m=!1;if(o){if(!(o in p))return[];d=u=p[o],m=!0}for(let e=d;e<=u;e++){if(136&e){e+=7;continue}if(!this._board[e]||this._board[e].color===l)continue;const{type:t}=this._board[e];let n;if(t===r){if(i&&i!==t)continue;n=e+f[c][0],this._board[n]||(C(s,c,e,n,r),n=e+f[c][1],x[c]!==E(e)||this._board[n]||C(s,c,e,n,r,void 0,h.BIG_PAWN));for(let t=2;t<4;t++)n=e+f[c][t],136&n||(this._board[n]?.color===l?C(s,c,e,n,r,this._board[n].type,h.CAPTURE):n===this._epSquare&&C(s,c,e,n,r,r,h.EP_CAPTURE))}else{if(i&&i!==t)continue;for(let r=0,o=g[t].length;r<o;r++){const o=g[t][r];for(n=e;n+=o,!(136&n);){if(this._board[n]){if(this._board[n].color===c)break;C(s,c,e,n,t,this._board[n].type,h.CAPTURE);break}if(C(s,c,e,n,t),"n"===t||t===a)break}}}}if(!(void 0!==i&&i!==a||m&&u!==this._kings[c])){if(this._castling[c]&h.KSIDE_CASTLE){const e=this._kings[c],t=e+2;this._board[e+1]||this._board[t]||this._attacked(l,this._kings[c])||this._attacked(l,e+1)||this._attacked(l,t)||C(s,c,this._kings[c],t,a,void 0,h.KSIDE_CASTLE)}if(this._castling[c]&h.QSIDE_CASTLE){const e=this._kings[c],t=e-2;this._board[e-1]||this._board[e-2]||this._board[e-3]||this._attacked(l,this._kings[c])||this._attacked(l,e-1)||this._attacked(l,t)||C(s,c,this._kings[c],t,a,void 0,h.QSIDE_CASTLE)}}if(!e||-1===this._kings[c])return s;const b=[];for(let e=0,t=s.length;e<t;e++)this._makeMove(s[e]),this._isKingAttacked(c)||b.push(s[e]),this._undoMove();return b}move(e,{strict:t=!1}={}){let n=null;if("string"==typeof e)n=this._moveFromSan(e,t);else if("object"==typeof e){const t=this._moves();for(let r=0,o=t.length;r<o;r++)if(e.from===k(t[r].from)&&e.to===k(t[r].to)&&(!("promotion"in t[r])||e.promotion===t[r].promotion)){n=t[r];break}}if(!n)throw"string"==typeof e?new Error(`Invalid move: ${e}`):new Error(`Invalid move: ${JSON.stringify(e)}`);const r=this._makePretty(n);return this._makeMove(n),r}_push(e){this._history.push({move:e,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_makeMove(e){const n=this._turn,o=P(n);if(this._push(e),this._board[e.to]=this._board[e.from],delete this._board[e.from],e.flags&h.EP_CAPTURE&&(this._turn===t?delete this._board[e.to-16]:delete this._board[e.to+16]),e.promotion&&(this._board[e.to]={type:e.promotion,color:n}),this._board[e.to].type===a){if(this._kings[n]=e.to,e.flags&h.KSIDE_CASTLE){const t=e.to-1,n=e.to+1;this._board[t]=this._board[n],delete this._board[n]}else if(e.flags&h.QSIDE_CASTLE){const t=e.to+1,n=e.to-2;this._board[t]=this._board[n],delete this._board[n]}this._castling[n]=0}if(this._castling[n])for(let t=0,r=y[n].length;t<r;t++)if(e.from===y[n][t].square&&this._castling[n]&y[n][t].flag){this._castling[n]^=y[n][t].flag;break}if(this._castling[o])for(let t=0,n=y[o].length;t<n;t++)if(e.to===y[o][t].square&&this._castling[o]&y[o][t].flag){this._castling[o]^=y[o][t].flag;break}e.flags&h.BIG_PAWN?this._epSquare=n===t?e.to-16:e.to+16:this._epSquare=l,e.piece===r||e.flags&(h.CAPTURE|h.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,n===t&&this._moveNumber++,this._turn=o}undo(){const e=this._undoMove();return e?this._makePretty(e):null}_undoMove(){const e=this._history.pop();if(void 0===e)return null;const n=e.move;this._kings=e.kings,this._turn=e.turn,this._castling=e.castling,this._epSquare=e.epSquare,this._halfMoves=e.halfMoves,this._moveNumber=e.moveNumber;const o=this._turn,i=P(o);if(this._board[n.from]=this._board[n.to],this._board[n.from].type=n.piece,delete this._board[n.to],n.captured)if(n.flags&h.EP_CAPTURE){let e;e=o===t?n.to-16:n.to+16,this._board[e]={type:r,color:i}}else this._board[n.to]={type:n.captured,color:i};if(n.flags&(h.KSIDE_CASTLE|h.QSIDE_CASTLE)){let e,t;n.flags&h.KSIDE_CASTLE?(e=n.to+1,t=n.to-1):(e=n.to-2,t=n.to+1),this._board[e]=this._board[t],delete this._board[t]}return n}pgn({newline:e="\n",maxWidth:t=0}={}){const n=[];let r=!1;for(const t in this._header)n.push("["+t+' "'+this._header[t]+'"]'+e),r=!0;r&&this._history.length&&n.push(e);const o=e=>{const t=this._comments[this.fen()];return void 0!==t&&(e=`${e}${e.length>0?" ":""}{${t}}`),e},i=[];for(;this._history.length>0;)i.push(this._undoMove());const s=[];let a="";for(0===i.length&&s.push(o(""));i.length>0;){a=o(a);const e=i.pop();if(!e)break;if(this._history.length||"b"!==e.color)"w"===e.color&&(a.length&&s.push(a),a=this._moveNumber+".");else{const e=`${this._moveNumber}. ...`;a=a?`${a} ${e}`:e}a=a+" "+this._moveToSan(e,this._moves({legal:!0})),this._makeMove(e)}if(a.length&&s.push(o(a)),void 0!==this._header.Result&&s.push(this._header.Result),0===t)return n.join("")+s.join(" ");const c=function(){return n.length>0&&" "===n[n.length-1]&&(n.pop(),!0)},l=function(r,o){for(const i of o.split(" "))if(i){if(r+i.length>t){for(;c();)r--;n.push(e),r=0}n.push(i),r+=i.length,n.push(" "),r++}return c()&&r--,r};let d=0;for(let r=0;r<s.length;r++)d+s[r].length>t&&s[r].includes("{")?d=l(d,s[r]):(d+s[r].length>t&&0!==r?(" "===n[n.length-1]&&n.pop(),n.push(e),d=0):0!==r&&(n.push(" "),d++),n.push(s[r]),d+=s[r].length);return n.join("")}header(...e){for(let t=0;t<e.length;t+=2)"string"==typeof e[t]&&"string"==typeof e[t+1]&&(this._header[e[t]]=e[t+1]);return this._header}loadPgn(e,{strict:t=!1,newlineChar:n="\r?\n"}={}){function r(e){return e.replace(/\\/g,"\\")}e=e.trim();const o=new RegExp("^(\\[((?:"+r(n)+")|.)*\\])((?:\\s*"+r(n)+"){2}|(?:\\s*"+r(n)+")*$)").exec(e),i=o&&o.length>=2?o[1]:"";this.reset();const s=function(e){const t={},o=e.split(new RegExp(r(n)));let i="",s="";for(let e=0;e<o.length;e++){const n=/^\s*\[\s*([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;i=o[e].replace(n,"$1"),s=o[e].replace(n,"$2"),i.trim().length>0&&(t[i]=s)}return t}(i);let a="";for(const e in s)"fen"===e.toLowerCase()&&(a=s[e]),this.header(e,s[e]);if(t){if("1"===s.SetUp){if(!("FEN"in s))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(s.FEN,!0)}}else a&&this.load(a,!0);const c=function(e){return`{${function(e){return Array.from(e).map((function(e){return e.charCodeAt(0)<128?e.charCodeAt(0).toString(16):encodeURIComponent(e).replace(/%/g,"").toLowerCase()})).join("")}((e=e.replace(new RegExp(r(n),"g")," ")).slice(1,e.length-1))}}`},l=function(e){if(e.startsWith("{")&&e.endsWith("}"))return function(e){return 0==e.length?"":decodeURIComponent("%"+(e.match(/.{1,2}/g)||[]).join("%"))}(e.slice(1,e.length-1))};let d=e.replace(i,"").replace(new RegExp(`({[^}]*})+?|;([^${r(n)}]*)`,"g"),(function(e,t,n){return void 0!==t?c(t):" "+c(`{${n.slice(1)}}`)})).replace(new RegExp(r(n),"g")," ");const u=/(\([^()]+\))+?/g;for(;u.test(d);)d=d.replace(u,"");d=d.replace(/\d+\.(\.\.)?/g,""),d=d.replace(/\.\.\./g,""),d=d.replace(/\$\d+/g,"");let h=d.trim().split(new RegExp(/\s+/));h=h.filter((e=>""!==e));let p="";for(let e=0;e<h.length;e++){const n=l(h[e]);if(void 0!==n){this._comments[this.fen()]=n;continue}const r=this._moveFromSan(h[e],t);if(null==r){if(!(S.indexOf(h[e])>-1))throw new Error(`Invalid move in PGN: ${h[e]}`);p=h[e]}else p="",this._makeMove(r)}p&&Object.keys(this._header).length&&!this._header.Result&&this.header("Result",p)}_moveToSan(e,t){let n="";if(e.flags&h.KSIDE_CASTLE)n="O-O";else if(e.flags&h.QSIDE_CASTLE)n="O-O-O";else{if(e.piece!==r){const r=function(e,t){const n=e.from,r=e.to,o=e.piece;let i=0,s=0,a=0;for(let e=0,c=t.length;e<c;e++){const c=t[e].from,l=t[e].to;o===t[e].piece&&n!==c&&r===l&&(i++,E(n)===E(c)&&s++,O(n)===O(c)&&a++)}return i>0?s>0&&a>0?k(n):a>0?k(n).charAt(1):k(n).charAt(0):""}(e,t);n+=e.piece.toUpperCase()+r}e.flags&(h.CAPTURE|h.EP_CAPTURE)&&(e.piece===r&&(n+=k(e.from)[0]),n+="x"),n+=k(e.to),e.promotion&&(n+="="+e.promotion.toUpperCase())}return this._makeMove(e),this.isCheck()&&(this.isCheckmate()?n+="#":n+="+"),this._undoMove(),n}_moveFromSan(e,t=!1){const n=R(e);let r,o,i,s,a,c=T(n),l=this._moves({legal:!0,piece:c});for(let e=0,t=l.length;e<t;e++)if(n===R(this._moveToSan(l[e],l)))return l[e];if(t)return null;let d=!1;if(o=n.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),o?(r=o[1],i=o[2],s=o[3],a=o[4],1==i.length&&(d=!0)):(o=n.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),o&&(r=o[1],i=o[2],s=o[3],a=o[4],1==i.length&&(d=!0))),c=T(n),l=this._moves({legal:!0,piece:r||c}),!s)return null;for(let e=0,t=l.length;e<t;e++)if(i){if(!(r&&r.toLowerCase()!=l[e].piece||p[i]!=l[e].from||p[s]!=l[e].to||a&&a.toLowerCase()!=l[e].promotion))return l[e];if(d){const t=k(l[e].from);if(!(r&&r.toLowerCase()!=l[e].piece||p[s]!=l[e].to||i!=t[0]&&i!=t[1]||a&&a.toLowerCase()!=l[e].promotion))return l[e]}}else if(n===R(this._moveToSan(l[e],l)).replace("x",""))return l[e];return null}ascii(){let t="   +------------------------+\n";for(let n=p.a8;n<=p.h1;n++){if(0===O(n)&&(t+=" "+"87654321"[E(n)]+" |"),this._board[n]){const r=this._board[n].type;t+=" "+(this._board[n].color===e?r.toUpperCase():r.toLowerCase())+" "}else t+=" . ";n+1&136&&(t+="|\n",n+=8)}return t+="   +------------------------+\n",t+="     a  b  c  d  e  f  g  h",t}perft(e){const t=this._moves({legal:!1});let n=0;const r=this._turn;for(let o=0,i=t.length;o<i;o++)this._makeMove(t[o]),this._isKingAttacked(r)||(e-1>0?n+=this.perft(e-1):n++),this._undoMove();return n}_makePretty(e){const{color:t,piece:n,from:r,to:o,flags:i,captured:s,promotion:a}=e;let c="";for(const e in h)h[e]&i&&(c+=d[e]);const l=k(r),u=k(o),p={color:t,piece:n,from:l,to:u,san:this._moveToSan(e,this._moves({legal:!0})),flags:c,lan:l+u,before:this.fen(),after:""};return this._makeMove(e),p.after=this.fen(),this._undoMove(),s&&(p.captured=s),a&&(p.promotion=a,p.lan+=a),p}turn(){return this._turn}board(){const e=[];let t=[];for(let n=p.a8;n<=p.h1;n++)null==this._board[n]?t.push(null):t.push({square:k(n),type:this._board[n].type,color:this._board[n].color}),n+1&136&&(e.push(t),t=[],n+=8);return e}squareColor(e){if(e in p){const t=p[e];return(E(t)+O(t))%2==0?"light":"dark"}return null}history({verbose:e=!1}={}){const t=[],n=[];for(;this._history.length>0;)t.push(this._undoMove());for(;;){const r=t.pop();if(!r)break;e?n.push(this._makePretty(r)):n.push(this._moveToSan(r,this._moves())),this._makeMove(r)}return n}_pruneComments(){const e=[],t={},n=e=>{e in this._comments&&(t[e]=this._comments[e])};for(;this._history.length>0;)e.push(this._undoMove());for(n(this.fen());;){const t=e.pop();if(!t)break;this._makeMove(t),n(this.fen())}this._comments=t}getComment(){return this._comments[this.fen()]}setComment(e){this._comments[this.fen()]=e.replace("{","[").replace("}","]")}deleteComment(){const e=this._comments[this.fen()];return delete this._comments[this.fen()],e}getComments(){return this._pruneComments(),Object.keys(this._comments).map((e=>({fen:e,comment:this._comments[e]})))}deleteComments(){return this._pruneComments(),Object.keys(this._comments).map((e=>{const t=this._comments[e];return delete this._comments[e],{fen:e,comment:t}}))}setCastlingRights(e,t){for(const n of[a,s])void 0!==t[n]&&(t[n]?this._castling[e]|=_[n]:this._castling[e]&=~_[n]);this._updateCastlingRights();const n=this.getCastlingRights(e);return!(void 0!==t[a]&&t[a]!==n[a]||void 0!==t[s]&&t[s]!==n[s])}getCastlingRights(e){return{[a]:0!=(this._castling[e]&_[a]),[s]:0!=(this._castling[e]&_[s])}}moveNumber(){return this._moveNumber}}var M=n(6485),I=n(3379),L=n.n(I),F=n(7795),U=n.n(F),q=n(569),B=n.n(q),N=n(3565),D=n.n(N),$=n(9216),K=n.n($),z=n(4589),H=n.n(z),Y=n(7471),Q={};Q.styleTagTransform=H(),Q.setAttributes=D(),Q.insert=B().bind(null,"head"),Q.domAPI=U(),Q.insertStyleElement=K(),L()(Y.Z,Q),Y.Z&&Y.Z.locals&&Y.Z.locals;var G=n(6987),W={};W.styleTagTransform=H(),W.setAttributes=D(),W.insert=B().bind(null,"head"),W.domAPI=U(),W.insertStyleElement=K(),L()(G.Z,W),G.Z&&G.Z.locals&&G.Z.locals;var Z=n(4751),J={};J.styleTagTransform=H(),J.setAttributes=D(),J.insert=B().bind(null,"head"),J.domAPI=U(),J.insertStyleElement=K(),L()(Z.Z,J),Z.Z&&Z.Z.locals&&Z.Z.locals;var V=n(7573),X={};X.styleTagTransform=H(),X.setAttributes=D(),X.insert=B().bind(null,"head"),X.domAPI=U(),X.insertStyleElement=K(),L()(V.Z,X),V.Z&&V.Z.locals&&V.Z.locals,n.p;const ee=n.p+"assets/gpt_logo.png",te=["white","black"],ne=["a","b","c","d","e","f","g","h"],re=["1","2","3","4","5","6","7","8"],oe=[...re].reverse(),ie=Array.prototype.concat(...ne.map((e=>re.map((t=>e+t))))),se=e=>ie[8*e[0]+e[1]],ae=e=>[e.charCodeAt(0)-97,e.charCodeAt(1)-49],ce=ie.map(ae),le=()=>{let e;return{start(){e=performance.now()},cancel(){e=void 0},stop(){if(!e)return 0;const t=performance.now()-e;return e=void 0,t}}},de=e=>"white"===e?"black":"white",ue=(e,t)=>{const n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},he=(e,t)=>e.role===t.role&&e.color===t.color,pe=e=>(t,n)=>[(n?t[0]:7-t[0])*e.width/8,(n?7-t[1]:t[1])*e.height/8],fe=(e,t)=>{e.style.transform=`translate(${t[0]}px,${t[1]}px)`},ge=(e,t,n=1)=>{e.style.transform=`translate(${t[0]}px,${t[1]}px) scale(${n})`},me=(e,t)=>{e.style.visibility=t?"visible":"hidden"},be=e=>{var t;return e.clientX||0===e.clientX?[e.clientX,e.clientY]:(null===(t=e.targetTouches)||void 0===t?void 0:t[0])?[e.targetTouches[0].clientX,e.targetTouches[0].clientY]:void 0},ve=e=>2===e.buttons||2===e.button,we=(e,t)=>{const n=document.createElement(e);return t&&(n.className=t),n};function _e(e,t,n){const r=ae(e);return t||(r[0]=7-r[0],r[1]=7-r[1]),[n.left+n.width*r[0]/8+n.width/16,n.top+n.height*(7-r[1])/8+n.height/16]}const ye=(e,t)=>Math.abs(e-t),xe=e=>(t,n,r,o)=>ye(t,r)<2&&("white"===e?o===n+1||n<=1&&o===n+2&&t===r:o===n-1||n>=6&&o===n-2&&t===r),Se=(e,t,n,r)=>{const o=ye(e,n),i=ye(t,r);return 1===o&&2===i||2===o&&1===i},Ee=(e,t,n,r)=>ye(e,n)===ye(t,r),Oe=(e,t,n,r)=>e===n||t===r,Ae=(e,t,n,r)=>Ee(e,t,n,r)||Oe(e,t,n,r),ke=(e,t,n)=>(r,o,i,s)=>ye(r,i)<2&&ye(o,s)<2||n&&o===s&&o===("white"===e?0:7)&&(4===r&&(2===i&&t.includes(0)||6===i&&t.includes(7))||t.includes(i));function Pe(e,t,n){const r=e.get(t);if(!r)return[];const o=ae(t),i=r.role,s="pawn"===i?xe(r.color):"knight"===i?Se:"bishop"===i?Ee:"rook"===i?Oe:"queen"===i?Ae:ke(r.color,function(e,t){const n="white"===t?"1":"8",r=[];for(const[o,i]of e)o[1]===n&&i.color===t&&"rook"===i.role&&r.push(ae(o)[0]);return r}(e,r.color),n);return ce.filter((e=>(o[0]!==e[0]||o[1]!==e[1])&&s(o[0],o[1],e[0],e[1]))).map(se)}function Ce(e,...t){e&&setTimeout((()=>e(...t)),1)}function Te(e){e.premovable.current&&(e.premovable.current=void 0,Ce(e.premovable.events.unset))}function Re(e){const t=e.predroppable;t.current&&(t.current=void 0,Ce(t.events.unset))}function je(e,t,n){const r=e.pieces.get(t),o=e.pieces.get(n);if(t===n||!r)return!1;const i=o&&o.color!==r.color?o:void 0;return n===e.selected&&Be(e),Ce(e.events.move,t,n,i),function(e,t,n){if(!e.autoCastle)return!1;const r=e.pieces.get(t);if(!r||"king"!==r.role)return!1;const o=ae(t),i=ae(n);if(0!==o[1]&&7!==o[1]||o[1]!==i[1])return!1;4!==o[0]||e.pieces.has(n)||(6===i[0]?n=se([7,i[1]]):2===i[0]&&(n=se([0,i[1]])));const s=e.pieces.get(n);return!(!s||s.color!==r.color||"rook"!==s.role||(e.pieces.delete(t),e.pieces.delete(n),o[0]<i[0]?(e.pieces.set(se([6,i[1]]),r),e.pieces.set(se([5,i[1]]),s)):(e.pieces.set(se([2,i[1]]),r),e.pieces.set(se([3,i[1]]),s)),0))}(e,t,n)||(e.pieces.set(n,r),e.pieces.delete(t)),e.lastMove=[t,n],e.check=void 0,Ce(e.events.change),i||!0}function Me(e,t,n,r){if(e.pieces.has(n)){if(!r)return!1;e.pieces.delete(n)}return Ce(e.events.dropNewPiece,t,n),e.pieces.set(n,t),e.lastMove=[n],e.check=void 0,Ce(e.events.change),e.movable.dests=void 0,e.turnColor=de(e.turnColor),!0}function Ie(e,t,n){const r=je(e,t,n);return r&&(e.movable.dests=void 0,e.turnColor=de(e.turnColor),e.animation.current=void 0),r}function Le(e,t,n){if(De(e,t,n)){const r=Ie(e,t,n);if(r){const o=e.hold.stop();Be(e);const i={premove:!1,ctrlKey:e.stats.ctrlKey,holdTime:o};return!0!==r&&(i.captured=r),Ce(e.movable.events.after,t,n,i),!0}}else if(Ke(e,t,n))return function(e,t,n,r){Re(e),e.premovable.current=[t,n],Ce(e.premovable.events.set,t,n,r)}(e,t,n,{ctrlKey:e.stats.ctrlKey}),Be(e),!0;return Be(e),!1}function Fe(e,t,n,r){const o=e.pieces.get(t);o&&(function(e,t,n){const r=e.pieces.get(t);return!(!r||t!==n&&e.pieces.has(n)||"both"!==e.movable.color&&(e.movable.color!==r.color||e.turnColor!==r.color))}(e,t,n)||r)?(e.pieces.delete(t),Me(e,o,n,r),Ce(e.movable.events.afterNewPiece,o.role,n,{premove:!1,predrop:!1})):o&&function(e,t,n){const r=e.pieces.get(t),o=e.pieces.get(n);return!!r&&(!o||o.color!==e.movable.color)&&e.predroppable.enabled&&("pawn"!==r.role||"1"!==n[1]&&"8"!==n[1])&&e.movable.color===r.color&&e.turnColor!==r.color}(e,t,n)?function(e,t,n){Te(e),e.predroppable.current={role:t,key:n},Ce(e.predroppable.events.set,t,n)}(e,o.role,n):(Te(e),Re(e)),e.pieces.delete(t),Be(e)}function Ue(e,t,n){if(Ce(e.events.select,t),e.selected){if(e.selected===t&&!e.draggable.enabled)return Be(e),void e.hold.cancel();if((e.selectable.enabled||n)&&e.selected!==t&&Le(e,e.selected,t))return void(e.stats.dragged=!1)}(e.selectable.enabled||e.draggable.enabled)&&(Ne(e,t)||$e(e,t))&&(qe(e,t),e.hold.start())}function qe(e,t){e.selected=t,$e(e,t)?e.premovable.dests=Pe(e.pieces,t,e.premovable.castle):e.premovable.dests=void 0}function Be(e){e.selected=void 0,e.premovable.dests=void 0,e.hold.cancel()}function Ne(e,t){const n=e.pieces.get(t);return!!n&&("both"===e.movable.color||e.movable.color===n.color&&e.turnColor===n.color)}const De=(e,t,n)=>{var r,o;return t!==n&&Ne(e,t)&&(e.movable.free||!!(null===(o=null===(r=e.movable.dests)||void 0===r?void 0:r.get(t))||void 0===o?void 0:o.includes(n)))};function $e(e,t){const n=e.pieces.get(t);return!!n&&e.premovable.enabled&&e.movable.color===n.color&&e.turnColor!==n.color}const Ke=(e,t,n)=>t!==n&&$e(e,t)&&Pe(e.pieces,t,e.premovable.castle).includes(n);function ze(e){const t=e.premovable.current;if(!t)return!1;const n=t[0],r=t[1];let o=!1;if(De(e,n,r)){const t=Ie(e,n,r);if(t){const i={premove:!0};!0!==t&&(i.captured=t),Ce(e.movable.events.after,n,r,i),o=!0}}return Te(e),o}function He(e){Te(e),Re(e),Be(e)}function Ye(e){e.movable.color=e.movable.dests=e.animation.current=void 0,He(e)}function Qe(e,t,n){let r=Math.floor(8*(e[0]-n.left)/n.width);t||(r=7-r);let o=7-Math.floor(8*(e[1]-n.top)/n.height);return t||(o=7-o),r>=0&&r<8&&o>=0&&o<8?se([r,o]):void 0}const Ge=e=>"white"===e.orientation,We="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR",Ze={p:"pawn",r:"rook",n:"knight",b:"bishop",q:"queen",k:"king"},Je={pawn:"p",rook:"r",knight:"n",bishop:"b",queen:"q",king:"k"};function Ve(e){"start"===e&&(e=We);const t=new Map;let n=7,r=0;for(const o of e)switch(o){case" ":case"[":return t;case"/":if(--n,n<0)return t;r=0;break;case"~":{const e=t.get(se([r-1,n]));e&&(e.promoted=!0);break}default:{const e=o.charCodeAt(0);if(e<57)r+=e-48;else{const e=o.toLowerCase();t.set(se([r,n]),{role:Ze[e],color:o===e?"black":"white"}),++r}}}return t}function Xe(e,t){t.animation&&(tt(e.animation,t.animation),(e.animation.duration||0)<70&&(e.animation.enabled=!1))}function et(e,t){var n,r,o;if((null===(n=t.movable)||void 0===n?void 0:n.dests)&&(e.movable.dests=void 0),(null===(r=t.drawable)||void 0===r?void 0:r.autoShapes)&&(e.drawable.autoShapes=[]),tt(e,t),t.fen&&(e.pieces=Ve(t.fen),e.drawable.shapes=(null===(o=t.drawable)||void 0===o?void 0:o.shapes)||[]),"check"in t&&function(e,t){if(e.check=void 0,!0===t&&(t=e.turnColor),t)for(const[n,r]of e.pieces)"king"===r.role&&r.color===t&&(e.check=n)}(e,t.check||!1),"lastMove"in t&&!t.lastMove?e.lastMove=void 0:t.lastMove&&(e.lastMove=t.lastMove),e.selected&&qe(e,e.selected),Xe(e,t),!e.movable.rookCastle&&e.movable.dests){const t="white"===e.movable.color?"1":"8",n="e"+t,r=e.movable.dests.get(n),o=e.pieces.get(n);if(!r||!o||"king"!==o.role)return;e.movable.dests.set(n,r.filter((e=>!(e==="a"+t&&r.includes("c"+t)||e==="h"+t&&r.includes("g"+t)))))}}function tt(e,t){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Object.prototype.hasOwnProperty.call(e,n)&&nt(e[n])&&nt(t[n])?tt(e[n],t[n]):e[n]=t[n])}function nt(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}const rt=(e,t)=>t.animation.enabled?function(e,t){const n=new Map(t.pieces),r=e(t),o=function(e,t){const n=new Map,r=[],o=new Map,i=[],s=[],a=new Map;let c,l,d;for(const[t,n]of e)a.set(t,it(t,n));for(const e of ie)c=t.pieces.get(e),l=a.get(e),c?l?he(c,l.piece)||(i.push(l),s.push(it(e,c))):s.push(it(e,c)):l&&i.push(l);for(const e of s)l=st(e,i.filter((t=>he(e.piece,t.piece)))),l&&(d=[l.pos[0]-e.pos[0],l.pos[1]-e.pos[1]],n.set(e.key,d.concat(d)),r.push(l.key));for(const e of i)r.includes(e.key)||o.set(e.key,e.piece);return{anims:n,fadings:o}}(n,t);if(o.anims.size||o.fadings.size){const e=t.animation.current&&t.animation.current.start;t.animation.current={start:performance.now(),frequency:1/t.animation.duration,plan:o},e||at(t,performance.now())}else t.dom.redraw();return r}(e,t):ot(e,t);function ot(e,t){const n=e(t);return t.dom.redraw(),n}const it=(e,t)=>({key:e,pos:ae(e),piece:t}),st=(e,t)=>t.sort(((t,n)=>ue(e.pos,t.pos)-ue(e.pos,n.pos)))[0];function at(e,t){const n=e.animation.current;if(void 0===n)return void(e.dom.destroyed||e.dom.redrawNow());const r=1-(t-n.start)*n.frequency;if(r<=0)e.animation.current=void 0,e.dom.redrawNow();else{const t=ct(r);for(const e of n.plan.anims.values())e[2]=e[0]*t,e[3]=e[1]*t;e.dom.redrawNow(!0),requestAnimationFrame(((t=performance.now())=>at(e,t)))}}const ct=e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,lt=["green","red","blue","yellow"];function dt(e,t){if(t.touches&&t.touches.length>1)return;t.stopPropagation(),t.preventDefault(),t.ctrlKey?Be(e):He(e);const n=be(t),r=Qe(n,Ge(e),e.dom.bounds());r&&(e.drawable.current={orig:r,pos:n,brush:gt(t),snapToValidMove:e.drawable.defaultSnapToValidMove},ut(e))}function ut(e){requestAnimationFrame((()=>{const t=e.drawable.current;if(t){const n=Qe(t.pos,Ge(e),e.dom.bounds());n||(t.snapToValidMove=!1);const r=t.snapToValidMove?function(e,t,n,r){const o=ae(e),i=ce.filter((e=>Ae(o[0],o[1],e[0],e[1])||Se(o[0],o[1],e[0],e[1]))),s=i.map((e=>_e(se(e),n,r))).map((e=>ue(t,e))),[,a]=s.reduce(((e,t,n)=>e[0]<t?e:[t,n]),[s[0],0]);return se(i[a])}(t.orig,t.pos,Ge(e),e.dom.bounds()):n;r!==t.mouseSq&&(t.mouseSq=r,t.dest=r!==t.orig?r:void 0,e.dom.redrawNow()),ut(e)}}))}function ht(e,t){e.drawable.current&&(e.drawable.current.pos=be(t))}function pt(e){const t=e.drawable.current;t&&(t.mouseSq&&function(e,t){const n=e=>e.orig===t.orig&&e.dest===t.dest,r=e.shapes.find(n);r&&(e.shapes=e.shapes.filter((e=>!n(e)))),r&&r.brush===t.brush||e.shapes.push({orig:t.orig,dest:t.dest,brush:t.brush}),mt(e)}(e.drawable,t),ft(e))}function ft(e){e.drawable.current&&(e.drawable.current=void 0,e.dom.redraw())}function gt(e){var t;const n=(e.shiftKey||e.ctrlKey)&&ve(e),r=e.altKey||e.metaKey||(null===(t=e.getModifierState)||void 0===t?void 0:t.call(e,"AltGraph"));return lt[(n?1:0)+(r?2:0)]}function mt(e){e.onChange&&e.onChange(e.shapes)}function bt(e){requestAnimationFrame((()=>{var t;const n=e.draggable.current;if(!n)return;(null===(t=e.animation.current)||void 0===t?void 0:t.plan.anims.has(n.orig))&&(e.animation.current=void 0);const r=e.pieces.get(n.orig);if(r&&he(r,n.piece)){if(!n.started&&ue(n.pos,n.origPos)>=Math.pow(e.draggable.distance,2)&&(n.started=!0),n.started){if("function"==typeof n.element){const e=n.element();if(!e)return;e.cgDragging=!0,e.classList.add("dragging"),n.element=e}const t=e.dom.bounds();fe(n.element,[n.pos[0]-t.left-t.width/16,n.pos[1]-t.top-t.height/16]),n.keyHasChanged||(n.keyHasChanged=n.orig!==Qe(n.pos,Ge(e),t))}}else _t(e);bt(e)}))}function vt(e,t){e.draggable.current&&(!t.touches||t.touches.length<2)&&(e.draggable.current.pos=be(t))}function wt(e,t){const n=e.draggable.current;if(!n)return;if("touchend"===t.type&&!1!==t.cancelable&&t.preventDefault(),"touchend"===t.type&&n.originTarget!==t.target&&!n.newPiece)return void(e.draggable.current=void 0);Te(e),Re(e);const r=Qe(be(t)||n.pos,Ge(e),e.dom.bounds());r&&n.started&&n.orig!==r?n.newPiece?Fe(e,n.orig,r,n.force):(e.stats.ctrlKey=t.ctrlKey,Le(e,n.orig,r)&&(e.stats.dragged=!0)):n.newPiece?e.pieces.delete(n.orig):e.draggable.deleteOnDropOff&&!r&&(e.pieces.delete(n.orig),Ce(e.events.change)),(n.orig!==n.previouslySelected&&!n.keyHasChanged||n.orig!==r&&r)&&e.selectable.enabled||Be(e),yt(e),e.draggable.current=void 0,e.dom.redraw()}function _t(e){const t=e.draggable.current;t&&(t.newPiece&&e.pieces.delete(t.orig),e.draggable.current=void 0,Be(e),yt(e),e.dom.redraw())}function yt(e){const t=e.dom.elements;t.ghost&&me(t.ghost,!1)}function xt(e,t){let n=e.dom.elements.board.firstChild;for(;n;){if(n.cgKey===t&&"PIECE"===n.tagName)return n;n=n.nextSibling}}function St(e,t){e.exploding&&(t?e.exploding.stage=t:e.exploding=void 0,e.dom.redraw())}function Et(e,t,n){const r=new Map,o=[];for(const t of e)r.set(t.hash,!1);let i,s=t.firstChild;for(;s;)i=s.getAttribute("cgHash"),r.has(i)?r.set(i,!0):o.push(s),s=s.nextSibling;for(const e of o)t.removeChild(e);for(const o of e)r.get(o.hash)||t.appendChild(n(o))}function Ot(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function At({orig:e,dest:t,brush:n,piece:r,modifiers:o,customSvg:i},s,a,c){return[c.width,c.height,a,e,t,n,t&&(s.get(t)||0)>1,r&&kt(r),o&&(l=o,[l.lineWidth,l.hilite].filter((e=>e)).join(",")),i&&Pt(i)].filter((e=>e)).join(",");var l}function kt(e){return[e.color,e.role,e.scale].filter((e=>e)).join(",")}function Pt(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)>>>0;return"custom-"+t.toString()}function Ct(e,{shape:t,current:n,hash:r},o,i,s){var a;let c;const l=jt(ae(t.orig),e.orientation);if(t.customSvg)c=function(e,t,n){const[r,o]=Ft(t,n),i=Rt(Ot("g"),{transform:`translate(${r},${o})`}),s=Rt(Ot("svg"),{width:1,height:1,viewBox:"0 0 100 100"});return i.appendChild(s),s.innerHTML=e,i}(t.customSvg,l,s);else if(t.dest){let r=o[t.brush];t.modifiers&&(r=Mt(r,t.modifiers)),c=function(e,t,n,r,o,i,s=!1){function a(s){const a=function(e){return(e?20:10)/64}(o&&!r),c=Ft(t,i),l=Ft(n,i),d=l[0]-c[0],u=l[1]-c[1],h=Math.atan2(u,d),p=Math.cos(h)*a,f=Math.sin(h)*a;return Rt(Ot("line"),{stroke:s?"white":e.color,"stroke-width":It(e,r)+(s?.04:0),"stroke-linecap":"round","marker-end":`url(#arrowhead-${s?"hilite":e.key})`,opacity:s?1:Lt(e,r),x1:c[0],y1:c[1],x2:l[0]-p,y2:l[1]-f})}const c=s?Ot("g"):a(!1);return s&&[!0,!1].map((e=>c.appendChild(a(e)))),c}(r,l,jt(ae(t.dest),e.orientation),n,(i.get(t.dest)||0)>1,s,null===(a=t.modifiers)||void 0===a?void 0:a.hilite)}else c=function(e,t,n,r){const o=Ft(t,r),i=[3/64,4/64],s=(r.width+r.height)/(4*Math.max(r.width,r.height));return Rt(Ot("circle"),{stroke:e.color,"stroke-width":i[n?0:1],fill:"none",opacity:Lt(e,n),cx:o[0],cy:o[1],r:s-i[1]/2})}(o[t.brush],l,n,s);return c.setAttribute("cgHash",r),c}function Tt(e){const t=Rt(Ot("marker"),{id:"arrowhead-"+e.key,orient:"auto",markerWidth:4,markerHeight:8,refX:"hilite"===e.key?1.86:2.05,refY:2});return t.appendChild(Rt(Ot("path"),{d:"M0,0 V4 L3,2 Z",fill:e.color})),t.setAttribute("cgKey",e.key),t}function Rt(e,t){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.setAttribute(n,t[n]);return e}function jt(e,t){return"white"===t?e:[7-e[0],7-e[1]]}function Mt(e,t){return{color:e.color,opacity:Math.round(10*e.opacity)/10,lineWidth:Math.round(t.lineWidth||e.lineWidth),key:[e.key,t.lineWidth].filter((e=>e)).join("")}}function It(e,t){return(e.lineWidth||10)*(t?.85:1)/64}function Lt(e,t){return(e.opacity||1)*(t?.9:1)}function Ft(e,t){const n=Math.min(1,t.width/t.height),r=Math.min(1,t.height/t.width);return[(e[0]-3.5)*n,(3.5-e[1])*r]}function Ut(e,t){const n=we("coords",t);let r;for(const t of e)r=we("coord"),r.textContent=t,n.appendChild(r);return n}function qt(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}const Bt=e=>t=>{e.draggable.current?_t(e):e.drawable.current?ft(e):t.shiftKey||ve(t)?e.drawable.enabled&&dt(e,t):e.viewOnly||(e.dropmode.active?function(e,t){if(!e.dropmode.active)return;Te(e),Re(e);const n=e.dropmode.piece;if(n){e.pieces.set("a0",n);const r=be(t),o=r&&Qe(r,Ge(e),e.dom.bounds());o&&Fe(e,"a0",o)}e.dom.redraw()}(e,t):function(e,t){if(!t.isTrusted||void 0!==t.button&&0!==t.button)return;if(t.touches&&t.touches.length>1)return;const n=e.dom.bounds(),r=be(t),o=Qe(r,Ge(e),n);if(!o)return;const i=e.pieces.get(o),s=e.selected;var a;s||!e.drawable.enabled||!e.drawable.eraseOnClick&&i&&i.color===e.turnColor||(a=e).drawable.shapes.length&&(a.drawable.shapes=[],a.dom.redraw(),mt(a.drawable)),!1!==t.cancelable&&(!t.touches||e.blockTouchScroll||i||s||function(e,t){const n=Ge(e),r=e.dom.bounds(),o=Math.pow(r.width/8,2);for(const i of e.pieces.keys()){const e=_e(i,n,r);if(ue(e,t)<=o)return!0}return!1}(e,r))&&t.preventDefault();const c=!!e.premovable.current,l=!!e.predroppable.current;e.stats.ctrlKey=t.ctrlKey,e.selected&&De(e,e.selected,o)?rt((e=>Ue(e,o)),e):Ue(e,o);const d=e.selected===o,u=xt(e,o);if(i&&u&&d&&function(e,t){const n=e.pieces.get(t);return!!n&&e.draggable.enabled&&("both"===e.movable.color||e.movable.color===n.color&&(e.turnColor===n.color||e.premovable.enabled))}(e,o)){e.draggable.current={orig:o,piece:i,origPos:r,pos:r,started:e.draggable.autoDistance&&e.stats.dragged,element:u,previouslySelected:s,originTarget:t.target,keyHasChanged:!1},u.cgDragging=!0,u.classList.add("dragging");const a=e.dom.elements.ghost;a&&(a.className=`ghost ${i.color} ${i.role}`,fe(a,pe(n)(ae(o),Ge(e))),me(a,!0)),bt(e)}else c&&Te(e),l&&Re(e);e.dom.redraw()}(e,t))},Nt=(e,t,n)=>r=>{e.drawable.current?e.drawable.enabled&&n(e,r):e.viewOnly||t(e,r)};function Dt(e){var t,n;const r=e.dom.elements.wrap.getBoundingClientRect(),o=e.dom.elements.container,i=r.height/r.width,s=8*Math.floor(r.width*window.devicePixelRatio/8)/window.devicePixelRatio,a=s*i;o.style.width=s+"px",o.style.height=a+"px",e.dom.bounds.clear(),null===(t=e.addDimensionsCssVarsTo)||void 0===t||t.style.setProperty("--cg-width",s+"px"),null===(n=e.addDimensionsCssVarsTo)||void 0===n||n.style.setProperty("--cg-height",a+"px")}const $t=e=>"PIECE"===e.tagName,Kt=e=>"SQUARE"===e.tagName;function zt(e,t){for(const n of t)e.dom.elements.board.removeChild(n)}function Ht(e,t){const n=e[1];return`${t?10-n:3+n}`}const Yt=e=>`${e.color} ${e.role}`;function Qt(e,t,n){const r=e.get(t);r?e.set(t,`${r} ${n}`):e.set(t,n)}function Gt(e,t,n){const r=e.get(t);r?r.push(n):e.set(t,[n])}const Wt=e=>{var t,n,r;return[e.orig,null===(t=e.piece)||void 0===t?void 0:t.role,null===(n=e.piece)||void 0===n?void 0:n.color,null===(r=e.piece)||void 0===r?void 0:r.scale].join(",")};function Zt(e,t){const n={pieces:Ve(We),orientation:"white",turnColor:"white",coordinates:!0,ranksPosition:"right",autoCastle:!0,viewOnly:!1,disableContextMenu:!1,addPieceZIndex:!1,blockTouchScroll:!1,pieceKey:!1,highlight:{lastMove:!0,check:!0},animation:{enabled:!0,duration:200},movable:{free:!0,color:"both",showDests:!0,events:{},rookCastle:!0},premovable:{enabled:!0,showDests:!0,castle:!0,events:{}},predroppable:{enabled:!1,events:{}},draggable:{enabled:!0,distance:3,autoDistance:!0,showGhost:!0,deleteOnDropOff:!1},dropmode:{active:!1},selectable:{enabled:!0},stats:{dragged:!("ontouchstart"in window)},events:{},drawable:{enabled:!0,visible:!0,defaultSnapToValidMove:!0,eraseOnClick:!0,shapes:[],autoShapes:[],brushes:{green:{key:"g",color:"#15781B",opacity:1,lineWidth:10},red:{key:"r",color:"#882020",opacity:1,lineWidth:10},blue:{key:"b",color:"#003088",opacity:1,lineWidth:10},yellow:{key:"y",color:"#e68f00",opacity:1,lineWidth:10},paleBlue:{key:"pb",color:"#003088",opacity:.4,lineWidth:15},paleGreen:{key:"pg",color:"#15781B",opacity:.4,lineWidth:15},paleRed:{key:"pr",color:"#882020",opacity:.4,lineWidth:15},paleGrey:{key:"pgr",color:"#4a4a4a",opacity:.35,lineWidth:15}},prevSvgHash:""},hold:le()};function r(){const t="dom"in n?n.dom.unbind:void 0,r=function(e,t){e.innerHTML="",e.classList.add("cg-wrap");for(const n of te)e.classList.toggle("orientation-"+n,t.orientation===n);e.classList.toggle("manipulable",!t.viewOnly);const n=we("cg-container");e.appendChild(n);const r=we("cg-board");let o,i,s,a;if(n.appendChild(r),t.drawable.visible&&(o=Rt(Ot("svg"),{class:"cg-shapes",viewBox:"-4 -4 8 8",preserveAspectRatio:"xMidYMid slice"}),o.appendChild(Ot("defs")),o.appendChild(Ot("g")),i=Rt(Ot("svg"),{class:"cg-custom-svgs",viewBox:"-3.5 -3.5 8 8",preserveAspectRatio:"xMidYMid slice"}),i.appendChild(Ot("g")),s=we("cg-auto-pieces"),n.appendChild(o),n.appendChild(i),n.appendChild(s)),t.coordinates){const e="black"===t.orientation?" black":"",r="left"===t.ranksPosition?" left":"";n.appendChild(Ut(re,"ranks"+e+r)),n.appendChild(Ut(ne,"files"+e))}return t.draggable.enabled&&t.draggable.showGhost&&(a=we("piece","ghost"),me(a,!1),n.appendChild(a)),{board:r,container:n,wrap:e,ghost:a,svg:o,customSvg:i,autoPieces:s}}(e,n),o=function(e){let t;const n=()=>(void 0===t&&(t=r.board.getBoundingClientRect()),t);return n.clear=()=>{t=void 0},n}(),i=e=>{(function(e){const t=Ge(e),n=pe(e.dom.bounds()),r=e.dom.elements.board,o=e.pieces,i=e.animation.current,s=i?i.plan.anims:new Map,a=i?i.plan.fadings:new Map,c=e.draggable.current,l=function(e){var t;const n=new Map;if(e.lastMove&&e.highlight.lastMove)for(const t of e.lastMove)Qt(n,t,"last-move");if(e.check&&e.highlight.check&&Qt(n,e.check,"check"),e.selected&&(Qt(n,e.selected,"selected"),e.movable.showDests)){const r=null===(t=e.movable.dests)||void 0===t?void 0:t.get(e.selected);if(r)for(const t of r)Qt(n,t,"move-dest"+(e.pieces.has(t)?" oc":""));const o=e.premovable.dests;if(o)for(const t of o)Qt(n,t,"premove-dest"+(e.pieces.has(t)?" oc":""))}const r=e.premovable.current;if(r)for(const e of r)Qt(n,e,"current-premove");else e.predroppable.current&&Qt(n,e.predroppable.current.key,"current-premove");const o=e.exploding;if(o)for(const e of o.keys)Qt(n,e,"exploding"+o.stage);return n}(e),d=new Set,u=new Set,h=new Map,p=new Map;let f,g,m,b,v,w,_,y,x,S;for(g=r.firstChild;g;){if(f=g.cgKey,$t(g))if(m=o.get(f),v=s.get(f),w=a.get(f),b=g.cgPiece,!g.cgDragging||c&&c.orig===f||(g.classList.remove("dragging"),fe(g,n(ae(f),t)),g.cgDragging=!1),!w&&g.cgFading&&(g.cgFading=!1,g.classList.remove("fading")),m){if(v&&g.cgAnimating&&b===Yt(m)){const e=ae(f);e[0]+=v[2],e[1]+=v[3],g.classList.add("anim"),fe(g,n(e,t))}else g.cgAnimating&&(g.cgAnimating=!1,g.classList.remove("anim"),fe(g,n(ae(f),t)),e.addPieceZIndex&&(g.style.zIndex=Ht(ae(f),t)));b!==Yt(m)||w&&g.cgFading?w&&b===Yt(w)?(g.classList.add("fading"),g.cgFading=!0):Gt(h,b,g):d.add(f)}else Gt(h,b,g);else if(Kt(g)){const e=g.className;l.get(f)===e?u.add(f):Gt(p,e,g)}g=g.nextSibling}for(const[e,o]of l)if(!u.has(e)){x=p.get(o),S=x&&x.pop();const i=n(ae(e),t);if(S)S.cgKey=e,fe(S,i);else{const t=we("square",o);t.cgKey=e,fe(t,i),r.insertBefore(t,r.firstChild)}}for(const[i,a]of o)if(v=s.get(i),!d.has(i))if(_=h.get(Yt(a)),y=_&&_.pop(),y){y.cgKey=i,y.cgFading&&(y.classList.remove("fading"),y.cgFading=!1);const r=ae(i);e.addPieceZIndex&&(y.style.zIndex=Ht(r,t)),v&&(y.cgAnimating=!0,y.classList.add("anim"),r[0]+=v[2],r[1]+=v[3]),fe(y,n(r,t))}else{const o=Yt(a),s=we("piece",o),c=ae(i);s.cgPiece=o,s.cgKey=i,v&&(s.cgAnimating=!0,c[0]+=v[2],c[1]+=v[3]),fe(s,n(c,t)),e.addPieceZIndex&&(s.style.zIndex=Ht(c,t)),r.appendChild(s)}for(const t of h.values())zt(e,t);for(const t of p.values())zt(e,t)})(a),r.autoPieces&&function(e,t){Et(e.drawable.autoShapes.filter((e=>e.piece)).map((e=>({shape:e,hash:Wt(e),current:!1}))),t,(t=>function(e,{shape:t,hash:n},r){var o,i,s;const a=t.orig,c=null===(o=t.piece)||void 0===o?void 0:o.role,l=null===(i=t.piece)||void 0===i?void 0:i.color,d=null===(s=t.piece)||void 0===s?void 0:s.scale,u=we("piece",`${c} ${l}`);return u.setAttribute("cgHash",n),u.cgKey=a,u.cgScale=d,ge(u,pe(r)(ae(a),Ge(e)),d),u}(e,t,e.dom.bounds())))}(a,r.autoPieces),!e&&r.svg&&function(e,t,n){const r=e.drawable,o=r.current,i=o&&o.mouseSq?o:void 0,s=new Map,a=e.dom.bounds(),c=r.autoShapes.filter((e=>!e.piece));for(const e of r.shapes.concat(c).concat(i?[i]:[]))e.dest&&s.set(e.dest,(s.get(e.dest)||0)+1);const l=r.shapes.concat(c).map((e=>({shape:e,current:!1,hash:At(e,s,!1,a)})));i&&l.push({shape:i,current:!0,hash:At(i,s,!0,a)});const d=l.map((e=>e.hash)).join(";");if(d===e.drawable.prevSvgHash)return;e.drawable.prevSvgHash=d;const u=t.querySelector("defs"),h=t.querySelector("g"),p=n.querySelector("g");!function(e,t,n){var r;const o=new Map;let i;for(const n of t)n.shape.dest&&(i=e.brushes[n.shape.brush],n.shape.modifiers&&(i=Mt(i,n.shape.modifiers)),(null===(r=n.shape.modifiers)||void 0===r?void 0:r.hilite)&&o.set("hilite",{key:"hilite",color:"white",opacity:1,lineWidth:1}),o.set(i.key,i));const s=new Set;let a=n.firstChild;for(;a;)s.add(a.getAttribute("cgKey")),a=a.nextSibling;for(const[e,t]of o.entries())s.has(e)||n.appendChild(Tt(t))}(r,l,u),Et(l.filter((e=>!e.shape.customSvg)),h,(t=>Ct(e,t,r.brushes,s,a))),Et(l.filter((e=>e.shape.customSvg)),p,(t=>Ct(e,t,r.brushes,s,a)))}(a,r.svg,r.customSvg)},s=()=>{Dt(a),function(e){const t=Ge(e),n=pe(e.dom.bounds());let r=e.dom.elements.board.firstChild;for(;r;)($t(r)&&!r.cgAnimating||Kt(r))&&fe(r,n(ae(r.cgKey),t)),r=r.nextSibling}(a),r.autoPieces&&function(e){var t;const n=Ge(e),r=pe(e.dom.bounds());let o=null===(t=e.dom.elements.autoPieces)||void 0===t?void 0:t.firstChild;for(;o;)ge(o,r(ae(o.cgKey),n),o.cgScale),o=o.nextSibling}(a)},a=n;return a.dom={elements:r,bounds:o,redraw:Jt(i),redrawNow:i,unbind:t},a.drawable.prevSvgHash="",Dt(a),i(!1),function(e,t){const n=e.dom.elements.board;if("ResizeObserver"in window&&new ResizeObserver(t).observe(e.dom.elements.wrap),(e.disableContextMenu||e.drawable.enabled)&&n.addEventListener("contextmenu",(e=>e.preventDefault())),e.viewOnly)return;const r=Bt(e);n.addEventListener("touchstart",r,{passive:!1}),n.addEventListener("mousedown",r,{passive:!1})}(a,s),t||(a.dom.unbind=function(e,t){const n=[];if("ResizeObserver"in window||n.push(qt(document.body,"chessground.resize",t)),!e.viewOnly){const t=Nt(e,vt,ht),r=Nt(e,wt,pt);for(const e of["touchmove","mousemove"])n.push(qt(document,e,t));for(const e of["touchend","mouseup"])n.push(qt(document,e,r));const o=()=>e.dom.bounds.clear();n.push(qt(document,"scroll",o,{capture:!0,passive:!0})),n.push(qt(window,"resize",o,{passive:!0}))}return()=>n.forEach((e=>e()))}(a,s)),a.events.insert&&a.events.insert(r),a}return et(n,t||{}),function(e,t){function n(){!function(e){e.orientation=de(e.orientation),e.animation.current=e.draggable.current=e.selected=void 0}(e),t()}return{set(t){t.orientation&&t.orientation!==e.orientation&&n(),Xe(e,t),(t.fen?rt:ot)((e=>et(e,t)),e)},state:e,getFen:()=>{return t=e.pieces,oe.map((e=>ne.map((n=>{const r=t.get(n+e);if(r){let e=Je[r.role];return"white"===r.color&&(e=e.toUpperCase()),r.promoted&&(e+="~"),e}return"1"})).join(""))).join("/").replace(/1{2,}/g,(e=>e.length.toString()));var t},toggleOrientation:n,setPieces(t){rt((e=>function(e,t){for(const[n,r]of t)r?e.pieces.set(n,r):e.pieces.delete(n)}(e,t)),e)},selectSquare(t,n){t?rt((e=>Ue(e,t,n)),e):e.selected&&(Be(e),e.dom.redraw())},move(t,n){rt((e=>je(e,t,n)),e)},newPiece(t,n){rt((e=>Me(e,t,n)),e)},playPremove(){if(e.premovable.current){if(rt(ze,e))return!0;e.dom.redraw()}return!1},playPredrop(t){if(e.predroppable.current){const n=function(e,t){const n=e.predroppable.current;let r=!1;return!!n&&(t(n)&&Me(e,{role:n.role,color:e.movable.color},n.key)&&(Ce(e.movable.events.afterNewPiece,n.role,n.key,{premove:!1,predrop:!0}),r=!0),Re(e),r)}(e,t);return e.dom.redraw(),n}return!1},cancelPremove(){ot(Te,e)},cancelPredrop(){ot(Re,e)},cancelMove(){ot((e=>{He(e),_t(e)}),e)},stop(){ot((e=>{Ye(e),_t(e)}),e)},explode(t){!function(e,t){e.exploding={stage:1,keys:t},e.dom.redraw(),setTimeout((()=>{St(e,2),setTimeout((()=>St(e,void 0)),120)}),120)}(e,t)},setAutoShapes(t){ot((e=>e.drawable.autoShapes=t),e)},setShapes(t){ot((e=>e.drawable.shapes=t),e)},getKeyAtDomPos:t=>Qe(t,Ge(e),e.dom.bounds()),redrawAll:t,dragNewPiece(t,n,r){!function(e,t,n,r){const o="a0";e.pieces.set(o,t),e.dom.redraw();const i=be(n);e.draggable.current={orig:o,piece:t,origPos:i,pos:i,started:!0,element:()=>xt(e,o),originTarget:n.target,newPiece:!0,force:!!r,keyHasChanged:!1},bt(e)}(e,t,n,r)},destroy(){Ye(e),e.dom.unbind&&e.dom.unbind(),e.dom.destroyed=!0}}}(r(),r)}function Jt(e){let t=!1;return()=>{t||(t=!0,requestAnimationFrame((()=>{e(),t=!1})))}}const Vt="Let's simulate playing a game of chess! In this game, we will take turns saying our move, in the format: piece, start position, end position. Please separate the information only with a comma and do not say anything other than the three pieces of information I mentioned.";document.getElementById("resetBtn").addEventListener("click",(function(){document.getElementById("gpt_text").innerHTML="[ChatGPT response will show up here]",document.getElementById("hardBtn").disabled=!0,tn=["white","black"][Math.floor(2*Math.random())];const e=new j,t={movable:{color:"white",free:!1,dests:dn(e)},premovable:{enabled:!1,showDests:!0,castle:!0,dests:dn(e)}},n=Zt(document.getElementById("chessground"),t);n.set({movable:{events:{after:mn(n,e)}}}),"white"===tn?(n.toggleOrientation(),en=[{role:"user",content:Vt+" You will go first."}],vn().then((t=>bn(n,e,t[0].toLowerCase(),t[1].toLowerCase(),t[2].toLowerCase())))):(en=[{role:"user",content:Vt+" I will go first. Please confirm you understand."}],vn().then((e=>console.log(e))))})),document.getElementById("hardBtn").addEventListener("click",(function(){const e=document.getElementById("hardBtn"),t=document.getElementById("diff_label");e.classList.contains("on")?(e.classList.remove("on"),t.innerHTML="Difficulty: Easy",sn=.3,an=1200):(e.classList.add("on"),sn=1,an=1200,t.innerHTML="Difficulty: Hard"),console.log(sn)})),Zt(document.getElementById("chessground"),{viewOnly:!0});const Xt=new M.Configuration({apiKey:"pk-WkiGNtobhmAHtydNHszJqnXsfyliGYdvRZRqRBudaBUGmPad",basePath:"https://api.pawan.krd/v1"});let en=[];new M.OpenAIApi(Xt);let tn="n",nn=["K","Q","k","q"],rn="-",on=[0,1],sn=1,an=1200;const cn=document.getElementById("gpt_logo"),ln=new Image;function dn(e){const t=new Map;return u.forEach((n=>{const r=e.moves({square:n,verbose:!0});r.length&&t.set(n,r.map((e=>e.to)))})),t}function un(e,t){return t?"w"===e.turn()?"black":"white":"w"===e.turn()?"white":"black"}function hn(e){return new Map([["p","pawn"],["b","bishop"],["n","knight"],["r","rook"],["q","queen"],["k","king"]]).get(e)}function pn(e,t,n,r){if("k"===t.type)"w"===t.color&&""!==nn[0]?nn[0]="":"b"===t.color&&""!==nn[2]&&(nn[2]="");else if("r"===t.type)"w"===t.color?""!==nn[0]&&"h1"===n?nn[0]="":""!==nn[1]&&"a1"===n&&(nn[1]=""):""!==nn[2]&&"h8"===n?nn[2]="":""!==nn[3]&&"a8"===n&&(nn[3]="");else if("p"===t.type){const o=Number(r.charAt(1)),i=r.charAt(0);if(o-Number(n.charAt(1))>1){const n=4===o?-1:1,r={type:"p",color:"w"===t.color?"b":"w"};let s=[];"a"!==i&&s.push(String.fromCharCode(i.charCodeAt(0)-1)+o.toString()),"g"!==i&&s.push(String.fromCharCode(i.charCodeAt(0)+1)+o.toString());for(const t of s)e.get(t)===r&&(rn=i+(o+n).toString())}else rn="-"}null===e.get(r)?on[0]+=1:on[0]=0,"b"===e.turn()&&(on[1]+=1)}function fn(e,t){let n=nn.join("");return""===n&&(n="-"),[e,t.charAt(0),n,rn,on[0],on[1]].join(" ")}function gn(e,t,n=!1){e.set({movable:{free:!1}});let r="error";r=t.isCheckmate()?un(t,!0):n?"white":"black",document.getElementById("gpt_text").innerHTML="Game Over: "+r+" wins!",document.getElementById("hardBtn").disabled=!1}function mn(e,t){return(n,r)=>{const o=hn(t.get(n).type),i="white"===tn?"1":"8";"p"===o.charAt(0)&&r.charAt(1)===i&&e.setPieces(new Map([[r,{role:"queen",color:"white"===tn?"black":"white"}]])),pn(t,t.get(n),n,r),e.set({turnColor:un(t,!0)});let s=e.getFen();t.load(fn(s,un(t,!0)));let a="";t.isCheckmate()?gn(e,t):(t.isCheck()&&(a=". You are in check. Your valid moves are:\n"+function(e){let t=[];for(const n of e.moves({verbose:!0}))t.push(hn(n.piece)+", "+n.from+", "+n.to);return t.join("\n")}(t)+". Please choose one, sticking to the exact format specified of piece, start position, end position"),en.push({role:"user",content:o+", "+n+", "+r+a}),setTimeout((()=>{t.turn()===tn[0]&&vn().then((n=>bn(e,t,n[0].toLowerCase(),n[1].toLowerCase(),n[2].toLowerCase())))}),an))}}function bn(e,t,n,r,o){console.log("ChatGPT: "+n+" "+r+" "+o);const i={role:n,color:tn};e.setPieces(new Map([[r,i]])),e.move(r,o);const s="white"===tn?"8":"1";"p"===n.charAt(0)&&o.charAt(1)===s&&e.setPieces(new Map([[o,{role:"queen",color:tn}]])),e.set({turnColor:un(t,!0)});let a=e.getFen();1===(a.match(/k/g)||[]).length&&1===(a.match(/K/g)||[]).length?(pn(t,n,r,o),console.log(fn(a,un(t,!0))),t.load(fn(a,un(t,!0))),e.set({movable:{color:un(t,!1),dests:dn(t)}}),console.log(t.ascii()),t.isCheckmate()&&gn(e,t)):gn(e,t,1!==(a.match(/k/g)||[]).length)}async function vn(){const e=(await fetch("https://4oqfislme54sl6hrpqsv2qaxce0hytob.lambda-url.us-east-1.on.aws/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(en),cache:"default"})).json();console.log(e);const t=JSON.parse(e.data.choices[0].message);console.log(t.content),en.push(t);const n=t.content.match(/\w+/g);return null===n?"No valid response.":(r=t.content,document.getElementById("gpt_text").innerHTML=r,n);var r}ln.src=ee,cn.appendChild(ln)})(),(()=>{let e=document.querySelector(".intro"),t=document.querySelector("#exitBtn"),n=document.querySelectorAll(".logo"),r=document.querySelectorAll(".text");window.addEventListener("DOMContentLoaded",(()=>{setTimeout((()=>{n.forEach(((e,t)=>{setTimeout((()=>{e.classList.add("active")}),400*(t+1))})),n.forEach(((e,t)=>{setTimeout((()=>{e.classList.remove("active")}),50*(t+1))})),r.forEach(((e,t)=>{setTimeout((()=>{e.classList.add("active")}),1500)})),r.forEach(((e,t)=>{setTimeout((()=>{e.classList.remove("active")}),50)})),setTimeout((()=>{t.classList.add("active")}),1500),setTimeout((()=>{t.classList.remove("active")}),50)}))})),t.onclick=function(t){t.stopPropagation(),setTimeout((()=>{setTimeout((()=>{e.style.top="-100vh"}),100),setTimeout((()=>{e.style.visibility="hidden"}),500)}))}})()})();